(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();function Ec(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const Ie={},Ys=[],on=()=>{},Fh=()=>!1,la=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),wc=t=>t.startsWith("onUpdate:"),ze=Object.assign,Cc=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},xy=Object.prototype.hasOwnProperty,_e=(t,e)=>xy.call(t,e),W=Array.isArray,Js=t=>Ni(t)==="[object Map]",yr=t=>Ni(t)==="[object Set]",Xu=t=>Ni(t)==="[object Date]",ee=t=>typeof t=="function",Be=t=>typeof t=="string",$t=t=>typeof t=="symbol",we=t=>t!==null&&typeof t=="object",Uh=t=>(we(t)||ee(t))&&ee(t.then)&&ee(t.catch),Bh=Object.prototype.toString,Ni=t=>Bh.call(t),Py=t=>Ni(t).slice(8,-1),Vh=t=>Ni(t)==="[object Object]",ca=t=>Be(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Gr=Ec(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),ua=t=>{const e=Object.create(null);return(n=>e[n]||(e[n]=t(n)))},Ny=/-\w/g,Nt=ua(t=>t.replace(Ny,e=>e.slice(1).toUpperCase())),Oy=/\B([A-Z])/g,as=ua(t=>t.replace(Oy,"-$1").toLowerCase()),da=ua(t=>t.charAt(0).toUpperCase()+t.slice(1)),po=ua(t=>t?`on${da(t)}`:""),Jn=(t,e)=>!Object.is(t,e),mo=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},$h=(t,e,n,s=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:s,value:n})},fa=t=>{const e=parseFloat(t);return isNaN(e)?t:e},ky=t=>{const e=Be(t)?Number(t):NaN;return isNaN(e)?t:e};let Zu;const ha=()=>Zu||(Zu=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Oi(t){if(W(t)){const e={};for(let n=0;n<t.length;n++){const s=t[n],r=Be(s)?Fy(s):Oi(s);if(r)for(const i in r)e[i]=r[i]}return e}else if(Be(t)||we(t))return t}const Dy=/;(?![^(]*\))/g,My=/:([^]+)/,Ly=/\/\*[^]*?\*\//g;function Fy(t){const e={};return t.replace(Ly,"").split(Dy).forEach(n=>{if(n){const s=n.split(My);s.length>1&&(e[s[0].trim()]=s[1].trim())}}),e}function $e(t){let e="";if(Be(t))e=t;else if(W(t))for(let n=0;n<t.length;n++){const s=$e(t[n]);s&&(e+=s+" ")}else if(we(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const Uy="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",By=Ec(Uy);function Hh(t){return!!t||t===""}function Vy(t,e){if(t.length!==e.length)return!1;let n=!0;for(let s=0;n&&s<t.length;s++)n=Ts(t[s],e[s]);return n}function Ts(t,e){if(t===e)return!0;let n=Xu(t),s=Xu(e);if(n||s)return n&&s?t.getTime()===e.getTime():!1;if(n=$t(t),s=$t(e),n||s)return t===e;if(n=W(t),s=W(e),n||s)return n&&s?Vy(t,e):!1;if(n=we(t),s=we(e),n||s){if(!n||!s)return!1;const r=Object.keys(t).length,i=Object.keys(e).length;if(r!==i)return!1;for(const o in t){const a=t.hasOwnProperty(o),l=e.hasOwnProperty(o);if(a&&!l||!a&&l||!Ts(t[o],e[o]))return!1}}return String(t)===String(e)}function Ic(t,e){return t.findIndex(n=>Ts(n,e))}const Wh=t=>!!(t&&t.__v_isRef===!0),xe=t=>Be(t)?t:t==null?"":W(t)||we(t)&&(t.toString===Bh||!ee(t.toString))?Wh(t)?xe(t.value):JSON.stringify(t,jh,2):String(t),jh=(t,e)=>Wh(e)?jh(t,e.value):Js(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[s,r],i)=>(n[Ka(s,i)+" =>"]=r,n),{})}:yr(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>Ka(n))}:$t(e)?Ka(e):we(e)&&!W(e)&&!Vh(e)?String(e):e,Ka=(t,e="")=>{var n;return $t(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};let tt;class Gh{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=tt,!e&&tt&&(this.index=(tt.scopes||(tt.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=tt;try{return tt=this,e()}finally{tt=n}}}on(){++this._on===1&&(this.prevScope=tt,tt=this)}off(){this._on>0&&--this._on===0&&(tt=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(this.effects.length=0,n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0}}}function qh(t){return new Gh(t)}function zh(){return tt}function $y(t,e=!1){tt&&tt.cleanups.push(t)}let Te;const Ya=new WeakSet;class Kh{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,tt&&tt.active&&tt.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Ya.has(this)&&(Ya.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Jh(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,ed(this),Qh(this);const e=Te,n=Bt;Te=this,Bt=!0;try{return this.fn()}finally{Xh(this),Te=e,Bt=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)Rc(e);this.deps=this.depsTail=void 0,ed(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Ya.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Pl(this)&&this.run()}get dirty(){return Pl(this)}}let Yh=0,qr,zr;function Jh(t,e=!1){if(t.flags|=8,e){t.next=zr,zr=t;return}t.next=qr,qr=t}function Sc(){Yh++}function Tc(){if(--Yh>0)return;if(zr){let e=zr;for(zr=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;qr;){let e=qr;for(qr=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(s){t||(t=s)}e=n}}if(t)throw t}function Qh(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function Xh(t){let e,n=t.depsTail,s=n;for(;s;){const r=s.prevDep;s.version===-1?(s===n&&(n=r),Rc(s),Hy(s)):e=s,s.dep.activeLink=s.prevActiveLink,s.prevActiveLink=void 0,s=r}t.deps=e,t.depsTail=n}function Pl(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(Zh(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function Zh(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===ai)||(t.globalVersion=ai,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!Pl(t))))return;t.flags|=2;const e=t.dep,n=Te,s=Bt;Te=t,Bt=!0;try{Qh(t);const r=t.fn(t._value);(e.version===0||Jn(r,t._value))&&(t.flags|=128,t._value=r,e.version++)}catch(r){throw e.version++,r}finally{Te=n,Bt=s,Xh(t),t.flags&=-3}}function Rc(t,e=!1){const{dep:n,prevSub:s,nextSub:r}=t;if(s&&(s.nextSub=r,t.prevSub=void 0),r&&(r.prevSub=s,t.nextSub=void 0),n.subs===t&&(n.subs=s,!s&&n.computed)){n.computed.flags&=-5;for(let i=n.computed.deps;i;i=i.nextDep)Rc(i,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function Hy(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}let Bt=!0;const ep=[];function Rn(){ep.push(Bt),Bt=!1}function An(){const t=ep.pop();Bt=t===void 0?!0:t}function ed(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=Te;Te=void 0;try{e()}finally{Te=n}}}let ai=0;class Wy{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Ac{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!Te||!Bt||Te===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Te)n=this.activeLink=new Wy(Te,this),Te.deps?(n.prevDep=Te.depsTail,Te.depsTail.nextDep=n,Te.depsTail=n):Te.deps=Te.depsTail=n,tp(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const s=n.nextDep;s.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=s),n.prevDep=Te.depsTail,n.nextDep=void 0,Te.depsTail.nextDep=n,Te.depsTail=n,Te.deps===n&&(Te.deps=s)}return n}trigger(e){this.version++,ai++,this.notify(e)}notify(e){Sc();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{Tc()}}}function tp(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let s=e.deps;s;s=s.nextDep)tp(s)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const Ao=new WeakMap,Cs=Symbol(""),Nl=Symbol(""),li=Symbol("");function nt(t,e,n){if(Bt&&Te){let s=Ao.get(t);s||Ao.set(t,s=new Map);let r=s.get(n);r||(s.set(n,r=new Ac),r.map=s,r.key=n),r.track()}}function mn(t,e,n,s,r,i){const o=Ao.get(t);if(!o){ai++;return}const a=l=>{l&&l.trigger()};if(Sc(),e==="clear")o.forEach(a);else{const l=W(t),c=l&&ca(n);if(l&&n==="length"){const u=Number(s);o.forEach((d,f)=>{(f==="length"||f===li||!$t(f)&&f>=u)&&a(d)})}else switch((n!==void 0||o.has(void 0))&&a(o.get(n)),c&&a(o.get(li)),e){case"add":l?c&&a(o.get("length")):(a(o.get(Cs)),Js(t)&&a(o.get(Nl)));break;case"delete":l||(a(o.get(Cs)),Js(t)&&a(o.get(Nl)));break;case"set":Js(t)&&a(o.get(Cs));break}}Tc()}function jy(t,e){const n=Ao.get(t);return n&&n.get(e)}function Bs(t){const e=pe(t);return e===t?e:(nt(e,"iterate",li),Ct(t)?e:e.map(Ht))}function pa(t){return nt(t=pe(t),"iterate",li),t}function $n(t,e){return xn(t)?wn(t)?rr(Ht(e)):rr(e):Ht(e)}const Gy={__proto__:null,[Symbol.iterator](){return Ja(this,Symbol.iterator,t=>$n(this,t))},concat(...t){return Bs(this).concat(...t.map(e=>W(e)?Bs(e):e))},entries(){return Ja(this,"entries",t=>(t[1]=$n(this,t[1]),t))},every(t,e){return fn(this,"every",t,e,void 0,arguments)},filter(t,e){return fn(this,"filter",t,e,n=>n.map(s=>$n(this,s)),arguments)},find(t,e){return fn(this,"find",t,e,n=>$n(this,n),arguments)},findIndex(t,e){return fn(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return fn(this,"findLast",t,e,n=>$n(this,n),arguments)},findLastIndex(t,e){return fn(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return fn(this,"forEach",t,e,void 0,arguments)},includes(...t){return Qa(this,"includes",t)},indexOf(...t){return Qa(this,"indexOf",t)},join(t){return Bs(this).join(t)},lastIndexOf(...t){return Qa(this,"lastIndexOf",t)},map(t,e){return fn(this,"map",t,e,void 0,arguments)},pop(){return kr(this,"pop")},push(...t){return kr(this,"push",t)},reduce(t,...e){return td(this,"reduce",t,e)},reduceRight(t,...e){return td(this,"reduceRight",t,e)},shift(){return kr(this,"shift")},some(t,e){return fn(this,"some",t,e,void 0,arguments)},splice(...t){return kr(this,"splice",t)},toReversed(){return Bs(this).toReversed()},toSorted(t){return Bs(this).toSorted(t)},toSpliced(...t){return Bs(this).toSpliced(...t)},unshift(...t){return kr(this,"unshift",t)},values(){return Ja(this,"values",t=>$n(this,t))}};function Ja(t,e,n){const s=pa(t),r=s[e]();return s!==t&&!Ct(t)&&(r._next=r.next,r.next=()=>{const i=r._next();return i.done||(i.value=n(i.value)),i}),r}const qy=Array.prototype;function fn(t,e,n,s,r,i){const o=pa(t),a=o!==t&&!Ct(t),l=o[e];if(l!==qy[e]){const d=l.apply(t,i);return a?Ht(d):d}let c=n;o!==t&&(a?c=function(d,f){return n.call(this,$n(t,d),f,t)}:n.length>2&&(c=function(d,f){return n.call(this,d,f,t)}));const u=l.call(o,c,s);return a&&r?r(u):u}function td(t,e,n,s){const r=pa(t);let i=n;return r!==t&&(Ct(t)?n.length>3&&(i=function(o,a,l){return n.call(this,o,a,l,t)}):i=function(o,a,l){return n.call(this,o,$n(t,a),l,t)}),r[e](i,...s)}function Qa(t,e,n){const s=pe(t);nt(s,"iterate",li);const r=s[e](...n);return(r===-1||r===!1)&&ma(n[0])?(n[0]=pe(n[0]),s[e](...n)):r}function kr(t,e,n=[]){Rn(),Sc();const s=pe(t)[e].apply(t,n);return Tc(),An(),s}const zy=Ec("__proto__,__v_isRef,__isVue"),np=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter($t));function Ky(t){$t(t)||(t=String(t));const e=pe(this);return nt(e,"has",t),e.hasOwnProperty(t)}class sp{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,s){if(n==="__v_skip")return e.__v_skip;const r=this._isReadonly,i=this._isShallow;if(n==="__v_isReactive")return!r;if(n==="__v_isReadonly")return r;if(n==="__v_isShallow")return i;if(n==="__v_raw")return s===(r?i?rv:ap:i?op:ip).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(s)?e:void 0;const o=W(e);if(!r){let l;if(o&&(l=Gy[n]))return l;if(n==="hasOwnProperty")return Ky}const a=Reflect.get(e,n,Ue(e)?e:s);if(($t(n)?np.has(n):zy(n))||(r||nt(e,"get",n),i))return a;if(Ue(a)){const l=o&&ca(n)?a:a.value;return r&&we(l)?xo(l):l}return we(a)?r?xo(a):ki(a):a}}class rp extends sp{constructor(e=!1){super(!1,e)}set(e,n,s,r){let i=e[n];const o=W(e)&&ca(n);if(!this._isShallow){const c=xn(i);if(!Ct(s)&&!xn(s)&&(i=pe(i),s=pe(s)),!o&&Ue(i)&&!Ue(s))return c||(i.value=s),!0}const a=o?Number(n)<e.length:_e(e,n),l=Reflect.set(e,n,s,Ue(e)?e:r);return e===pe(r)&&(a?Jn(s,i)&&mn(e,"set",n,s):mn(e,"add",n,s)),l}deleteProperty(e,n){const s=_e(e,n);e[n];const r=Reflect.deleteProperty(e,n);return r&&s&&mn(e,"delete",n,void 0),r}has(e,n){const s=Reflect.has(e,n);return(!$t(n)||!np.has(n))&&nt(e,"has",n),s}ownKeys(e){return nt(e,"iterate",W(e)?"length":Cs),Reflect.ownKeys(e)}}class Yy extends sp{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const Jy=new rp,Qy=new Yy,Xy=new rp(!0);const Ol=t=>t,no=t=>Reflect.getPrototypeOf(t);function Zy(t,e,n){return function(...s){const r=this.__v_raw,i=pe(r),o=Js(i),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,c=r[t](...s),u=n?Ol:e?rr:Ht;return!e&&nt(i,"iterate",l?Nl:Cs),{next(){const{value:d,done:f}=c.next();return f?{value:d,done:f}:{value:a?[u(d[0]),u(d[1])]:u(d),done:f}},[Symbol.iterator](){return this}}}}function so(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function ev(t,e){const n={get(r){const i=this.__v_raw,o=pe(i),a=pe(r);t||(Jn(r,a)&&nt(o,"get",r),nt(o,"get",a));const{has:l}=no(o),c=e?Ol:t?rr:Ht;if(l.call(o,r))return c(i.get(r));if(l.call(o,a))return c(i.get(a));i!==o&&i.get(r)},get size(){const r=this.__v_raw;return!t&&nt(pe(r),"iterate",Cs),r.size},has(r){const i=this.__v_raw,o=pe(i),a=pe(r);return t||(Jn(r,a)&&nt(o,"has",r),nt(o,"has",a)),r===a?i.has(r):i.has(r)||i.has(a)},forEach(r,i){const o=this,a=o.__v_raw,l=pe(a),c=e?Ol:t?rr:Ht;return!t&&nt(l,"iterate",Cs),a.forEach((u,d)=>r.call(i,c(u),c(d),o))}};return ze(n,t?{add:so("add"),set:so("set"),delete:so("delete"),clear:so("clear")}:{add(r){!e&&!Ct(r)&&!xn(r)&&(r=pe(r));const i=pe(this);return no(i).has.call(i,r)||(i.add(r),mn(i,"add",r,r)),this},set(r,i){!e&&!Ct(i)&&!xn(i)&&(i=pe(i));const o=pe(this),{has:a,get:l}=no(o);let c=a.call(o,r);c||(r=pe(r),c=a.call(o,r));const u=l.call(o,r);return o.set(r,i),c?Jn(i,u)&&mn(o,"set",r,i):mn(o,"add",r,i),this},delete(r){const i=pe(this),{has:o,get:a}=no(i);let l=o.call(i,r);l||(r=pe(r),l=o.call(i,r)),a&&a.call(i,r);const c=i.delete(r);return l&&mn(i,"delete",r,void 0),c},clear(){const r=pe(this),i=r.size!==0,o=r.clear();return i&&mn(r,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(r=>{n[r]=Zy(r,t,e)}),n}function xc(t,e){const n=ev(t,e);return(s,r,i)=>r==="__v_isReactive"?!t:r==="__v_isReadonly"?t:r==="__v_raw"?s:Reflect.get(_e(n,r)&&r in s?n:s,r,i)}const tv={get:xc(!1,!1)},nv={get:xc(!1,!0)},sv={get:xc(!0,!1)};const ip=new WeakMap,op=new WeakMap,ap=new WeakMap,rv=new WeakMap;function iv(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function ov(t){return t.__v_skip||!Object.isExtensible(t)?0:iv(Py(t))}function ki(t){return xn(t)?t:Pc(t,!1,Jy,tv,ip)}function lp(t){return Pc(t,!1,Xy,nv,op)}function xo(t){return Pc(t,!0,Qy,sv,ap)}function Pc(t,e,n,s,r){if(!we(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=ov(t);if(i===0)return t;const o=r.get(t);if(o)return o;const a=new Proxy(t,i===2?s:n);return r.set(t,a),a}function wn(t){return xn(t)?wn(t.__v_raw):!!(t&&t.__v_isReactive)}function xn(t){return!!(t&&t.__v_isReadonly)}function Ct(t){return!!(t&&t.__v_isShallow)}function ma(t){return t?!!t.__v_raw:!1}function pe(t){const e=t&&t.__v_raw;return e?pe(e):t}function Nc(t){return!_e(t,"__v_skip")&&Object.isExtensible(t)&&$h(t,"__v_skip",!0),t}const Ht=t=>we(t)?ki(t):t,rr=t=>we(t)?xo(t):t;function Ue(t){return t?t.__v_isRef===!0:!1}function Pe(t){return cp(t,!1)}function Oc(t){return cp(t,!0)}function cp(t,e){return Ue(t)?t:new av(t,e)}class av{constructor(e,n){this.dep=new Ac,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:pe(e),this._value=n?e:Ht(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,s=this.__v_isShallow||Ct(e)||xn(e);e=s?e:pe(e),Jn(e,n)&&(this._rawValue=e,this._value=s?e:Ht(e),this.dep.trigger())}}function w(t){return Ue(t)?t.value:t}const lv={get:(t,e,n)=>e==="__v_raw"?t:w(Reflect.get(t,e,n)),set:(t,e,n,s)=>{const r=t[e];return Ue(r)&&!Ue(n)?(r.value=n,!0):Reflect.set(t,e,n,s)}};function up(t){return wn(t)?t:new Proxy(t,lv)}function cv(t){const e=W(t)?new Array(t.length):{};for(const n in t)e[n]=dv(t,n);return e}class uv{constructor(e,n,s){this._object=e,this._key=n,this._defaultValue=s,this.__v_isRef=!0,this._value=void 0,this._raw=pe(e);let r=!0,i=e;if(!W(e)||!ca(String(n)))do r=!ma(i)||Ct(i);while(r&&(i=i.__v_raw));this._shallow=r}get value(){let e=this._object[this._key];return this._shallow&&(e=w(e)),this._value=e===void 0?this._defaultValue:e}set value(e){if(this._shallow&&Ue(this._raw[this._key])){const n=this._object[this._key];if(Ue(n)){n.value=e;return}}this._object[this._key]=e}get dep(){return jy(this._raw,this._key)}}function dv(t,e,n){return new uv(t,e,n)}class fv{constructor(e,n,s){this.fn=e,this.setter=n,this._value=void 0,this.dep=new Ac(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=ai-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=s}notify(){if(this.flags|=16,!(this.flags&8)&&Te!==this)return Jh(this,!0),!0}get value(){const e=this.dep.track();return Zh(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function hv(t,e,n=!1){let s,r;return ee(t)?s=t:(s=t.get,r=t.set),new fv(s,r,n)}const ro={},Po=new WeakMap;let ms;function pv(t,e=!1,n=ms){if(n){let s=Po.get(n);s||Po.set(n,s=[]),s.push(t)}}function mv(t,e,n=Ie){const{immediate:s,deep:r,once:i,scheduler:o,augmentJob:a,call:l}=n,c=N=>r?N:Ct(N)||r===!1||r===0?gn(N,1):gn(N);let u,d,f,h,m=!1,v=!1;if(Ue(t)?(d=()=>t.value,m=Ct(t)):wn(t)?(d=()=>c(t),m=!0):W(t)?(v=!0,m=t.some(N=>wn(N)||Ct(N)),d=()=>t.map(N=>{if(Ue(N))return N.value;if(wn(N))return c(N);if(ee(N))return l?l(N,2):N()})):ee(t)?e?d=l?()=>l(t,2):t:d=()=>{if(f){Rn();try{f()}finally{An()}}const N=ms;ms=u;try{return l?l(t,3,[h]):t(h)}finally{ms=N}}:d=on,e&&r){const N=d,U=r===!0?1/0:r;d=()=>gn(N(),U)}const _=zh(),E=()=>{u.stop(),_&&_.active&&Cc(_.effects,u)};if(i&&e){const N=e;e=(...U)=>{N(...U),E()}}let A=v?new Array(t.length).fill(ro):ro;const I=N=>{if(!(!(u.flags&1)||!u.dirty&&!N))if(e){const U=u.run();if(r||m||(v?U.some((ne,q)=>Jn(ne,A[q])):Jn(U,A))){f&&f();const ne=ms;ms=u;try{const q=[U,A===ro?void 0:v&&A[0]===ro?[]:A,h];A=U,l?l(e,3,q):e(...q)}finally{ms=ne}}}else u.run()};return a&&a(I),u=new Kh(d),u.scheduler=o?()=>o(I,!1):I,h=N=>pv(N,!1,u),f=u.onStop=()=>{const N=Po.get(u);if(N){if(l)l(N,4);else for(const U of N)U();Po.delete(u)}},e?s?I(!0):A=u.run():o?o(I.bind(null,!0),!0):u.run(),E.pause=u.pause.bind(u),E.resume=u.resume.bind(u),E.stop=E,E}function gn(t,e=1/0,n){if(e<=0||!we(t)||t.__v_skip||(n=n||new Map,(n.get(t)||0)>=e))return t;if(n.set(t,e),e--,Ue(t))gn(t.value,e,n);else if(W(t))for(let s=0;s<t.length;s++)gn(t[s],e,n);else if(yr(t)||Js(t))t.forEach(s=>{gn(s,e,n)});else if(Vh(t)){for(const s in t)gn(t[s],e,n);for(const s of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,s)&&gn(t[s],e,n)}return t}function Di(t,e,n,s){try{return s?t(...s):t()}catch(r){ga(r,e,n)}}function Wt(t,e,n,s){if(ee(t)){const r=Di(t,e,n,s);return r&&Uh(r)&&r.catch(i=>{ga(i,e,n)}),r}if(W(t)){const r=[];for(let i=0;i<t.length;i++)r.push(Wt(t[i],e,n,s));return r}}function ga(t,e,n,s=!0){const r=e?e.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||Ie;if(e){let a=e.parent;const l=e.proxy,c=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const u=a.ec;if(u){for(let d=0;d<u.length;d++)if(u[d](t,l,c)===!1)return}a=a.parent}if(i){Rn(),Di(i,null,10,[t,l,c]),An();return}}gv(t,n,r,s,o)}function gv(t,e,n,s=!0,r=!1){if(r)throw t;console.error(t)}const at=[];let sn=-1;const Qs=[];let Hn=null,js=0;const dp=Promise.resolve();let No=null;function Mi(t){const e=No||dp;return t?e.then(this?t.bind(this):t):e}function _v(t){let e=sn+1,n=at.length;for(;e<n;){const s=e+n>>>1,r=at[s],i=ci(r);i<t||i===t&&r.flags&2?e=s+1:n=s}return e}function kc(t){if(!(t.flags&1)){const e=ci(t),n=at[at.length-1];!n||!(t.flags&2)&&e>=ci(n)?at.push(t):at.splice(_v(e),0,t),t.flags|=1,fp()}}function fp(){No||(No=dp.then(pp))}function yv(t){W(t)?Qs.push(...t):Hn&&t.id===-1?Hn.splice(js+1,0,t):t.flags&1||(Qs.push(t),t.flags|=1),fp()}function nd(t,e,n=sn+1){for(;n<at.length;n++){const s=at[n];if(s&&s.flags&2){if(t&&s.id!==t.uid)continue;at.splice(n,1),n--,s.flags&4&&(s.flags&=-2),s(),s.flags&4||(s.flags&=-2)}}}function hp(t){if(Qs.length){const e=[...new Set(Qs)].sort((n,s)=>ci(n)-ci(s));if(Qs.length=0,Hn){Hn.push(...e);return}for(Hn=e,js=0;js<Hn.length;js++){const n=Hn[js];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Hn=null,js=0}}const ci=t=>t.id==null?t.flags&2?-1:1/0:t.id;function pp(t){try{for(sn=0;sn<at.length;sn++){const e=at[sn];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),Di(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;sn<at.length;sn++){const e=at[sn];e&&(e.flags&=-2)}sn=-1,at.length=0,hp(),No=null,(at.length||Qs.length)&&pp()}}let Ze=null,mp=null;function Oo(t){const e=Ze;return Ze=t,mp=t&&t.type.__scopeId||null,e}function _t(t,e=Ze,n){if(!e||t._n)return t;const s=(...r)=>{s._d&&Mo(-1);const i=Oo(e);let o;try{o=t(...r)}finally{Oo(i),s._d&&Mo(1)}return o};return s._n=!0,s._c=!0,s._d=!0,s}function _n(t,e){if(Ze===null)return t;const n=wa(Ze),s=t.dirs||(t.dirs=[]);for(let r=0;r<e.length;r++){let[i,o,a,l=Ie]=e[r];i&&(ee(i)&&(i={mounted:i,updated:i}),i.deep&&gn(o),s.push({dir:i,instance:n,value:o,oldValue:void 0,arg:a,modifiers:l}))}return t}function fs(t,e,n,s){const r=t.dirs,i=e&&e.dirs;for(let o=0;o<r.length;o++){const a=r[o];i&&(a.oldValue=i[o].value);let l=a.dir[s];l&&(Rn(),Wt(l,n,8,[t.el,a,t,e]),An())}}const vv=Symbol("_vte"),bv=t=>t.__isTeleport,gs=Symbol("_leaveCb"),io=Symbol("_enterCb");function Ev(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Li(()=>{t.isMounted=!0}),Ep(()=>{t.isUnmounting=!0}),t}const Rt=[Function,Array],wv={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Rt,onEnter:Rt,onAfterEnter:Rt,onEnterCancelled:Rt,onBeforeLeave:Rt,onLeave:Rt,onAfterLeave:Rt,onLeaveCancelled:Rt,onBeforeAppear:Rt,onAppear:Rt,onAfterAppear:Rt,onAppearCancelled:Rt};function Cv(t,e){const{leavingVNodes:n}=t;let s=n.get(e.type);return s||(s=Object.create(null),n.set(e.type,s)),s}function kl(t,e,n,s,r){const{appear:i,mode:o,persisted:a=!1,onBeforeEnter:l,onEnter:c,onAfterEnter:u,onEnterCancelled:d,onBeforeLeave:f,onLeave:h,onAfterLeave:m,onLeaveCancelled:v,onBeforeAppear:_,onAppear:E,onAfterAppear:A,onAppearCancelled:I}=e,N=String(t.key),U=Cv(n,t),ne=(O,Y)=>{O&&Wt(O,s,9,Y)},q=(O,Y)=>{const ue=Y[1];ne(O,Y),W(O)?O.every(L=>L.length<=1)&&ue():O.length<=1&&ue()},K={mode:o,persisted:a,beforeEnter(O){let Y=l;if(!n.isMounted)if(i)Y=_||l;else return;O[gs]&&O[gs](!0);const ue=U[N];ue&&Gs(t,ue)&&ue.el[gs]&&ue.el[gs](),ne(Y,[O])},enter(O){let Y=c,ue=u,L=d;if(!n.isMounted)if(i)Y=E||c,ue=A||u,L=I||d;else return;let se=!1;const be=O[io]=Ke=>{se||(se=!0,Ke?ne(L,[O]):ne(ue,[O]),K.delayedLeave&&K.delayedLeave(),O[io]=void 0)};Y?q(Y,[O,be]):be()},leave(O,Y){const ue=String(t.key);if(O[io]&&O[io](!0),n.isUnmounting)return Y();ne(f,[O]);let L=!1;const se=O[gs]=be=>{L||(L=!0,Y(),be?ne(v,[O]):ne(m,[O]),O[gs]=void 0,U[ue]===t&&delete U[ue])};U[ue]=t,h?q(h,[O,se]):se()},clone(O){return kl(O,e,n,s)}};return K}function ui(t,e){t.shapeFlag&6&&t.component?(t.transition=e,ui(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function gp(t,e=!1,n){let s=[],r=0;for(let i=0;i<t.length;i++){let o=t[i];const a=n==null?o.key:String(n)+String(o.key!=null?o.key:i);o.type===Ne?(o.patchFlag&128&&r++,s=s.concat(gp(o.children,e,a))):(e||o.type!==un)&&s.push(a!=null?Rs(o,{key:a}):o)}if(r>1)for(let i=0;i<s.length;i++)s[i].patchFlag=-2;return s}function ke(t,e){return ee(t)?ze({name:t.name},e,{setup:t}):t}function _p(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}const ko=new WeakMap;function Kr(t,e,n,s,r=!1){if(W(t)){t.forEach((m,v)=>Kr(m,e&&(W(e)?e[v]:e),n,s,r));return}if(Xs(s)&&!r){s.shapeFlag&512&&s.type.__asyncResolved&&s.component.subTree.component&&Kr(t,e,n,s.component.subTree);return}const i=s.shapeFlag&4?wa(s.component):s.el,o=r?null:i,{i:a,r:l}=t,c=e&&e.r,u=a.refs===Ie?a.refs={}:a.refs,d=a.setupState,f=pe(d),h=d===Ie?Fh:m=>_e(f,m);if(c!=null&&c!==l){if(sd(e),Be(c))u[c]=null,h(c)&&(d[c]=null);else if(Ue(c)){c.value=null;const m=e;m.k&&(u[m.k]=null)}}if(ee(l))Di(l,a,12,[o,u]);else{const m=Be(l),v=Ue(l);if(m||v){const _=()=>{if(t.f){const E=m?h(l)?d[l]:u[l]:l.value;if(r)W(E)&&Cc(E,i);else if(W(E))E.includes(i)||E.push(i);else if(m)u[l]=[i],h(l)&&(d[l]=u[l]);else{const A=[i];l.value=A,t.k&&(u[t.k]=A)}}else m?(u[l]=o,h(l)&&(d[l]=o)):v&&(l.value=o,t.k&&(u[t.k]=o))};if(o){const E=()=>{_(),ko.delete(t)};E.id=-1,ko.set(t,E),vt(E,n)}else sd(t),_()}}}function sd(t){const e=ko.get(t);e&&(e.flags|=8,ko.delete(t))}ha().requestIdleCallback;ha().cancelIdleCallback;const Xs=t=>!!t.type.__asyncLoader,yp=t=>t.type.__isKeepAlive;function Iv(t,e){vp(t,"a",e)}function Sv(t,e){vp(t,"da",e)}function vp(t,e,n=st){const s=t.__wdc||(t.__wdc=()=>{let r=n;for(;r;){if(r.isDeactivated)return;r=r.parent}return t()});if(_a(e,s,n),n){let r=n.parent;for(;r&&r.parent;)yp(r.parent.vnode)&&Tv(s,e,n,r),r=r.parent}}function Tv(t,e,n,s){const r=_a(e,t,s,!0);Dc(()=>{Cc(s[e],r)},n)}function _a(t,e,n=st,s=!1){if(n){const r=n[t]||(n[t]=[]),i=e.__weh||(e.__weh=(...o)=>{Rn();const a=Fi(n),l=Wt(e,n,t,o);return a(),An(),l});return s?r.unshift(i):r.push(i),i}}const kn=t=>(e,n=st)=>{(!pi||t==="sp")&&_a(t,(...s)=>e(...s),n)},Rv=kn("bm"),Li=kn("m"),Av=kn("bu"),bp=kn("u"),Ep=kn("bum"),Dc=kn("um"),xv=kn("sp"),Pv=kn("rtg"),Nv=kn("rtc");function Ov(t,e=st){_a("ec",t,e)}const Mc="components",kv="directives";function Qn(t,e){return Fc(Mc,t,!0,e)||t}const wp=Symbol.for("v-ndc");function Lc(t){return Be(t)?Fc(Mc,t,!1)||t:t||wp}function Cp(t){return Fc(kv,t)}function Fc(t,e,n=!0,s=!1){const r=Ze||st;if(r){const i=r.type;if(t===Mc){const a=Eb(i,!1);if(a&&(a===e||a===Nt(e)||a===da(Nt(e))))return i}const o=rd(r[t]||i[t],e)||rd(r.appContext[t],e);return!o&&s?i:o}}function rd(t,e){return t&&(t[e]||t[Nt(e)]||t[da(Nt(e))])}function di(t,e,n,s){let r;const i=n,o=W(t);if(o||Be(t)){const a=o&&wn(t);let l=!1,c=!1;a&&(l=!Ct(t),c=xn(t),t=pa(t)),r=new Array(t.length);for(let u=0,d=t.length;u<d;u++)r[u]=e(l?c?rr(Ht(t[u])):Ht(t[u]):t[u],u,void 0,i)}else if(typeof t=="number"){r=new Array(t);for(let a=0;a<t;a++)r[a]=e(a+1,a,void 0,i)}else if(we(t))if(t[Symbol.iterator])r=Array.from(t,(a,l)=>e(a,l,void 0,i));else{const a=Object.keys(t);r=new Array(a.length);for(let l=0,c=a.length;l<c;l++){const u=a[l];r[l]=e(t[u],u,l,i)}}else r=[];return r}function Uc(t,e,n={},s,r){if(Ze.ce||Ze.parent&&Xs(Ze.parent)&&Ze.parent.ce){const c=Object.keys(n).length>0;return H(),Le(Ne,null,[ye("slot",n,s)],c?-2:64)}let i=t[e];i&&i._c&&(i._d=!1),H();const o=i&&Ip(i(n)),a=n.key||o&&o.key,l=Le(Ne,{key:(a&&!$t(a)?a:`_${e}`)+(!o&&s?"_fb":"")},o||[],o&&t._===1?64:-2);return l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),i&&i._c&&(i._d=!0),l}function Ip(t){return t.some(e=>hi(e)?!(e.type===un||e.type===Ne&&!Ip(e.children)):!0)?t:null}function Dv(t,e){const n={};for(const s in t)n[po(s)]=t[s];return n}const Dl=t=>t?jp(t)?wa(t):Dl(t.parent):null,Yr=ze(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Dl(t.parent),$root:t=>Dl(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>Tp(t),$forceUpdate:t=>t.f||(t.f=()=>{kc(t.update)}),$nextTick:t=>t.n||(t.n=Mi.bind(t.proxy)),$watch:t=>qv.bind(t)}),Xa=(t,e)=>t!==Ie&&!t.__isScriptSetup&&_e(t,e),Mv={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:s,data:r,props:i,accessCache:o,type:a,appContext:l}=t;if(e[0]!=="$"){const f=o[e];if(f!==void 0)switch(f){case 1:return s[e];case 2:return r[e];case 4:return n[e];case 3:return i[e]}else{if(Xa(s,e))return o[e]=1,s[e];if(r!==Ie&&_e(r,e))return o[e]=2,r[e];if(_e(i,e))return o[e]=3,i[e];if(n!==Ie&&_e(n,e))return o[e]=4,n[e];Ml&&(o[e]=0)}}const c=Yr[e];let u,d;if(c)return e==="$attrs"&&nt(t.attrs,"get",""),c(t);if((u=a.__cssModules)&&(u=u[e]))return u;if(n!==Ie&&_e(n,e))return o[e]=4,n[e];if(d=l.config.globalProperties,_e(d,e))return d[e]},set({_:t},e,n){const{data:s,setupState:r,ctx:i}=t;return Xa(r,e)?(r[e]=n,!0):s!==Ie&&_e(s,e)?(s[e]=n,!0):_e(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:s,appContext:r,props:i,type:o}},a){let l;return!!(n[a]||t!==Ie&&a[0]!=="$"&&_e(t,a)||Xa(e,a)||_e(i,a)||_e(s,a)||_e(Yr,a)||_e(r.config.globalProperties,a)||(l=o.__cssModules)&&l[a])},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:_e(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function id(t){return W(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let Ml=!0;function Lv(t){const e=Tp(t),n=t.proxy,s=t.ctx;Ml=!1,e.beforeCreate&&od(e.beforeCreate,t,"bc");const{data:r,computed:i,methods:o,watch:a,provide:l,inject:c,created:u,beforeMount:d,mounted:f,beforeUpdate:h,updated:m,activated:v,deactivated:_,beforeDestroy:E,beforeUnmount:A,destroyed:I,unmounted:N,render:U,renderTracked:ne,renderTriggered:q,errorCaptured:K,serverPrefetch:O,expose:Y,inheritAttrs:ue,components:L,directives:se,filters:be}=e;if(c&&Fv(c,s,null),o)for(const Z in o){const re=o[Z];ee(re)&&(s[Z]=re.bind(n))}if(r){const Z=r.call(n,n);we(Z)&&(t.data=ki(Z))}if(Ml=!0,i)for(const Z in i){const re=i[Z],St=ee(re)?re.bind(n,n):ee(re.get)?re.get.bind(n,n):on,zt=!ee(re)&&ee(re.set)?re.set.bind(n):on,We=le({get:St,set:zt});Object.defineProperty(s,Z,{enumerable:!0,configurable:!0,get:()=>We.value,set:Ve=>We.value=Ve})}if(a)for(const Z in a)Sp(a[Z],s,n,Z);if(l){const Z=ee(l)?l.call(n):l;Reflect.ownKeys(Z).forEach(re=>{go(re,Z[re])})}u&&od(u,t,"c");function ie(Z,re){W(re)?re.forEach(St=>Z(St.bind(n))):re&&Z(re.bind(n))}if(ie(Rv,d),ie(Li,f),ie(Av,h),ie(bp,m),ie(Iv,v),ie(Sv,_),ie(Ov,K),ie(Nv,ne),ie(Pv,q),ie(Ep,A),ie(Dc,N),ie(xv,O),W(Y))if(Y.length){const Z=t.exposed||(t.exposed={});Y.forEach(re=>{Object.defineProperty(Z,re,{get:()=>n[re],set:St=>n[re]=St,enumerable:!0})})}else t.exposed||(t.exposed={});U&&t.render===on&&(t.render=U),ue!=null&&(t.inheritAttrs=ue),L&&(t.components=L),se&&(t.directives=se),O&&_p(t)}function Fv(t,e,n=on){W(t)&&(t=Ll(t));for(const s in t){const r=t[s];let i;we(r)?"default"in r?i=It(r.from||s,r.default,!0):i=It(r.from||s):i=It(r),Ue(i)?Object.defineProperty(e,s,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):e[s]=i}}function od(t,e,n){Wt(W(t)?t.map(s=>s.bind(e.proxy)):t.bind(e.proxy),e,n)}function Sp(t,e,n,s){let r=s.includes(".")?xp(n,s):()=>n[s];if(Be(t)){const i=e[t];ee(i)&&Cn(r,i)}else if(ee(t))Cn(r,t.bind(n));else if(we(t))if(W(t))t.forEach(i=>Sp(i,e,n,s));else{const i=ee(t.handler)?t.handler.bind(n):e[t.handler];ee(i)&&Cn(r,i,t)}}function Tp(t){const e=t.type,{mixins:n,extends:s}=e,{mixins:r,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,a=i.get(e);let l;return a?l=a:!r.length&&!n&&!s?l=e:(l={},r.length&&r.forEach(c=>Do(l,c,o,!0)),Do(l,e,o)),we(e)&&i.set(e,l),l}function Do(t,e,n,s=!1){const{mixins:r,extends:i}=e;i&&Do(t,i,n,!0),r&&r.forEach(o=>Do(t,o,n,!0));for(const o in e)if(!(s&&o==="expose")){const a=Uv[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const Uv={data:ad,props:ld,emits:ld,methods:Hr,computed:Hr,beforeCreate:it,created:it,beforeMount:it,mounted:it,beforeUpdate:it,updated:it,beforeDestroy:it,beforeUnmount:it,destroyed:it,unmounted:it,activated:it,deactivated:it,errorCaptured:it,serverPrefetch:it,components:Hr,directives:Hr,watch:Vv,provide:ad,inject:Bv};function ad(t,e){return e?t?function(){return ze(ee(t)?t.call(this,this):t,ee(e)?e.call(this,this):e)}:e:t}function Bv(t,e){return Hr(Ll(t),Ll(e))}function Ll(t){if(W(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function it(t,e){return t?[...new Set([].concat(t,e))]:e}function Hr(t,e){return t?ze(Object.create(null),t,e):e}function ld(t,e){return t?W(t)&&W(e)?[...new Set([...t,...e])]:ze(Object.create(null),id(t),id(e??{})):e}function Vv(t,e){if(!t)return e;if(!e)return t;const n=ze(Object.create(null),t);for(const s in e)n[s]=it(t[s],e[s]);return n}function Rp(){return{app:null,config:{isNativeTag:Fh,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let $v=0;function Hv(t,e){return function(s,r=null){ee(s)||(s=ze({},s)),r!=null&&!we(r)&&(r=null);const i=Rp(),o=new WeakSet,a=[];let l=!1;const c=i.app={_uid:$v++,_component:s,_props:r,_container:null,_context:i,_instance:null,version:Cb,get config(){return i.config},set config(u){},use(u,...d){return o.has(u)||(u&&ee(u.install)?(o.add(u),u.install(c,...d)):ee(u)&&(o.add(u),u(c,...d))),c},mixin(u){return i.mixins.includes(u)||i.mixins.push(u),c},component(u,d){return d?(i.components[u]=d,c):i.components[u]},directive(u,d){return d?(i.directives[u]=d,c):i.directives[u]},mount(u,d,f){if(!l){const h=c._ceVNode||ye(s,r);return h.appContext=i,f===!0?f="svg":f===!1&&(f=void 0),t(h,u,f),l=!0,c._container=u,u.__vue_app__=c,wa(h.component)}},onUnmount(u){a.push(u)},unmount(){l&&(Wt(a,c._instance,16),t(null,c._container),delete c._container.__vue_app__)},provide(u,d){return i.provides[u]=d,c},runWithContext(u){const d=Is;Is=c;try{return u()}finally{Is=d}}};return c}}let Is=null;function go(t,e){if(st){let n=st.provides;const s=st.parent&&st.parent.provides;s===n&&(n=st.provides=Object.create(s)),n[t]=e}}function It(t,e,n=!1){const s=Ea();if(s||Is){let r=Is?Is._context.provides:s?s.parent==null||s.ce?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:void 0;if(r&&t in r)return r[t];if(arguments.length>1)return n&&ee(e)?e.call(s&&s.proxy):e}}function Wv(){return!!(Ea()||Is)}const jv=Symbol.for("v-scx"),Gv=()=>It(jv);function Cn(t,e,n){return Ap(t,e,n)}function Ap(t,e,n=Ie){const{immediate:s,deep:r,flush:i,once:o}=n,a=ze({},n),l=e&&s||!e&&i!=="post";let c;if(pi){if(i==="sync"){const h=Gv();c=h.__watcherHandles||(h.__watcherHandles=[])}else if(!l){const h=()=>{};return h.stop=on,h.resume=on,h.pause=on,h}}const u=st;a.call=(h,m,v)=>Wt(h,u,m,v);let d=!1;i==="post"?a.scheduler=h=>{vt(h,u&&u.suspense)}:i!=="sync"&&(d=!0,a.scheduler=(h,m)=>{m?h():kc(h)}),a.augmentJob=h=>{e&&(h.flags|=4),d&&(h.flags|=2,u&&(h.id=u.uid,h.i=u))};const f=mv(t,e,a);return pi&&(c?c.push(f):l&&f()),f}function qv(t,e,n){const s=this.proxy,r=Be(t)?t.includes(".")?xp(s,t):()=>s[t]:t.bind(s,s);let i;ee(e)?i=e:(i=e.handler,n=e);const o=Fi(this),a=Ap(r,i.bind(s),n);return o(),a}function xp(t,e){const n=e.split(".");return()=>{let s=t;for(let r=0;r<n.length&&s;r++)s=s[n[r]];return s}}const zv=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${Nt(e)}Modifiers`]||t[`${as(e)}Modifiers`];function Kv(t,e,...n){if(t.isUnmounted)return;const s=t.vnode.props||Ie;let r=n;const i=e.startsWith("update:"),o=i&&zv(s,e.slice(7));o&&(o.trim&&(r=n.map(u=>Be(u)?u.trim():u)),o.number&&(r=n.map(fa)));let a,l=s[a=po(e)]||s[a=po(Nt(e))];!l&&i&&(l=s[a=po(as(e))]),l&&Wt(l,t,6,r);const c=s[a+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,Wt(c,t,6,r)}}const Yv=new WeakMap;function Pp(t,e,n=!1){const s=n?Yv:e.emitsCache,r=s.get(t);if(r!==void 0)return r;const i=t.emits;let o={},a=!1;if(!ee(t)){const l=c=>{const u=Pp(c,e,!0);u&&(a=!0,ze(o,u))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!i&&!a?(we(t)&&s.set(t,null),null):(W(i)?i.forEach(l=>o[l]=null):ze(o,i),we(t)&&s.set(t,o),o)}function ya(t,e){return!t||!la(e)?!1:(e=e.slice(2).replace(/Once$/,""),_e(t,e[0].toLowerCase()+e.slice(1))||_e(t,as(e))||_e(t,e))}function cd(t){const{type:e,vnode:n,proxy:s,withProxy:r,propsOptions:[i],slots:o,attrs:a,emit:l,render:c,renderCache:u,props:d,data:f,setupState:h,ctx:m,inheritAttrs:v}=t,_=Oo(t);let E,A;try{if(n.shapeFlag&4){const N=r||s,U=N;E=rn(c.call(U,N,u,d,h,f,m)),A=a}else{const N=e;E=rn(N.length>1?N(d,{attrs:a,slots:o,emit:l}):N(d,null)),A=e.props?a:Jv(a)}}catch(N){Jr.length=0,ga(N,t,1),E=ye(un)}let I=E;if(A&&v!==!1){const N=Object.keys(A),{shapeFlag:U}=I;N.length&&U&7&&(i&&N.some(wc)&&(A=Qv(A,i)),I=Rs(I,A,!1,!0))}return n.dirs&&(I=Rs(I,null,!1,!0),I.dirs=I.dirs?I.dirs.concat(n.dirs):n.dirs),n.transition&&ui(I,n.transition),E=I,Oo(_),E}const Jv=t=>{let e;for(const n in t)(n==="class"||n==="style"||la(n))&&((e||(e={}))[n]=t[n]);return e},Qv=(t,e)=>{const n={};for(const s in t)(!wc(s)||!(s.slice(9)in e))&&(n[s]=t[s]);return n};function Xv(t,e,n){const{props:s,children:r,component:i}=t,{props:o,children:a,patchFlag:l}=e,c=i.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return s?ud(s,o,c):!!o;if(l&8){const u=e.dynamicProps;for(let d=0;d<u.length;d++){const f=u[d];if(o[f]!==s[f]&&!ya(c,f))return!0}}}else return(r||a)&&(!a||!a.$stable)?!0:s===o?!1:s?o?ud(s,o,c):!0:!!o;return!1}function ud(t,e,n){const s=Object.keys(e);if(s.length!==Object.keys(t).length)return!0;for(let r=0;r<s.length;r++){const i=s[r];if(e[i]!==t[i]&&!ya(n,i))return!0}return!1}function Zv({vnode:t,parent:e},n){for(;e;){const s=e.subTree;if(s.suspense&&s.suspense.activeBranch===t&&(s.el=t.el),s===t)(t=e.vnode).el=n,e=e.parent;else break}}const Np={},Op=()=>Object.create(Np),kp=t=>Object.getPrototypeOf(t)===Np;function eb(t,e,n,s=!1){const r={},i=Op();t.propsDefaults=Object.create(null),Dp(t,e,r,i);for(const o in t.propsOptions[0])o in r||(r[o]=void 0);n?t.props=s?r:lp(r):t.type.props?t.props=r:t.props=i,t.attrs=i}function tb(t,e,n,s){const{props:r,attrs:i,vnode:{patchFlag:o}}=t,a=pe(r),[l]=t.propsOptions;let c=!1;if((s||o>0)&&!(o&16)){if(o&8){const u=t.vnode.dynamicProps;for(let d=0;d<u.length;d++){let f=u[d];if(ya(t.emitsOptions,f))continue;const h=e[f];if(l)if(_e(i,f))h!==i[f]&&(i[f]=h,c=!0);else{const m=Nt(f);r[m]=Fl(l,a,m,h,t,!1)}else h!==i[f]&&(i[f]=h,c=!0)}}}else{Dp(t,e,r,i)&&(c=!0);let u;for(const d in a)(!e||!_e(e,d)&&((u=as(d))===d||!_e(e,u)))&&(l?n&&(n[d]!==void 0||n[u]!==void 0)&&(r[d]=Fl(l,a,d,void 0,t,!0)):delete r[d]);if(i!==a)for(const d in i)(!e||!_e(e,d))&&(delete i[d],c=!0)}c&&mn(t.attrs,"set","")}function Dp(t,e,n,s){const[r,i]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(Gr(l))continue;const c=e[l];let u;r&&_e(r,u=Nt(l))?!i||!i.includes(u)?n[u]=c:(a||(a={}))[u]=c:ya(t.emitsOptions,l)||(!(l in s)||c!==s[l])&&(s[l]=c,o=!0)}if(i){const l=pe(n),c=a||Ie;for(let u=0;u<i.length;u++){const d=i[u];n[d]=Fl(r,l,d,c[d],t,!_e(c,d))}}return o}function Fl(t,e,n,s,r,i){const o=t[n];if(o!=null){const a=_e(o,"default");if(a&&s===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&ee(l)){const{propsDefaults:c}=r;if(n in c)s=c[n];else{const u=Fi(r);s=c[n]=l.call(null,e),u()}}else s=l;r.ce&&r.ce._setProp(n,s)}o[0]&&(i&&!a?s=!1:o[1]&&(s===""||s===as(n))&&(s=!0))}return s}const nb=new WeakMap;function Mp(t,e,n=!1){const s=n?nb:e.propsCache,r=s.get(t);if(r)return r;const i=t.props,o={},a=[];let l=!1;if(!ee(t)){const u=d=>{l=!0;const[f,h]=Mp(d,e,!0);ze(o,f),h&&a.push(...h)};!n&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!i&&!l)return we(t)&&s.set(t,Ys),Ys;if(W(i))for(let u=0;u<i.length;u++){const d=Nt(i[u]);dd(d)&&(o[d]=Ie)}else if(i)for(const u in i){const d=Nt(u);if(dd(d)){const f=i[u],h=o[d]=W(f)||ee(f)?{type:f}:ze({},f),m=h.type;let v=!1,_=!0;if(W(m))for(let E=0;E<m.length;++E){const A=m[E],I=ee(A)&&A.name;if(I==="Boolean"){v=!0;break}else I==="String"&&(_=!1)}else v=ee(m)&&m.name==="Boolean";h[0]=v,h[1]=_,(v||_e(h,"default"))&&a.push(d)}}const c=[o,a];return we(t)&&s.set(t,c),c}function dd(t){return t[0]!=="$"&&!Gr(t)}const Bc=t=>t==="_"||t==="_ctx"||t==="$stable",Vc=t=>W(t)?t.map(rn):[rn(t)],sb=(t,e,n)=>{if(e._n)return e;const s=_t((...r)=>Vc(e(...r)),n);return s._c=!1,s},Lp=(t,e,n)=>{const s=t._ctx;for(const r in t){if(Bc(r))continue;const i=t[r];if(ee(i))e[r]=sb(r,i,s);else if(i!=null){const o=Vc(i);e[r]=()=>o}}},Fp=(t,e)=>{const n=Vc(e);t.slots.default=()=>n},Up=(t,e,n)=>{for(const s in e)(n||!Bc(s))&&(t[s]=e[s])},rb=(t,e,n)=>{const s=t.slots=Op();if(t.vnode.shapeFlag&32){const r=e._;r?(Up(s,e,n),n&&$h(s,"_",r,!0)):Lp(e,s)}else e&&Fp(t,e)},ib=(t,e,n)=>{const{vnode:s,slots:r}=t;let i=!0,o=Ie;if(s.shapeFlag&32){const a=e._;a?n&&a===1?i=!1:Up(r,e,n):(i=!e.$stable,Lp(e,r)),o=e}else e&&(Fp(t,e),o={default:1});if(i)for(const a in r)!Bc(a)&&o[a]==null&&delete r[a]},vt=ub;function ob(t){return ab(t)}function ab(t,e){const n=ha();n.__VUE__=!0;const{insert:s,remove:r,patchProp:i,createElement:o,createText:a,createComment:l,setText:c,setElementText:u,parentNode:d,nextSibling:f,setScopeId:h=on,insertStaticContent:m}=t,v=(p,g,y,T=null,x=null,S=null,F=void 0,M=null,D=!!g.dynamicChildren)=>{if(p===g)return;p&&!Gs(p,g)&&(T=R(p),Ve(p,x,S,!0),p=null),g.patchFlag===-2&&(D=!1,g.dynamicChildren=null);const{type:P,ref:z,shapeFlag:V}=g;switch(P){case va:_(p,g,y,T);break;case un:E(p,g,y,T);break;case el:p==null&&A(g,y,T,F);break;case Ne:L(p,g,y,T,x,S,F,M,D);break;default:V&1?U(p,g,y,T,x,S,F,M,D):V&6?se(p,g,y,T,x,S,F,M,D):(V&64||V&128)&&P.process(p,g,y,T,x,S,F,M,D,j)}z!=null&&x?Kr(z,p&&p.ref,S,g||p,!g):z==null&&p&&p.ref!=null&&Kr(p.ref,null,S,p,!0)},_=(p,g,y,T)=>{if(p==null)s(g.el=a(g.children),y,T);else{const x=g.el=p.el;g.children!==p.children&&c(x,g.children)}},E=(p,g,y,T)=>{p==null?s(g.el=l(g.children||""),y,T):g.el=p.el},A=(p,g,y,T)=>{[p.el,p.anchor]=m(p.children,g,y,T,p.el,p.anchor)},I=({el:p,anchor:g},y,T)=>{let x;for(;p&&p!==g;)x=f(p),s(p,y,T),p=x;s(g,y,T)},N=({el:p,anchor:g})=>{let y;for(;p&&p!==g;)y=f(p),r(p),p=y;r(g)},U=(p,g,y,T,x,S,F,M,D)=>{if(g.type==="svg"?F="svg":g.type==="math"&&(F="mathml"),p==null)ne(g,y,T,x,S,F,M,D);else{const P=p.el&&p.el._isVueCE?p.el:null;try{P&&P._beginPatch(),O(p,g,x,S,F,M,D)}finally{P&&P._endPatch()}}},ne=(p,g,y,T,x,S,F,M)=>{let D,P;const{props:z,shapeFlag:V,transition:G,dirs:X}=p;if(D=p.el=o(p.type,S,z&&z.is,z),V&8?u(D,p.children):V&16&&K(p.children,D,null,T,x,Za(p,S),F,M),X&&fs(p,null,T,"created"),q(D,p,p.scopeId,F,T),z){for(const Se in z)Se!=="value"&&!Gr(Se)&&i(D,Se,null,z[Se],S,T);"value"in z&&i(D,"value",null,z.value,S),(P=z.onVnodeBeforeMount)&&Zt(P,T,p)}X&&fs(p,null,T,"beforeMount");const he=lb(x,G);he&&G.beforeEnter(D),s(D,g,y),((P=z&&z.onVnodeMounted)||he||X)&&vt(()=>{P&&Zt(P,T,p),he&&G.enter(D),X&&fs(p,null,T,"mounted")},x)},q=(p,g,y,T,x)=>{if(y&&h(p,y),T)for(let S=0;S<T.length;S++)h(p,T[S]);if(x){let S=x.subTree;if(g===S||$p(S.type)&&(S.ssContent===g||S.ssFallback===g)){const F=x.vnode;q(p,F,F.scopeId,F.slotScopeIds,x.parent)}}},K=(p,g,y,T,x,S,F,M,D=0)=>{for(let P=D;P<p.length;P++){const z=p[P]=M?Wn(p[P]):rn(p[P]);v(null,z,g,y,T,x,S,F,M)}},O=(p,g,y,T,x,S,F)=>{const M=g.el=p.el;let{patchFlag:D,dynamicChildren:P,dirs:z}=g;D|=p.patchFlag&16;const V=p.props||Ie,G=g.props||Ie;let X;if(y&&hs(y,!1),(X=G.onVnodeBeforeUpdate)&&Zt(X,y,g,p),z&&fs(g,p,y,"beforeUpdate"),y&&hs(y,!0),(V.innerHTML&&G.innerHTML==null||V.textContent&&G.textContent==null)&&u(M,""),P?Y(p.dynamicChildren,P,M,y,T,Za(g,x),S):F||re(p,g,M,null,y,T,Za(g,x),S,!1),D>0){if(D&16)ue(M,V,G,y,x);else if(D&2&&V.class!==G.class&&i(M,"class",null,G.class,x),D&4&&i(M,"style",V.style,G.style,x),D&8){const he=g.dynamicProps;for(let Se=0;Se<he.length;Se++){const ve=he[Se],ft=V[ve],ht=G[ve];(ht!==ft||ve==="value")&&i(M,ve,ft,ht,x,y)}}D&1&&p.children!==g.children&&u(M,g.children)}else!F&&P==null&&ue(M,V,G,y,x);((X=G.onVnodeUpdated)||z)&&vt(()=>{X&&Zt(X,y,g,p),z&&fs(g,p,y,"updated")},T)},Y=(p,g,y,T,x,S,F)=>{for(let M=0;M<g.length;M++){const D=p[M],P=g[M],z=D.el&&(D.type===Ne||!Gs(D,P)||D.shapeFlag&198)?d(D.el):y;v(D,P,z,null,T,x,S,F,!0)}},ue=(p,g,y,T,x)=>{if(g!==y){if(g!==Ie)for(const S in g)!Gr(S)&&!(S in y)&&i(p,S,g[S],null,x,T);for(const S in y){if(Gr(S))continue;const F=y[S],M=g[S];F!==M&&S!=="value"&&i(p,S,M,F,x,T)}"value"in y&&i(p,"value",g.value,y.value,x)}},L=(p,g,y,T,x,S,F,M,D)=>{const P=g.el=p?p.el:a(""),z=g.anchor=p?p.anchor:a("");let{patchFlag:V,dynamicChildren:G,slotScopeIds:X}=g;X&&(M=M?M.concat(X):X),p==null?(s(P,y,T),s(z,y,T),K(g.children||[],y,z,x,S,F,M,D)):V>0&&V&64&&G&&p.dynamicChildren?(Y(p.dynamicChildren,G,y,x,S,F,M),(g.key!=null||x&&g===x.subTree)&&Bp(p,g,!0)):re(p,g,y,z,x,S,F,M,D)},se=(p,g,y,T,x,S,F,M,D)=>{g.slotScopeIds=M,p==null?g.shapeFlag&512?x.ctx.activate(g,y,T,F,D):be(g,y,T,x,S,F,D):Ke(p,g,D)},be=(p,g,y,T,x,S,F)=>{const M=p.component=gb(p,T,x);if(yp(p)&&(M.ctx.renderer=j),_b(M,!1,F),M.asyncDep){if(x&&x.registerDep(M,ie,F),!p.el){const D=M.subTree=ye(un);E(null,D,g,y),p.placeholder=D.el}}else ie(M,p,g,y,x,S,F)},Ke=(p,g,y)=>{const T=g.component=p.component;if(Xv(p,g,y))if(T.asyncDep&&!T.asyncResolved){Z(T,g,y);return}else T.next=g,T.update();else g.el=p.el,T.vnode=g},ie=(p,g,y,T,x,S,F)=>{const M=()=>{if(p.isMounted){let{next:V,bu:G,u:X,parent:he,vnode:Se}=p;{const Qt=Vp(p);if(Qt){V&&(V.el=Se.el,Z(p,V,F)),Qt.asyncDep.then(()=>{p.isUnmounted||M()});return}}let ve=V,ft;hs(p,!1),V?(V.el=Se.el,Z(p,V,F)):V=Se,G&&mo(G),(ft=V.props&&V.props.onVnodeBeforeUpdate)&&Zt(ft,he,V,Se),hs(p,!0);const ht=cd(p),Jt=p.subTree;p.subTree=ht,v(Jt,ht,d(Jt.el),R(Jt),p,x,S),V.el=ht.el,ve===null&&Zv(p,ht.el),X&&vt(X,x),(ft=V.props&&V.props.onVnodeUpdated)&&vt(()=>Zt(ft,he,V,Se),x)}else{let V;const{el:G,props:X}=g,{bm:he,m:Se,parent:ve,root:ft,type:ht}=p,Jt=Xs(g);hs(p,!1),he&&mo(he),!Jt&&(V=X&&X.onVnodeBeforeMount)&&Zt(V,ve,g),hs(p,!0);{ft.ce&&ft.ce._def.shadowRoot!==!1&&ft.ce._injectChildStyle(ht);const Qt=p.subTree=cd(p);v(null,Qt,y,T,p,x,S),g.el=Qt.el}if(Se&&vt(Se,x),!Jt&&(V=X&&X.onVnodeMounted)){const Qt=g;vt(()=>Zt(V,ve,Qt),x)}(g.shapeFlag&256||ve&&Xs(ve.vnode)&&ve.vnode.shapeFlag&256)&&p.a&&vt(p.a,x),p.isMounted=!0,g=y=T=null}};p.scope.on();const D=p.effect=new Kh(M);p.scope.off();const P=p.update=D.run.bind(D),z=p.job=D.runIfDirty.bind(D);z.i=p,z.id=p.uid,D.scheduler=()=>kc(z),hs(p,!0),P()},Z=(p,g,y)=>{g.component=p;const T=p.vnode.props;p.vnode=g,p.next=null,tb(p,g.props,T,y),ib(p,g.children,y),Rn(),nd(p),An()},re=(p,g,y,T,x,S,F,M,D=!1)=>{const P=p&&p.children,z=p?p.shapeFlag:0,V=g.children,{patchFlag:G,shapeFlag:X}=g;if(G>0){if(G&128){zt(P,V,y,T,x,S,F,M,D);return}else if(G&256){St(P,V,y,T,x,S,F,M,D);return}}X&8?(z&16&&Tt(P,x,S),V!==P&&u(y,V)):z&16?X&16?zt(P,V,y,T,x,S,F,M,D):Tt(P,x,S,!0):(z&8&&u(y,""),X&16&&K(V,y,T,x,S,F,M,D))},St=(p,g,y,T,x,S,F,M,D)=>{p=p||Ys,g=g||Ys;const P=p.length,z=g.length,V=Math.min(P,z);let G;for(G=0;G<V;G++){const X=g[G]=D?Wn(g[G]):rn(g[G]);v(p[G],X,y,null,x,S,F,M,D)}P>z?Tt(p,x,S,!0,!1,V):K(g,y,T,x,S,F,M,D,V)},zt=(p,g,y,T,x,S,F,M,D)=>{let P=0;const z=g.length;let V=p.length-1,G=z-1;for(;P<=V&&P<=G;){const X=p[P],he=g[P]=D?Wn(g[P]):rn(g[P]);if(Gs(X,he))v(X,he,y,null,x,S,F,M,D);else break;P++}for(;P<=V&&P<=G;){const X=p[V],he=g[G]=D?Wn(g[G]):rn(g[G]);if(Gs(X,he))v(X,he,y,null,x,S,F,M,D);else break;V--,G--}if(P>V){if(P<=G){const X=G+1,he=X<z?g[X].el:T;for(;P<=G;)v(null,g[P]=D?Wn(g[P]):rn(g[P]),y,he,x,S,F,M,D),P++}}else if(P>G)for(;P<=V;)Ve(p[P],x,S,!0),P++;else{const X=P,he=P,Se=new Map;for(P=he;P<=G;P++){const yt=g[P]=D?Wn(g[P]):rn(g[P]);yt.key!=null&&Se.set(yt.key,P)}let ve,ft=0;const ht=G-he+1;let Jt=!1,Qt=0;const Or=new Array(ht);for(P=0;P<ht;P++)Or[P]=0;for(P=X;P<=V;P++){const yt=p[P];if(ft>=ht){Ve(yt,x,S,!0);continue}let Xt;if(yt.key!=null)Xt=Se.get(yt.key);else for(ve=he;ve<=G;ve++)if(Or[ve-he]===0&&Gs(yt,g[ve])){Xt=ve;break}Xt===void 0?Ve(yt,x,S,!0):(Or[Xt-he]=P+1,Xt>=Qt?Qt=Xt:Jt=!0,v(yt,g[Xt],y,null,x,S,F,M,D),ft++)}const Yu=Jt?cb(Or):Ys;for(ve=Yu.length-1,P=ht-1;P>=0;P--){const yt=he+P,Xt=g[yt],Ju=g[yt+1],Qu=yt+1<z?Ju.el||Ju.placeholder:T;Or[P]===0?v(null,Xt,y,Qu,x,S,F,M,D):Jt&&(ve<0||P!==Yu[ve]?We(Xt,y,Qu,2):ve--)}}},We=(p,g,y,T,x=null)=>{const{el:S,type:F,transition:M,children:D,shapeFlag:P}=p;if(P&6){We(p.component.subTree,g,y,T);return}if(P&128){p.suspense.move(g,y,T);return}if(P&64){F.move(p,g,y,j);return}if(F===Ne){s(S,g,y);for(let V=0;V<D.length;V++)We(D[V],g,y,T);s(p.anchor,g,y);return}if(F===el){I(p,g,y);return}if(T!==2&&P&1&&M)if(T===0)M.beforeEnter(S),s(S,g,y),vt(()=>M.enter(S),x);else{const{leave:V,delayLeave:G,afterLeave:X}=M,he=()=>{p.ctx.isUnmounted?r(S):s(S,g,y)},Se=()=>{S._isLeaving&&S[gs](!0),V(S,()=>{he(),X&&X()})};G?G(S,he,Se):Se()}else s(S,g,y)},Ve=(p,g,y,T=!1,x=!1)=>{const{type:S,props:F,ref:M,children:D,dynamicChildren:P,shapeFlag:z,patchFlag:V,dirs:G,cacheIndex:X}=p;if(V===-2&&(x=!1),M!=null&&(Rn(),Kr(M,null,y,p,!0),An()),X!=null&&(g.renderCache[X]=void 0),z&256){g.ctx.deactivate(p);return}const he=z&1&&G,Se=!Xs(p);let ve;if(Se&&(ve=F&&F.onVnodeBeforeUnmount)&&Zt(ve,g,p),z&6)Yt(p.component,y,T);else{if(z&128){p.suspense.unmount(y,T);return}he&&fs(p,null,g,"beforeUnmount"),z&64?p.type.remove(p,g,y,j,T):P&&!P.hasOnce&&(S!==Ne||V>0&&V&64)?Tt(P,g,y,!1,!0):(S===Ne&&V&384||!x&&z&16)&&Tt(D,g,y),T&&Kt(p)}(Se&&(ve=F&&F.onVnodeUnmounted)||he)&&vt(()=>{ve&&Zt(ve,g,p),he&&fs(p,null,g,"unmounted")},y)},Kt=p=>{const{type:g,el:y,anchor:T,transition:x}=p;if(g===Ne){kt(y,T);return}if(g===el){N(p);return}const S=()=>{r(y),x&&!x.persisted&&x.afterLeave&&x.afterLeave()};if(p.shapeFlag&1&&x&&!x.persisted){const{leave:F,delayLeave:M}=x,D=()=>F(y,S);M?M(p.el,S,D):D()}else S()},kt=(p,g)=>{let y;for(;p!==g;)y=f(p),r(p),p=y;r(g)},Yt=(p,g,y)=>{const{bum:T,scope:x,job:S,subTree:F,um:M,m:D,a:P}=p;fd(D),fd(P),T&&mo(T),x.stop(),S&&(S.flags|=8,Ve(F,p,g,y)),M&&vt(M,g),vt(()=>{p.isUnmounted=!0},g)},Tt=(p,g,y,T=!1,x=!1,S=0)=>{for(let F=S;F<p.length;F++)Ve(p[F],g,y,T,x)},R=p=>{if(p.shapeFlag&6)return R(p.component.subTree);if(p.shapeFlag&128)return p.suspense.next();const g=f(p.anchor||p.el),y=g&&g[vv];return y?f(y):g};let $=!1;const B=(p,g,y)=>{p==null?g._vnode&&Ve(g._vnode,null,null,!0):v(g._vnode||null,p,g,null,null,null,y),g._vnode=p,$||($=!0,nd(),hp(),$=!1)},j={p:v,um:Ve,m:We,r:Kt,mt:be,mc:K,pc:re,pbc:Y,n:R,o:t};return{render:B,hydrate:void 0,createApp:Hv(B)}}function Za({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function hs({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function lb(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function Bp(t,e,n=!1){const s=t.children,r=e.children;if(W(s)&&W(r))for(let i=0;i<s.length;i++){const o=s[i];let a=r[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=r[i]=Wn(r[i]),a.el=o.el),!n&&a.patchFlag!==-2&&Bp(o,a)),a.type===va&&a.patchFlag!==-1&&(a.el=o.el),a.type===un&&!a.el&&(a.el=o.el)}}function cb(t){const e=t.slice(),n=[0];let s,r,i,o,a;const l=t.length;for(s=0;s<l;s++){const c=t[s];if(c!==0){if(r=n[n.length-1],t[r]<c){e[s]=r,n.push(s);continue}for(i=0,o=n.length-1;i<o;)a=i+o>>1,t[n[a]]<c?i=a+1:o=a;c<t[n[i]]&&(i>0&&(e[s]=n[i-1]),n[i]=s)}}for(i=n.length,o=n[i-1];i-- >0;)n[i]=o,o=e[o];return n}function Vp(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:Vp(e)}function fd(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const $p=t=>t.__isSuspense;function ub(t,e){e&&e.pendingBranch?W(t)?e.effects.push(...t):e.effects.push(t):yv(t)}const Ne=Symbol.for("v-fgt"),va=Symbol.for("v-txt"),un=Symbol.for("v-cmt"),el=Symbol.for("v-stc"),Jr=[];let wt=null;function H(t=!1){Jr.push(wt=t?null:[])}function db(){Jr.pop(),wt=Jr[Jr.length-1]||null}let fi=1;function Mo(t,e=!1){fi+=t,t<0&&wt&&e&&(wt.hasOnce=!0)}function Hp(t){return t.dynamicChildren=fi>0?wt||Ys:null,db(),fi>0&&wt&&wt.push(t),t}function ae(t,e,n,s,r,i){return Hp(C(t,e,n,s,r,i,!0))}function Le(t,e,n,s,r){return Hp(ye(t,e,n,s,r,!0))}function hi(t){return t?t.__v_isVNode===!0:!1}function Gs(t,e){return t.type===e.type&&t.key===e.key}const Wp=({key:t})=>t??null,_o=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?Be(t)||Ue(t)||ee(t)?{i:Ze,r:t,k:e,f:!!n}:t:null);function C(t,e=null,n=null,s=0,r=null,i=t===Ne?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Wp(e),ref:e&&_o(e),scopeId:mp,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:s,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:Ze};return a?($c(l,n),i&128&&t.normalize(l)):n&&(l.shapeFlag|=Be(n)?8:16),fi>0&&!o&&wt&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&wt.push(l),l}const ye=fb;function fb(t,e=null,n=null,s=0,r=null,i=!1){if((!t||t===wp)&&(t=un),hi(t)){const a=Rs(t,e,!0);return n&&$c(a,n),fi>0&&!i&&wt&&(a.shapeFlag&6?wt[wt.indexOf(t)]=a:wt.push(a)),a.patchFlag=-2,a}if(wb(t)&&(t=t.__vccOpts),e){e=hb(e);let{class:a,style:l}=e;a&&!Be(a)&&(e.class=$e(a)),we(l)&&(ma(l)&&!W(l)&&(l=ze({},l)),e.style=Oi(l))}const o=Be(t)?1:$p(t)?128:bv(t)?64:we(t)?4:ee(t)?2:0;return C(t,e,n,s,r,o,i,!0)}function hb(t){return t?ma(t)||kp(t)?ze({},t):t:null}function Rs(t,e,n=!1,s=!1){const{props:r,ref:i,patchFlag:o,children:a,transition:l}=t,c=e?ba(r||{},e):r,u={__v_isVNode:!0,__v_skip:!0,type:t.type,props:c,key:c&&Wp(c),ref:e&&e.ref?n&&i?W(i)?i.concat(_o(e)):[i,_o(e)]:_o(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Ne?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Rs(t.ssContent),ssFallback:t.ssFallback&&Rs(t.ssFallback),placeholder:t.placeholder,el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&s&&ui(u,l.clone(u)),u}function He(t=" ",e=0){return ye(va,null,t,e)}function Xe(t="",e=!1){return e?(H(),Le(un,null,t)):ye(un,null,t)}function rn(t){return t==null||typeof t=="boolean"?ye(un):W(t)?ye(Ne,null,t.slice()):hi(t)?Wn(t):ye(va,null,String(t))}function Wn(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Rs(t)}function $c(t,e){let n=0;const{shapeFlag:s}=t;if(e==null)e=null;else if(W(e))n=16;else if(typeof e=="object")if(s&65){const r=e.default;r&&(r._c&&(r._d=!1),$c(t,r()),r._c&&(r._d=!0));return}else{n=32;const r=e._;!r&&!kp(e)?e._ctx=Ze:r===3&&Ze&&(Ze.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else ee(e)?(e={default:e,_ctx:Ze},n=32):(e=String(e),s&64?(n=16,e=[He(e)]):n=8);t.children=e,t.shapeFlag|=n}function ba(...t){const e={};for(let n=0;n<t.length;n++){const s=t[n];for(const r in s)if(r==="class")e.class!==s.class&&(e.class=$e([e.class,s.class]));else if(r==="style")e.style=Oi([e.style,s.style]);else if(la(r)){const i=e[r],o=s[r];o&&i!==o&&!(W(i)&&i.includes(o))&&(e[r]=i?[].concat(i,o):o)}else r!==""&&(e[r]=s[r])}return e}function Zt(t,e,n,s=null){Wt(t,e,7,[n,s])}const pb=Rp();let mb=0;function gb(t,e,n){const s=t.type,r=(e?e.appContext:t.appContext)||pb,i={uid:mb++,vnode:t,type:s,parent:e,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Gh(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(r.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Mp(s,r),emitsOptions:Pp(s,r),emit:null,emitted:null,propsDefaults:Ie,inheritAttrs:s.inheritAttrs,ctx:Ie,data:Ie,props:Ie,attrs:Ie,slots:Ie,refs:Ie,setupState:Ie,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=Kv.bind(null,i),t.ce&&t.ce(i),i}let st=null;const Ea=()=>st||Ze;let Lo,Ul;{const t=ha(),e=(n,s)=>{let r;return(r=t[n])||(r=t[n]=[]),r.push(s),i=>{r.length>1?r.forEach(o=>o(i)):r[0](i)}};Lo=e("__VUE_INSTANCE_SETTERS__",n=>st=n),Ul=e("__VUE_SSR_SETTERS__",n=>pi=n)}const Fi=t=>{const e=st;return Lo(t),t.scope.on(),()=>{t.scope.off(),Lo(e)}},hd=()=>{st&&st.scope.off(),Lo(null)};function jp(t){return t.vnode.shapeFlag&4}let pi=!1;function _b(t,e=!1,n=!1){e&&Ul(e);const{props:s,children:r}=t.vnode,i=jp(t);eb(t,s,i,e),rb(t,r,n||e);const o=i?yb(t,e):void 0;return e&&Ul(!1),o}function yb(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,Mv);const{setup:s}=n;if(s){Rn();const r=t.setupContext=s.length>1?bb(t):null,i=Fi(t),o=Di(s,t,0,[t.props,r]),a=Uh(o);if(An(),i(),(a||t.sp)&&!Xs(t)&&_p(t),a){if(o.then(hd,hd),e)return o.then(l=>{pd(t,l)}).catch(l=>{ga(l,t,0)});t.asyncDep=o}else pd(t,o)}else Gp(t)}function pd(t,e,n){ee(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:we(e)&&(t.setupState=up(e)),Gp(t)}function Gp(t,e,n){const s=t.type;t.render||(t.render=s.render||on);{const r=Fi(t);Rn();try{Lv(t)}finally{An(),r()}}}const vb={get(t,e){return nt(t,"get",""),t[e]}};function bb(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,vb),slots:t.slots,emit:t.emit,expose:e}}function wa(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(up(Nc(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Yr)return Yr[n](t)},has(e,n){return n in e||n in Yr}})):t.proxy}function Eb(t,e=!0){return ee(t)?t.displayName||t.name:t.name||e&&t.__name}function wb(t){return ee(t)&&"__vccOpts"in t}const le=(t,e)=>hv(t,e,pi);function qp(t,e,n){try{Mo(-1);const s=arguments.length;return s===2?we(e)&&!W(e)?hi(e)?ye(t,null,[e]):ye(t,e):ye(t,null,e):(s>3?n=Array.prototype.slice.call(arguments,2):s===3&&hi(n)&&(n=[n]),ye(t,e,n))}finally{Mo(1)}}const Cb="3.5.25";let Bl;const md=typeof window<"u"&&window.trustedTypes;if(md)try{Bl=md.createPolicy("vue",{createHTML:t=>t})}catch{}const zp=Bl?t=>Bl.createHTML(t):t=>t,Ib="http://www.w3.org/2000/svg",Sb="http://www.w3.org/1998/Math/MathML",pn=typeof document<"u"?document:null,gd=pn&&pn.createElement("template"),Tb={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,s)=>{const r=e==="svg"?pn.createElementNS(Ib,t):e==="mathml"?pn.createElementNS(Sb,t):n?pn.createElement(t,{is:n}):pn.createElement(t);return t==="select"&&s&&s.multiple!=null&&r.setAttribute("multiple",s.multiple),r},createText:t=>pn.createTextNode(t),createComment:t=>pn.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>pn.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,s,r,i){const o=n?n.previousSibling:e.lastChild;if(r&&(r===i||r.nextSibling))for(;e.insertBefore(r.cloneNode(!0),n),!(r===i||!(r=r.nextSibling)););else{gd.innerHTML=zp(s==="svg"?`<svg>${t}</svg>`:s==="mathml"?`<math>${t}</math>`:t);const a=gd.content;if(s==="svg"||s==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},Ln="transition",Dr="animation",ir=Symbol("_vtc"),Kp={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},Rb=ze({},wv,Kp),ps=(t,e=[])=>{W(t)?t.forEach(n=>n(...e)):t&&t(...e)},_d=t=>t?W(t)?t.some(e=>e.length>1):t.length>1:!1;function Ab(t){const e={};for(const L in t)L in Kp||(e[L]=t[L]);if(t.css===!1)return e;const{name:n="v",type:s,duration:r,enterFromClass:i=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:l=i,appearActiveClass:c=o,appearToClass:u=a,leaveFromClass:d=`${n}-leave-from`,leaveActiveClass:f=`${n}-leave-active`,leaveToClass:h=`${n}-leave-to`}=t,m=xb(r),v=m&&m[0],_=m&&m[1],{onBeforeEnter:E,onEnter:A,onEnterCancelled:I,onLeave:N,onLeaveCancelled:U,onBeforeAppear:ne=E,onAppear:q=A,onAppearCancelled:K=I}=e,O=(L,se,be,Ke)=>{L._enterCancelled=Ke,Bn(L,se?u:a),Bn(L,se?c:o),be&&be()},Y=(L,se)=>{L._isLeaving=!1,Bn(L,d),Bn(L,h),Bn(L,f),se&&se()},ue=L=>(se,be)=>{const Ke=L?q:A,ie=()=>O(se,L,be);ps(Ke,[se,ie]),yd(()=>{Bn(se,L?l:i),tn(se,L?u:a),_d(Ke)||vd(se,s,v,ie)})};return ze(e,{onBeforeEnter(L){ps(E,[L]),tn(L,i),tn(L,o)},onBeforeAppear(L){ps(ne,[L]),tn(L,l),tn(L,c)},onEnter:ue(!1),onAppear:ue(!0),onLeave(L,se){L._isLeaving=!0;const be=()=>Y(L,se);tn(L,d),L._enterCancelled?(tn(L,f),Vl(L)):(Vl(L),tn(L,f)),yd(()=>{L._isLeaving&&(Bn(L,d),tn(L,h),_d(N)||vd(L,s,_,be))}),ps(N,[L,be])},onEnterCancelled(L){O(L,!1,void 0,!0),ps(I,[L])},onAppearCancelled(L){O(L,!0,void 0,!0),ps(K,[L])},onLeaveCancelled(L){Y(L),ps(U,[L])}})}function xb(t){if(t==null)return null;if(we(t))return[tl(t.enter),tl(t.leave)];{const e=tl(t);return[e,e]}}function tl(t){return ky(t)}function tn(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[ir]||(t[ir]=new Set)).add(e)}function Bn(t,e){e.split(/\s+/).forEach(s=>s&&t.classList.remove(s));const n=t[ir];n&&(n.delete(e),n.size||(t[ir]=void 0))}function yd(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let Pb=0;function vd(t,e,n,s){const r=t._endId=++Pb,i=()=>{r===t._endId&&s()};if(n!=null)return setTimeout(i,n);const{type:o,timeout:a,propCount:l}=Yp(t,e);if(!o)return s();const c=o+"end";let u=0;const d=()=>{t.removeEventListener(c,f),i()},f=h=>{h.target===t&&++u>=l&&d()};setTimeout(()=>{u<l&&d()},a+1),t.addEventListener(c,f)}function Yp(t,e){const n=window.getComputedStyle(t),s=m=>(n[m]||"").split(", "),r=s(`${Ln}Delay`),i=s(`${Ln}Duration`),o=bd(r,i),a=s(`${Dr}Delay`),l=s(`${Dr}Duration`),c=bd(a,l);let u=null,d=0,f=0;e===Ln?o>0&&(u=Ln,d=o,f=i.length):e===Dr?c>0&&(u=Dr,d=c,f=l.length):(d=Math.max(o,c),u=d>0?o>c?Ln:Dr:null,f=u?u===Ln?i.length:l.length:0);const h=u===Ln&&/\b(?:transform|all)(?:,|$)/.test(s(`${Ln}Property`).toString());return{type:u,timeout:d,propCount:f,hasTransform:h}}function bd(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,s)=>Ed(n)+Ed(t[s])))}function Ed(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function Vl(t){return(t?t.ownerDocument:document).body.offsetHeight}function Nb(t,e,n){const s=t[ir];s&&(e=(e?[e,...s]:[...s]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const Fo=Symbol("_vod"),Jp=Symbol("_vsh"),wd={name:"show",beforeMount(t,{value:e},{transition:n}){t[Fo]=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):Mr(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:s}){!e!=!n&&(s?e?(s.beforeEnter(t),Mr(t,!0),s.enter(t)):s.leave(t,()=>{Mr(t,!1)}):Mr(t,e))},beforeUnmount(t,{value:e}){Mr(t,e)}};function Mr(t,e){t.style.display=e?t[Fo]:"none",t[Jp]=!e}const Ob=Symbol(""),kb=/(?:^|;)\s*display\s*:/;function Db(t,e,n){const s=t.style,r=Be(n);let i=!1;if(n&&!r){if(e)if(Be(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();n[a]==null&&yo(s,a,"")}else for(const o in e)n[o]==null&&yo(s,o,"");for(const o in n)o==="display"&&(i=!0),yo(s,o,n[o])}else if(r){if(e!==n){const o=s[Ob];o&&(n+=";"+o),s.cssText=n,i=kb.test(n)}}else e&&t.removeAttribute("style");Fo in t&&(t[Fo]=i?s.display:"",t[Jp]&&(s.display="none"))}const Cd=/\s*!important$/;function yo(t,e,n){if(W(n))n.forEach(s=>yo(t,e,s));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const s=Mb(t,e);Cd.test(n)?t.setProperty(as(s),n.replace(Cd,""),"important"):t[s]=n}}const Id=["Webkit","Moz","ms"],nl={};function Mb(t,e){const n=nl[e];if(n)return n;let s=Nt(e);if(s!=="filter"&&s in t)return nl[e]=s;s=da(s);for(let r=0;r<Id.length;r++){const i=Id[r]+s;if(i in t)return nl[e]=i}return e}const Sd="http://www.w3.org/1999/xlink";function Td(t,e,n,s,r,i=By(e)){s&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(Sd,e.slice(6,e.length)):t.setAttributeNS(Sd,e,n):n==null||i&&!Hh(n)?t.removeAttribute(e):t.setAttribute(e,i?"":$t(n)?String(n):n)}function Rd(t,e,n,s,r){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?zp(n):n);return}const i=t.tagName;if(e==="value"&&i!=="PROGRESS"&&!i.includes("-")){const a=i==="OPTION"?t.getAttribute("value")||"":t.value,l=n==null?t.type==="checkbox"?"on":"":String(n);(a!==l||!("_value"in t))&&(t.value=l),n==null&&t.removeAttribute(e),t._value=n;return}let o=!1;if(n===""||n==null){const a=typeof t[e];a==="boolean"?n=Hh(n):n==null&&a==="string"?(n="",o=!0):a==="number"&&(n=0,o=!0)}try{t[e]=n}catch{}o&&t.removeAttribute(r||e)}function yn(t,e,n,s){t.addEventListener(e,n,s)}function Lb(t,e,n,s){t.removeEventListener(e,n,s)}const Ad=Symbol("_vei");function Fb(t,e,n,s,r=null){const i=t[Ad]||(t[Ad]={}),o=i[e];if(s&&o)o.value=s;else{const[a,l]=Ub(e);if(s){const c=i[e]=$b(s,r);yn(t,a,c,l)}else o&&(Lb(t,a,o,l),i[e]=void 0)}}const xd=/(?:Once|Passive|Capture)$/;function Ub(t){let e;if(xd.test(t)){e={};let s;for(;s=t.match(xd);)t=t.slice(0,t.length-s[0].length),e[s[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):as(t.slice(2)),e]}let sl=0;const Bb=Promise.resolve(),Vb=()=>sl||(Bb.then(()=>sl=0),sl=Date.now());function $b(t,e){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;Wt(Hb(s,n.value),e,5,[s])};return n.value=t,n.attached=Vb(),n}function Hb(t,e){if(W(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(s=>r=>!r._stopped&&s&&s(r))}else return e}const Pd=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,Wb=(t,e,n,s,r,i)=>{const o=r==="svg";e==="class"?Nb(t,s,o):e==="style"?Db(t,n,s):la(e)?wc(e)||Fb(t,e,n,s,i):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):jb(t,e,s,o))?(Rd(t,e,s),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&Td(t,e,s,o,i,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!Be(s))?Rd(t,Nt(e),s,i,e):(e==="true-value"?t._trueValue=s:e==="false-value"&&(t._falseValue=s),Td(t,e,s,o))};function jb(t,e,n,s){if(s)return!!(e==="innerHTML"||e==="textContent"||e in t&&Pd(e)&&ee(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="sandbox"&&t.tagName==="IFRAME"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const r=t.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return Pd(e)&&Be(n)?!1:e in t}const Qp=new WeakMap,Xp=new WeakMap,Uo=Symbol("_moveCb"),Nd=Symbol("_enterCb"),Gb=t=>(delete t.props.mode,t),qb=Gb({name:"TransitionGroup",props:ze({},Rb,{tag:String,moveClass:String}),setup(t,{slots:e}){const n=Ea(),s=Ev();let r,i;return bp(()=>{if(!r.length)return;const o=t.moveClass||`${t.name||"v"}-move`;if(!Qb(r[0].el,n.vnode.el,o)){r=[];return}r.forEach(Kb),r.forEach(Yb);const a=r.filter(Jb);Vl(n.vnode.el),a.forEach(l=>{const c=l.el,u=c.style;tn(c,o),u.transform=u.webkitTransform=u.transitionDuration="";const d=c[Uo]=f=>{f&&f.target!==c||(!f||f.propertyName.endsWith("transform"))&&(c.removeEventListener("transitionend",d),c[Uo]=null,Bn(c,o))};c.addEventListener("transitionend",d)}),r=[]}),()=>{const o=pe(t),a=Ab(o);let l=o.tag||Ne;if(r=[],i)for(let c=0;c<i.length;c++){const u=i[c];u.el&&u.el instanceof Element&&(r.push(u),ui(u,kl(u,a,s,n)),Qp.set(u,{left:u.el.offsetLeft,top:u.el.offsetTop}))}i=e.default?gp(e.default()):[];for(let c=0;c<i.length;c++){const u=i[c];u.key!=null&&ui(u,kl(u,a,s,n))}return ye(l,null,i)}}}),zb=qb;function Kb(t){const e=t.el;e[Uo]&&e[Uo](),e[Nd]&&e[Nd]()}function Yb(t){Xp.set(t,{left:t.el.offsetLeft,top:t.el.offsetTop})}function Jb(t){const e=Qp.get(t),n=Xp.get(t),s=e.left-n.left,r=e.top-n.top;if(s||r){const i=t.el.style;return i.transform=i.webkitTransform=`translate(${s}px,${r}px)`,i.transitionDuration="0s",t}}function Qb(t,e,n){const s=t.cloneNode(),r=t[ir];r&&r.forEach(a=>{a.split(/\s+/).forEach(l=>l&&s.classList.remove(l))}),n.split(/\s+/).forEach(a=>a&&s.classList.add(a)),s.style.display="none";const i=e.nodeType===1?e:e.parentNode;i.appendChild(s);const{hasTransform:o}=Yp(s);return i.removeChild(s),o}const ss=t=>{const e=t.props["onUpdate:modelValue"]||!1;return W(e)?n=>mo(e,n):e};function Xb(t){t.target.composing=!0}function Od(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Pt=Symbol("_assign");function kd(t,e,n){return e&&(t=t.trim()),n&&(t=fa(t)),t}const or={created(t,{modifiers:{lazy:e,trim:n,number:s}},r){t[Pt]=ss(r);const i=s||r.props&&r.props.type==="number";yn(t,e?"change":"input",o=>{o.target.composing||t[Pt](kd(t.value,n,i))}),(n||i)&&yn(t,"change",()=>{t.value=kd(t.value,n,i)}),e||(yn(t,"compositionstart",Xb),yn(t,"compositionend",Od),yn(t,"change",Od))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:s,trim:r,number:i}},o){if(t[Pt]=ss(o),t.composing)return;const a=(i||t.type==="number")&&!/^0\d/.test(t.value)?fa(t.value):t.value,l=e??"";a!==l&&(document.activeElement===t&&t.type!=="range"&&(s&&e===n||r&&t.value.trim()===l)||(t.value=l))}},Zb={deep:!0,created(t,e,n){t[Pt]=ss(n),yn(t,"change",()=>{const s=t._modelValue,r=ar(t),i=t.checked,o=t[Pt];if(W(s)){const a=Ic(s,r),l=a!==-1;if(i&&!l)o(s.concat(r));else if(!i&&l){const c=[...s];c.splice(a,1),o(c)}}else if(yr(s)){const a=new Set(s);i?a.add(r):a.delete(r),o(a)}else o(Zp(t,i))})},mounted:Dd,beforeUpdate(t,e,n){t[Pt]=ss(n),Dd(t,e,n)}};function Dd(t,{value:e,oldValue:n},s){t._modelValue=e;let r;if(W(e))r=Ic(e,s.props.value)>-1;else if(yr(e))r=e.has(s.props.value);else{if(e===n)return;r=Ts(e,Zp(t,!0))}t.checked!==r&&(t.checked=r)}const eE={created(t,{value:e},n){t.checked=Ts(e,n.props.value),t[Pt]=ss(n),yn(t,"change",()=>{t[Pt](ar(t))})},beforeUpdate(t,{value:e,oldValue:n},s){t[Pt]=ss(s),e!==n&&(t.checked=Ts(e,s.props.value))}},tE={deep:!0,created(t,{value:e,modifiers:{number:n}},s){const r=yr(e);yn(t,"change",()=>{const i=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>n?fa(ar(o)):ar(o));t[Pt](t.multiple?r?new Set(i):i:i[0]),t._assigning=!0,Mi(()=>{t._assigning=!1})}),t[Pt]=ss(s)},mounted(t,{value:e}){Md(t,e)},beforeUpdate(t,e,n){t[Pt]=ss(n)},updated(t,{value:e}){t._assigning||Md(t,e)}};function Md(t,e){const n=t.multiple,s=W(e);if(!(n&&!s&&!yr(e))){for(let r=0,i=t.options.length;r<i;r++){const o=t.options[r],a=ar(o);if(n)if(s){const l=typeof a;l==="string"||l==="number"?o.selected=e.some(c=>String(c)===String(a)):o.selected=Ic(e,a)>-1}else o.selected=e.has(a);else if(Ts(ar(o),e)){t.selectedIndex!==r&&(t.selectedIndex=r);return}}!n&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function ar(t){return"_value"in t?t._value:t.value}function Zp(t,e){const n=e?"_trueValue":"_falseValue";return n in t?t[n]:e}const nE={created(t,e,n){oo(t,e,n,null,"created")},mounted(t,e,n){oo(t,e,n,null,"mounted")},beforeUpdate(t,e,n,s){oo(t,e,n,s,"beforeUpdate")},updated(t,e,n,s){oo(t,e,n,s,"updated")}};function sE(t,e){switch(t){case"SELECT":return tE;case"TEXTAREA":return or;default:switch(e){case"checkbox":return Zb;case"radio":return eE;default:return or}}}function oo(t,e,n,s,r){const o=sE(t.tagName,n.props&&n.props.type)[r];o&&o(t,e,n,s)}const rE=["ctrl","shift","alt","meta"],iE={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>rE.some(n=>t[`${n}Key`]&&!e.includes(n))},em=(t,e)=>{const n=t._withMods||(t._withMods={}),s=e.join(".");return n[s]||(n[s]=((r,...i)=>{for(let o=0;o<e.length;o++){const a=iE[e[o]];if(a&&a(r,e))return}return t(r,...i)}))},oE={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},tm=(t,e)=>{const n=t._withKeys||(t._withKeys={}),s=e.join(".");return n[s]||(n[s]=(r=>{if(!("key"in r))return;const i=as(r.key);if(e.some(o=>o===i||oE[o]===i))return t(r)}))},aE=ze({patchProp:Wb},Tb);let Ld;function lE(){return Ld||(Ld=ob(aE))}const nm=((...t)=>{const e=lE().createApp(...t),{mount:n}=e;return e.mount=s=>{const r=uE(s);if(!r)return;const i=e._component;!ee(i)&&!i.render&&!i.template&&(i.template=r.innerHTML),r.nodeType===1&&(r.textContent="");const o=n(r,!1,cE(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),o},e});function cE(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function uE(t){return Be(t)?document.querySelector(t):t}let sm;const Ca=t=>sm=t,rm=Symbol();function $l(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var Qr;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(Qr||(Qr={}));function dE(){const t=qh(!0),e=t.run(()=>Pe({}));let n=[],s=[];const r=Nc({install(i){Ca(r),r._a=i,i.provide(rm,r),i.config.globalProperties.$pinia=r,s.forEach(o=>n.push(o)),s=[]},use(i){return this._a?n.push(i):s.push(i),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return r}const im=()=>{};function Fd(t,e,n,s=im){t.add(e);const r=()=>{t.delete(e)&&s()};return!n&&zh()&&$y(r),r}function Vs(t,...e){t.forEach(n=>{n(...e)})}const fE=t=>t(),Ud=Symbol(),rl=Symbol();function Hl(t,e){t instanceof Map&&e instanceof Map?e.forEach((n,s)=>t.set(s,n)):t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const s=e[n],r=t[n];$l(r)&&$l(s)&&t.hasOwnProperty(n)&&!Ue(s)&&!wn(s)?t[n]=Hl(r,s):t[n]=s}return t}const hE=Symbol();function pE(t){return!$l(t)||!Object.prototype.hasOwnProperty.call(t,hE)}const{assign:Vn}=Object;function mE(t){return!!(Ue(t)&&t.effect)}function gE(t,e,n,s){const{state:r,actions:i,getters:o}=e,a=n.state.value[t];let l;function c(){a||(n.state.value[t]=r?r():{});const u=cv(n.state.value[t]);return Vn(u,i,Object.keys(o||{}).reduce((d,f)=>(d[f]=Nc(le(()=>{Ca(n);const h=n._s.get(t);return o[f].call(h,h)})),d),{}))}return l=om(t,c,e,n,s,!0),l}function om(t,e,n={},s,r,i){let o;const a=Vn({actions:{}},n),l={deep:!0};let c,u,d=new Set,f=new Set,h;const m=s.state.value[t];!i&&!m&&(s.state.value[t]={}),Pe({});let v;function _(K){let O;c=u=!1,typeof K=="function"?(K(s.state.value[t]),O={type:Qr.patchFunction,storeId:t,events:h}):(Hl(s.state.value[t],K),O={type:Qr.patchObject,payload:K,storeId:t,events:h});const Y=v=Symbol();Mi().then(()=>{v===Y&&(c=!0)}),u=!0,Vs(d,O,s.state.value[t])}const E=i?function(){const{state:O}=n,Y=O?O():{};this.$patch(ue=>{Vn(ue,Y)})}:im;function A(){o.stop(),d.clear(),f.clear(),s._s.delete(t)}const I=(K,O="")=>{if(Ud in K)return K[rl]=O,K;const Y=function(){Ca(s);const ue=Array.from(arguments),L=new Set,se=new Set;function be(Z){L.add(Z)}function Ke(Z){se.add(Z)}Vs(f,{args:ue,name:Y[rl],store:U,after:be,onError:Ke});let ie;try{ie=K.apply(this&&this.$id===t?this:U,ue)}catch(Z){throw Vs(se,Z),Z}return ie instanceof Promise?ie.then(Z=>(Vs(L,Z),Z)).catch(Z=>(Vs(se,Z),Promise.reject(Z))):(Vs(L,ie),ie)};return Y[Ud]=!0,Y[rl]=O,Y},N={_p:s,$id:t,$onAction:Fd.bind(null,f),$patch:_,$reset:E,$subscribe(K,O={}){const Y=Fd(d,K,O.detached,()=>ue()),ue=o.run(()=>Cn(()=>s.state.value[t],L=>{(O.flush==="sync"?u:c)&&K({storeId:t,type:Qr.direct,events:h},L)},Vn({},l,O)));return Y},$dispose:A},U=ki(N);s._s.set(t,U);const q=(s._a&&s._a.runWithContext||fE)(()=>s._e.run(()=>(o=qh()).run(()=>e({action:I}))));for(const K in q){const O=q[K];if(Ue(O)&&!mE(O)||wn(O))i||(m&&pE(O)&&(Ue(O)?O.value=m[K]:Hl(O,m[K])),s.state.value[t][K]=O);else if(typeof O=="function"){const Y=I(O,K);q[K]=Y,a.actions[K]=O}}return Vn(U,q),Vn(pe(U),q),Object.defineProperty(U,"$state",{get:()=>s.state.value[t],set:K=>{_(O=>{Vn(O,K)})}}),s._p.forEach(K=>{Vn(U,o.run(()=>K({store:U,app:s._a,pinia:s,options:a})))}),m&&i&&n.hydrate&&n.hydrate(U.$state,m),c=!0,u=!0,U}function vr(t,e,n){let s;const r=typeof e=="function";s=r?n:e;function i(o,a){const l=Wv();return o=o||(l?It(rm,null):null),o&&Ca(o),o=sm,o._s.has(t)||(r?om(t,e,s,o):gE(t,s,o)),o._s.get(t)}return i.$id=t,i}function _E(t,e){if(t==null)return;let n=t;for(let s=0;s<e.length;s++){if(n===void 0||n[e[s]]===void 0)return;if(n===null||n[e[s]]===null)return null;n=n[e[s]]}return n}function Hc(t,e,n){if(n.length===0)return e;const s=n[0];return n.length>1&&(e=Hc(typeof t!="object"||t===null||!Object.prototype.hasOwnProperty.call(t,s)?Number.isInteger(Number(n[1]))?[]:{}:t[s],e,Array.prototype.slice.call(n,1))),Number.isInteger(Number(s))&&Array.isArray(t)?t.slice()[s]:Object.assign({},t,{[s]:e})}function am(t,e){if(t==null||e.length===0)return t;if(e.length===1){if(t==null)return t;if(Number.isInteger(e[0])&&Array.isArray(t))return Array.prototype.slice.call(t,0).splice(e[0],1);const n={};for(const s in t)n[s]=t[s];return delete n[e[0]],n}if(t[e[0]]==null){if(Number.isInteger(e[0])&&Array.isArray(t))return Array.prototype.concat.call([],t);const n={};for(const s in t)n[s]=t[s];return n}return Hc(t,am(t[e[0]],Array.prototype.slice.call(e,1)),[e[0]])}function lm(t,e){return e.map(n=>n.split(".")).map(n=>[n,_E(t,n)]).filter(n=>n[1]!==void 0).reduce((n,s)=>Hc(n,s[1],s[0]),{})}function cm(t,e){return e.map(n=>n.split(".")).reduce((n,s)=>am(n,s),t)}function Bd(t,{storage:e,serializer:n,key:s,debug:r,pick:i,omit:o,beforeHydrate:a,afterHydrate:l},c,u=!0){try{u&&a?.(c);const d=e.getItem(s);if(d){const f=n.deserialize(d),h=i?lm(f,i):f,m=o?cm(h,o):h;t.$patch(m)}u&&l?.(c)}catch(d){r&&console.error("[pinia-plugin-persistedstate]",d)}}function Vd(t,{storage:e,serializer:n,key:s,debug:r,pick:i,omit:o}){try{const a=i?lm(t,i):t,l=o?cm(a,o):a,c=n.serialize(l);e.setItem(s,c)}catch(a){r&&console.error("[pinia-plugin-persistedstate]",a)}}function yE(t,e){return typeof t=="function"?t(e):typeof t=="string"?t:e}function vE(t,e,n){const{pinia:s,store:r,options:{persist:i=n}}=t;if(!i)return;if(!(r.$id in s.state.value)){const a=s._s.get(r.$id.replace("__hot:",""));a&&Promise.resolve().then(()=>a.$persist());return}const o=(Array.isArray(i)?i:i===!0?[{}]:[i]).map(e);r.$hydrate=({runHooks:a=!0}={})=>{o.forEach(l=>{Bd(r,l,t,a)})},r.$persist=()=>{o.forEach(a=>{Vd(r.$state,a)})},o.forEach(a=>{Bd(r,a,t),r.$subscribe((l,c)=>Vd(c,a),{detached:!0})})}function bE(t={}){return function(e){vE(e,n=>{const s=yE(n.key,e.store.$id);return{key:(t.key?t.key:r=>r)(s),debug:n.debug??t.debug??!1,serializer:n.serializer??t.serializer??{serialize:r=>JSON.stringify(r),deserialize:r=>JSON.parse(r)},storage:n.storage??t.storage??window.localStorage,beforeHydrate:n.beforeHydrate??t.beforeHydrate,afterHydrate:n.afterHydrate??t.afterHydrate,pick:n.pick,omit:n.omit}},t.auto??!1)}}var EE=bE(),nn=(t=>(t.LOADING="loading",t.LOADED="loaded",t.ERROR="error",t))(nn||{});const wE=typeof window<"u"&&window!==null,CE=RE(),IE=Object.prototype.propertyIsEnumerable,$d=Object.getOwnPropertySymbols;function Xr(t){return typeof t=="function"||toString.call(t)==="[object Object]"}function SE(t){return typeof t=="object"?t===null:typeof t!="function"}function TE(t){return t!=="__proto__"&&t!=="constructor"&&t!=="prototype"}function RE(){return wE&&"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype?("isIntersecting"in window.IntersectionObserverEntry.prototype||Object.defineProperty(window.IntersectionObserverEntry.prototype,"isIntersecting",{get(){return this.intersectionRatio>0}}),!0):!1}function AE(t,...e){if(!Xr(t))throw new TypeError("expected the first argument to be an object");if(e.length===0||typeof Symbol!="function"||typeof $d!="function")return t;for(const n of e){const s=$d(n);for(const r of s)IE.call(n,r)&&(t[r]=n[r])}return t}function um(t,...e){let n=0;for(SE(t)&&(t=e[n++]),t||(t={});n<e.length;n++)if(Xr(e[n])){for(const s of Object.keys(e[n]))TE(s)&&(Xr(t[s])&&Xr(e[n][s])?um(t[s],e[n][s]):t[s]=e[n][s]);AE(t,e[n])}return t}const Hd="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",xE="",PE={rootMargin:"0px",threshold:0},$s="data-lazy-timeout-id";class NE{constructor(e){this.options={loading:Hd,error:xE,observerOptions:PE,log:!0,lifecycle:{},logLevel:"error"},this._images=new WeakMap,this.config(e)}config(e={}){um(this.options,e)}mount(e,n){if(!e)return;const{src:s,loading:r,error:i,lifecycle:o,delay:a}=this._valueFormatter(typeof n=="string"?n:n.value);this._lifecycle(nn.LOADING,o,e),e.setAttribute("src",r||Hd),CE||(this.loadImages(e,s,i,o),this._log(()=>{this._logger("Not support IntersectionObserver!")})),this._initIntersectionObserver(e,s,i,o,a)}update(e,n){if(!e)return;this._realObserver(e)?.unobserve(e);const{src:s,error:r,lifecycle:i,delay:o}=this._valueFormatter(typeof n=="string"?n:n.value);this._initIntersectionObserver(e,s,r,i,o)}unmount(e){e&&(this._realObserver(e)?.unobserve(e),this._images.delete(e))}loadImages(e,n,s,r){this._setImageSrc(e,n,s,r)}_setImageSrc(e,n,s,r){e.tagName.toLowerCase()==="img"?(n&&e.getAttribute("src")!==n&&e.setAttribute("src",n),this._listenImageStatus(e,()=>{this._lifecycle(nn.LOADED,r,e)},()=>{e.onload=null,this._lifecycle(nn.ERROR,r,e),this._realObserver(e)?.disconnect(),s&&e.getAttribute("src")!==s&&e.setAttribute("src",s),this._log(()=>{this._logger(`Image failed to load!And failed src was: ${n} `)})})):e.style.backgroundImage=`url('${n}')`}_initIntersectionObserver(e,n,s,r,i){const o=this.options.observerOptions;this._images.set(e,new IntersectionObserver(a=>{Array.prototype.forEach.call(a,l=>{i&&i>0?this._delayedIntersectionCallback(e,l,i,n,s,r):this._intersectionCallback(e,l,n,s,r)})},o)),this._realObserver(e)?.observe(e)}_intersectionCallback(e,n,s,r,i){n.isIntersecting&&(this._realObserver(e)?.unobserve(n.target),this._setImageSrc(e,s,r,i))}_delayedIntersectionCallback(e,n,s,r,i,o){if(n.isIntersecting){if(n.target.hasAttribute($s))return;const a=setTimeout(()=>{this._intersectionCallback(e,n,r,i,o),n.target.removeAttribute($s)},s);n.target.setAttribute($s,String(a))}else n.target.hasAttribute($s)&&(clearTimeout(Number(n.target.getAttribute($s))),n.target.removeAttribute($s))}_listenImageStatus(e,n,s){e.onload=n,e.onerror=s}_valueFormatter(e){let n=e,s=this.options.loading,r=this.options.error,i=this.options.lifecycle,o=this.options.delay;return Xr(e)&&(n=e.src,s=e.loading||this.options.loading,r=e.error||this.options.error,i=e.lifecycle||this.options.lifecycle,o=e.delay||this.options.delay),{src:n,loading:s,error:r,lifecycle:i,delay:o}}_log(e){this.options.log&&e()}_lifecycle(e,n,s){switch(e){case nn.LOADING:s?.setAttribute("lazy",nn.LOADING),n?.loading&&n.loading(s);break;case nn.LOADED:s?.setAttribute("lazy",nn.LOADED),n?.loaded&&n.loaded(s);break;case nn.ERROR:s?.setAttribute("lazy",nn.ERROR),n?.error&&n.error(s);break}}_realObserver(e){return this._images.get(e)}_logger(e,...n){let s=console.error;switch(this.options.logLevel){case"error":s=console.error;break;case"warn":s=console.warn;break;case"info":s=console.info;break;case"debug":s=console.debug;break}s(e,n)}}const OE={install(t,e){const n=new NE(e);t.config.globalProperties.$Lazyload=n,t.provide("Lazyload",n),t.directive("lazy",{mounted:n.mount.bind(n),updated:n.update.bind(n),unmounted:n.unmount.bind(n)})}};var kE=Object.defineProperty,Wd=Object.getOwnPropertySymbols,DE=Object.prototype.hasOwnProperty,ME=Object.prototype.propertyIsEnumerable,jd=(t,e,n)=>e in t?kE(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,dm=(t,e)=>{for(var n in e||(e={}))DE.call(e,n)&&jd(t,n,e[n]);if(Wd)for(var n of Wd(e))ME.call(e,n)&&jd(t,n,e[n]);return t},Ia=t=>typeof t=="function",Sa=t=>typeof t=="string",fm=t=>Sa(t)&&t.trim().length>0,LE=t=>typeof t=="number",vs=t=>typeof t>"u",mi=t=>typeof t=="object"&&t!==null,FE=t=>an(t,"tag")&&fm(t.tag),hm=t=>window.TouchEvent&&t instanceof TouchEvent,pm=t=>an(t,"component")&&mm(t.component),UE=t=>Ia(t)||mi(t),mm=t=>!vs(t)&&(Sa(t)||UE(t)||pm(t)),Gd=t=>mi(t)&&["height","width","right","left","top","bottom"].every(e=>LE(t[e])),an=(t,e)=>(mi(t)||Ia(t))&&e in t,BE=(t=>()=>t++)(0);function il(t){return hm(t)?t.targetTouches[0].clientX:t.clientX}function qd(t){return hm(t)?t.targetTouches[0].clientY:t.clientY}var VE=t=>{vs(t.remove)?t.parentNode&&t.parentNode.removeChild(t):t.remove()},Ui=t=>pm(t)?Ui(t.component):FE(t)?ke({render(){return t}}):typeof t=="string"?t:pe(w(t)),$E=t=>{if(typeof t=="string")return t;const e=an(t,"props")&&mi(t.props)?t.props:{},n=an(t,"listeners")&&mi(t.listeners)?t.listeners:{};return{component:Ui(t),props:e,listeners:n}},HE=()=>typeof window<"u",Wc=class{constructor(){this.allHandlers={}}getHandlers(t){return this.allHandlers[t]||[]}on(t,e){const n=this.getHandlers(t);n.push(e),this.allHandlers[t]=n}off(t,e){const n=this.getHandlers(t);n.splice(n.indexOf(e)>>>0,1)}emit(t,e){this.getHandlers(t).forEach(s=>s(e))}},WE=t=>["on","off","emit"].every(e=>an(t,e)&&Ia(t[e])),bt;(function(t){t.SUCCESS="success",t.ERROR="error",t.WARNING="warning",t.INFO="info",t.DEFAULT="default"})(bt||(bt={}));var gi;(function(t){t.TOP_LEFT="top-left",t.TOP_CENTER="top-center",t.TOP_RIGHT="top-right",t.BOTTOM_LEFT="bottom-left",t.BOTTOM_CENTER="bottom-center",t.BOTTOM_RIGHT="bottom-right"})(gi||(gi={}));var Et;(function(t){t.ADD="add",t.DISMISS="dismiss",t.UPDATE="update",t.CLEAR="clear",t.UPDATE_DEFAULTS="update_defaults"})(Et||(Et={}));var Lt="Vue-Toastification",Dt={type:{type:String,default:bt.DEFAULT},classNames:{type:[String,Array],default:()=>[]},trueBoolean:{type:Boolean,default:!0}},gm={type:Dt.type,customIcon:{type:[String,Boolean,Object,Function],default:!0}},vo={component:{type:[String,Object,Function,Boolean],default:"button"},classNames:Dt.classNames,showOnHover:{type:Boolean,default:!1},ariaLabel:{type:String,default:"close"}},Wl={timeout:{type:[Number,Boolean],default:5e3},hideProgressBar:{type:Boolean,default:!1},isRunning:{type:Boolean,default:!1}},_m={transition:{type:[Object,String],default:`${Lt}__bounce`}},jE={position:{type:String,default:gi.TOP_RIGHT},draggable:Dt.trueBoolean,draggablePercent:{type:Number,default:.6},pauseOnFocusLoss:Dt.trueBoolean,pauseOnHover:Dt.trueBoolean,closeOnClick:Dt.trueBoolean,timeout:Wl.timeout,hideProgressBar:Wl.hideProgressBar,toastClassName:Dt.classNames,bodyClassName:Dt.classNames,icon:gm.customIcon,closeButton:vo.component,closeButtonClassName:vo.classNames,showCloseButtonOnHover:vo.showOnHover,accessibility:{type:Object,default:()=>({toastRole:"alert",closeButtonLabel:"close"})},rtl:{type:Boolean,default:!1},eventBus:{type:Object,required:!1,default:()=>new Wc}},GE={id:{type:[String,Number],required:!0,default:0},type:Dt.type,content:{type:[String,Object,Function],required:!0,default:""},onClick:{type:Function,default:void 0},onClose:{type:Function,default:void 0}},qE={container:{type:[Object,Function],default:()=>document.body},newestOnTop:Dt.trueBoolean,maxToasts:{type:Number,default:20},transition:_m.transition,toastDefaults:Object,filterBeforeCreate:{type:Function,default:t=>t},filterToasts:{type:Function,default:t=>t},containerClassName:Dt.classNames,onMounted:Function,shareAppContext:[Boolean,Object]},In={CORE_TOAST:jE,TOAST:GE,CONTAINER:qE,PROGRESS_BAR:Wl,ICON:gm,TRANSITION:_m,CLOSE_BUTTON:vo},ym=ke({name:"VtProgressBar",props:In.PROGRESS_BAR,data(){return{hasClass:!0}},computed:{style(){return{animationDuration:`${this.timeout}ms`,animationPlayState:this.isRunning?"running":"paused",opacity:this.hideProgressBar?0:1}},cpClass(){return this.hasClass?`${Lt}__progress-bar`:""}},watch:{timeout(){this.hasClass=!1,this.$nextTick(()=>this.hasClass=!0)}},mounted(){this.$el.addEventListener("animationend",this.animationEnded)},beforeUnmount(){this.$el.removeEventListener("animationend",this.animationEnded)},methods:{animationEnded(){this.$emit("close-toast")}}});function zE(t,e){return H(),ae("div",{style:Oi(t.style),class:$e(t.cpClass)},null,6)}ym.render=zE;var KE=ym,vm=ke({name:"VtCloseButton",props:In.CLOSE_BUTTON,computed:{buttonComponent(){return this.component!==!1?Ui(this.component):"button"},classes(){const t=[`${Lt}__close-button`];return this.showOnHover&&t.push("show-on-hover"),t.concat(this.classNames)}}}),YE=He("  ");function JE(t,e){return H(),Le(Lc(t.buttonComponent),ba({"aria-label":t.ariaLabel,class:t.classes},t.$attrs),{default:_t(()=>[YE]),_:1},16,["aria-label","class"])}vm.render=JE;var QE=vm,bm={},XE={"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"check-circle",class:"svg-inline--fa fa-check-circle fa-w-16",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},ZE=C("path",{fill:"currentColor",d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},null,-1),ew=[ZE];function tw(t,e){return H(),ae("svg",XE,ew)}bm.render=tw;var nw=bm,Em={},sw={"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"info-circle",class:"svg-inline--fa fa-info-circle fa-w-16",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},rw=C("path",{fill:"currentColor",d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"},null,-1),iw=[rw];function ow(t,e){return H(),ae("svg",sw,iw)}Em.render=ow;var zd=Em,wm={},aw={"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"exclamation-circle",class:"svg-inline--fa fa-exclamation-circle fa-w-16",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},lw=C("path",{fill:"currentColor",d:"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zm-248 50c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},null,-1),cw=[lw];function uw(t,e){return H(),ae("svg",aw,cw)}wm.render=uw;var dw=wm,Cm={},fw={"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"exclamation-triangle",class:"svg-inline--fa fa-exclamation-triangle fa-w-18",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512"},hw=C("path",{fill:"currentColor",d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},null,-1),pw=[hw];function mw(t,e){return H(),ae("svg",fw,pw)}Cm.render=mw;var gw=Cm,Im=ke({name:"VtIcon",props:In.ICON,computed:{customIconChildren(){return an(this.customIcon,"iconChildren")?this.trimValue(this.customIcon.iconChildren):""},customIconClass(){return Sa(this.customIcon)?this.trimValue(this.customIcon):an(this.customIcon,"iconClass")?this.trimValue(this.customIcon.iconClass):""},customIconTag(){return an(this.customIcon,"iconTag")?this.trimValue(this.customIcon.iconTag,"i"):"i"},hasCustomIcon(){return this.customIconClass.length>0},component(){return this.hasCustomIcon?this.customIconTag:mm(this.customIcon)?Ui(this.customIcon):this.iconTypeComponent},iconTypeComponent(){return{[bt.DEFAULT]:zd,[bt.INFO]:zd,[bt.SUCCESS]:nw,[bt.ERROR]:gw,[bt.WARNING]:dw}[this.type]},iconClasses(){const t=[`${Lt}__icon`];return this.hasCustomIcon?t.concat(this.customIconClass):t}},methods:{trimValue(t,e=""){return fm(t)?t.trim():e}}});function _w(t,e){return H(),Le(Lc(t.component),{class:$e(t.iconClasses)},{default:_t(()=>[He(xe(t.customIconChildren),1)]),_:1},8,["class"])}Im.render=_w;var yw=Im,Sm=ke({name:"VtToast",components:{ProgressBar:KE,CloseButton:QE,Icon:yw},inheritAttrs:!1,props:Object.assign({},In.CORE_TOAST,In.TOAST),data(){return{isRunning:!0,disableTransitions:!1,beingDragged:!1,dragStart:0,dragPos:{x:0,y:0},dragRect:{}}},computed:{classes(){const t=[`${Lt}__toast`,`${Lt}__toast--${this.type}`,`${this.position}`].concat(this.toastClassName);return this.disableTransitions&&t.push("disable-transition"),this.rtl&&t.push(`${Lt}__toast--rtl`),t},bodyClasses(){return[`${Lt}__toast-${Sa(this.content)?"body":"component-body"}`].concat(this.bodyClassName)},draggableStyle(){return this.dragStart===this.dragPos.x?{}:this.beingDragged?{transform:`translateX(${this.dragDelta}px)`,opacity:1-Math.abs(this.dragDelta/this.removalDistance)}:{transition:"transform 0.2s, opacity 0.2s",transform:"translateX(0)",opacity:1}},dragDelta(){return this.beingDragged?this.dragPos.x-this.dragStart:0},removalDistance(){return Gd(this.dragRect)?(this.dragRect.right-this.dragRect.left)*this.draggablePercent:0}},mounted(){this.draggable&&this.draggableSetup(),this.pauseOnFocusLoss&&this.focusSetup()},beforeUnmount(){this.draggable&&this.draggableCleanup(),this.pauseOnFocusLoss&&this.focusCleanup()},methods:{hasProp:an,getVueComponentFromObj:Ui,closeToast(){this.eventBus.emit(Et.DISMISS,this.id)},clickHandler(){this.onClick&&this.onClick(this.closeToast),this.closeOnClick&&(!this.beingDragged||this.dragStart===this.dragPos.x)&&this.closeToast()},timeoutHandler(){this.closeToast()},hoverPause(){this.pauseOnHover&&(this.isRunning=!1)},hoverPlay(){this.pauseOnHover&&(this.isRunning=!0)},focusPause(){this.isRunning=!1},focusPlay(){this.isRunning=!0},focusSetup(){addEventListener("blur",this.focusPause),addEventListener("focus",this.focusPlay)},focusCleanup(){removeEventListener("blur",this.focusPause),removeEventListener("focus",this.focusPlay)},draggableSetup(){const t=this.$el;t.addEventListener("touchstart",this.onDragStart,{passive:!0}),t.addEventListener("mousedown",this.onDragStart),addEventListener("touchmove",this.onDragMove,{passive:!1}),addEventListener("mousemove",this.onDragMove),addEventListener("touchend",this.onDragEnd),addEventListener("mouseup",this.onDragEnd)},draggableCleanup(){const t=this.$el;t.removeEventListener("touchstart",this.onDragStart),t.removeEventListener("mousedown",this.onDragStart),removeEventListener("touchmove",this.onDragMove),removeEventListener("mousemove",this.onDragMove),removeEventListener("touchend",this.onDragEnd),removeEventListener("mouseup",this.onDragEnd)},onDragStart(t){this.beingDragged=!0,this.dragPos={x:il(t),y:qd(t)},this.dragStart=il(t),this.dragRect=this.$el.getBoundingClientRect()},onDragMove(t){this.beingDragged&&(t.preventDefault(),this.isRunning&&(this.isRunning=!1),this.dragPos={x:il(t),y:qd(t)})},onDragEnd(){this.beingDragged&&(Math.abs(this.dragDelta)>=this.removalDistance?(this.disableTransitions=!0,this.$nextTick(()=>this.closeToast())):setTimeout(()=>{this.beingDragged=!1,Gd(this.dragRect)&&this.pauseOnHover&&this.dragRect.bottom>=this.dragPos.y&&this.dragPos.y>=this.dragRect.top&&this.dragRect.left<=this.dragPos.x&&this.dragPos.x<=this.dragRect.right?this.isRunning=!1:this.isRunning=!0}))}}}),vw=["role"];function bw(t,e){const n=Qn("Icon"),s=Qn("CloseButton"),r=Qn("ProgressBar");return H(),ae("div",{class:$e(t.classes),style:Oi(t.draggableStyle),onClick:e[0]||(e[0]=(...i)=>t.clickHandler&&t.clickHandler(...i)),onMouseenter:e[1]||(e[1]=(...i)=>t.hoverPause&&t.hoverPause(...i)),onMouseleave:e[2]||(e[2]=(...i)=>t.hoverPlay&&t.hoverPlay(...i))},[t.icon?(H(),Le(n,{key:0,"custom-icon":t.icon,type:t.type},null,8,["custom-icon","type"])):Xe("v-if",!0),C("div",{role:t.accessibility.toastRole||"alert",class:$e(t.bodyClasses)},[typeof t.content=="string"?(H(),ae(Ne,{key:0},[He(xe(t.content),1)],2112)):(H(),Le(Lc(t.getVueComponentFromObj(t.content)),ba({key:1,"toast-id":t.id},t.hasProp(t.content,"props")?t.content.props:{},Dv(t.hasProp(t.content,"listeners")?t.content.listeners:{}),{onCloseToast:t.closeToast}),null,16,["toast-id","onCloseToast"]))],10,vw),t.closeButton?(H(),Le(s,{key:1,component:t.closeButton,"class-names":t.closeButtonClassName,"show-on-hover":t.showCloseButtonOnHover,"aria-label":t.accessibility.closeButtonLabel,onClick:em(t.closeToast,["stop"])},null,8,["component","class-names","show-on-hover","aria-label","onClick"])):Xe("v-if",!0),t.timeout?(H(),Le(r,{key:2,"is-running":t.isRunning,"hide-progress-bar":t.hideProgressBar,timeout:t.timeout,onCloseToast:t.timeoutHandler},null,8,["is-running","hide-progress-bar","timeout","onCloseToast"])):Xe("v-if",!0)],38)}Sm.render=bw;var Ew=Sm,Tm=ke({name:"VtTransition",props:In.TRANSITION,emits:["leave"],methods:{hasProp:an,leave(t){t instanceof HTMLElement&&(t.style.left=t.offsetLeft+"px",t.style.top=t.offsetTop+"px",t.style.width=getComputedStyle(t).width,t.style.position="absolute")}}});function ww(t,e){return H(),Le(zb,{tag:"div","enter-active-class":t.transition.enter?t.transition.enter:`${t.transition}-enter-active`,"move-class":t.transition.move?t.transition.move:`${t.transition}-move`,"leave-active-class":t.transition.leave?t.transition.leave:`${t.transition}-leave-active`,onLeave:t.leave},{default:_t(()=>[Uc(t.$slots,"default")]),_:3},8,["enter-active-class","move-class","leave-active-class","onLeave"])}Tm.render=ww;var Cw=Tm,Rm=ke({name:"VueToastification",devtools:{hide:!0},components:{Toast:Ew,VtTransition:Cw},props:Object.assign({},In.CORE_TOAST,In.CONTAINER,In.TRANSITION),data(){return{count:0,positions:Object.values(gi),toasts:{},defaults:{}}},computed:{toastArray(){return Object.values(this.toasts)},filteredToasts(){return this.defaults.filterToasts(this.toastArray)}},beforeMount(){const t=this.eventBus;t.on(Et.ADD,this.addToast),t.on(Et.CLEAR,this.clearToasts),t.on(Et.DISMISS,this.dismissToast),t.on(Et.UPDATE,this.updateToast),t.on(Et.UPDATE_DEFAULTS,this.updateDefaults),this.defaults=this.$props},mounted(){this.setup(this.container)},methods:{async setup(t){Ia(t)&&(t=await t()),VE(this.$el),t.appendChild(this.$el)},setToast(t){vs(t.id)||(this.toasts[t.id]=t)},addToast(t){t.content=$E(t.content);const e=Object.assign({},this.defaults,t.type&&this.defaults.toastDefaults&&this.defaults.toastDefaults[t.type],t),n=this.defaults.filterBeforeCreate(e,this.toastArray);n&&this.setToast(n)},dismissToast(t){const e=this.toasts[t];!vs(e)&&!vs(e.onClose)&&e.onClose(),delete this.toasts[t]},clearToasts(){Object.keys(this.toasts).forEach(t=>{this.dismissToast(t)})},getPositionToasts(t){const e=this.filteredToasts.filter(n=>n.position===t).slice(0,this.defaults.maxToasts);return this.defaults.newestOnTop?e.reverse():e},updateDefaults(t){vs(t.container)||this.setup(t.container),this.defaults=Object.assign({},this.defaults,t)},updateToast({id:t,options:e,create:n}){this.toasts[t]?(e.timeout&&e.timeout===this.toasts[t].timeout&&e.timeout++,this.setToast(Object.assign({},this.toasts[t],e))):n&&this.addToast(Object.assign({},{id:t},e))},getClasses(t){return[`${Lt}__container`,t].concat(this.defaults.containerClassName)}}});function Iw(t,e){const n=Qn("Toast"),s=Qn("VtTransition");return H(),ae("div",null,[(H(!0),ae(Ne,null,di(t.positions,r=>(H(),ae("div",{key:r},[ye(s,{transition:t.defaults.transition,class:$e(t.getClasses(r))},{default:_t(()=>[(H(!0),ae(Ne,null,di(t.getPositionToasts(r),i=>(H(),Le(n,ba({key:i.id},i),null,16))),128))]),_:2},1032,["transition","class"])]))),128))])}Rm.render=Iw;var Sw=Rm,Kd=(t={},e=!0)=>{const n=t.eventBus=t.eventBus||new Wc;e&&Mi(()=>{const i=nm(Sw,dm({},t)),o=i.mount(document.createElement("div")),a=t.onMounted;if(vs(a)||a(o,i),t.shareAppContext){const l=t.shareAppContext;l===!0?console.warn(`[${Lt}] App to share context with was not provided.`):(i._context.components=l._context.components,i._context.directives=l._context.directives,i._context.mixins=l._context.mixins,i._context.provides=l._context.provides,i.config.globalProperties=l.config.globalProperties)}});const s=(i,o)=>{const a=Object.assign({},{id:BE(),type:bt.DEFAULT},o,{content:i});return n.emit(Et.ADD,a),a.id};s.clear=()=>n.emit(Et.CLEAR,void 0),s.updateDefaults=i=>{n.emit(Et.UPDATE_DEFAULTS,i)},s.dismiss=i=>{n.emit(Et.DISMISS,i)};function r(i,{content:o,options:a},l=!1){const c=Object.assign({},a,{content:o});n.emit(Et.UPDATE,{id:i,options:c,create:l})}return s.update=r,s.success=(i,o)=>s(i,Object.assign({},o,{type:bt.SUCCESS})),s.info=(i,o)=>s(i,Object.assign({},o,{type:bt.INFO})),s.error=(i,o)=>s(i,Object.assign({},o,{type:bt.ERROR})),s.warning=(i,o)=>s(i,Object.assign({},o,{type:bt.WARNING})),s},Tw=()=>{const t=()=>console.warn(`[${Lt}] This plugin does not support SSR!`);return new Proxy(t,{get(){return t}})};function Am(t){return HE()?WE(t)?Kd({eventBus:t},!1):Kd(t,!0):Tw()}var xm=Symbol("VueToastification"),Pm=new Wc,Rw=(t,e)=>{e?.shareAppContext===!0&&(e.shareAppContext=t);const n=Am(dm({eventBus:Pm},e));t.provide(xm,n)},Nm=t=>{const e=Ea()?It(xm,void 0):void 0;return e||Am(Pm)},Aw=Rw;function Om(t,e){return function(){return t.apply(e,arguments)}}const{toString:xw}=Object.prototype,{getPrototypeOf:jc}=Object,{iterator:Ta,toStringTag:km}=Symbol,Ra=(t=>e=>{const n=xw.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),qt=t=>(t=t.toLowerCase(),e=>Ra(e)===t),Aa=t=>e=>typeof e===t,{isArray:br}=Array,lr=Aa("undefined");function Bi(t){return t!==null&&!lr(t)&&t.constructor!==null&&!lr(t.constructor)&&mt(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const Dm=qt("ArrayBuffer");function Pw(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&Dm(t.buffer),e}const Nw=Aa("string"),mt=Aa("function"),Mm=Aa("number"),Vi=t=>t!==null&&typeof t=="object",Ow=t=>t===!0||t===!1,bo=t=>{if(Ra(t)!=="object")return!1;const e=jc(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(km in t)&&!(Ta in t)},kw=t=>{if(!Vi(t)||Bi(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},Dw=qt("Date"),Mw=qt("File"),Lw=qt("Blob"),Fw=qt("FileList"),Uw=t=>Vi(t)&&mt(t.pipe),Bw=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||mt(t.append)&&((e=Ra(t))==="formdata"||e==="object"&&mt(t.toString)&&t.toString()==="[object FormData]"))},Vw=qt("URLSearchParams"),[$w,Hw,Ww,jw]=["ReadableStream","Request","Response","Headers"].map(qt),Gw=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function $i(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let s,r;if(typeof t!="object"&&(t=[t]),br(t))for(s=0,r=t.length;s<r;s++)e.call(null,t[s],s,t);else{if(Bi(t))return;const i=n?Object.getOwnPropertyNames(t):Object.keys(t),o=i.length;let a;for(s=0;s<o;s++)a=i[s],e.call(null,t[a],a,t)}}function Lm(t,e){if(Bi(t))return null;e=e.toLowerCase();const n=Object.keys(t);let s=n.length,r;for(;s-- >0;)if(r=n[s],e===r.toLowerCase())return r;return null}const bs=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Fm=t=>!lr(t)&&t!==bs;function jl(){const{caseless:t,skipUndefined:e}=Fm(this)&&this||{},n={},s=(r,i)=>{const o=t&&Lm(n,i)||i;bo(n[o])&&bo(r)?n[o]=jl(n[o],r):bo(r)?n[o]=jl({},r):br(r)?n[o]=r.slice():(!e||!lr(r))&&(n[o]=r)};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&$i(arguments[r],s);return n}const qw=(t,e,n,{allOwnKeys:s}={})=>($i(e,(r,i)=>{n&&mt(r)?t[i]=Om(r,n):t[i]=r},{allOwnKeys:s}),t),zw=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Kw=(t,e,n,s)=>{t.prototype=Object.create(e.prototype,s),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},Yw=(t,e,n,s)=>{let r,i,o;const a={};if(e=e||{},t==null)return e;do{for(r=Object.getOwnPropertyNames(t),i=r.length;i-- >0;)o=r[i],(!s||s(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=n!==!1&&jc(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},Jw=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const s=t.indexOf(e,n);return s!==-1&&s===n},Qw=t=>{if(!t)return null;if(br(t))return t;let e=t.length;if(!Mm(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},Xw=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&jc(Uint8Array)),Zw=(t,e)=>{const s=(t&&t[Ta]).call(t);let r;for(;(r=s.next())&&!r.done;){const i=r.value;e.call(t,i[0],i[1])}},eC=(t,e)=>{let n;const s=[];for(;(n=t.exec(e))!==null;)s.push(n);return s},tC=qt("HTMLFormElement"),nC=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,s,r){return s.toUpperCase()+r}),Yd=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),sC=qt("RegExp"),Um=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),s={};$i(n,(r,i)=>{let o;(o=e(r,i,t))!==!1&&(s[i]=o||r)}),Object.defineProperties(t,s)},rC=t=>{Um(t,(e,n)=>{if(mt(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const s=t[n];if(mt(s)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},iC=(t,e)=>{const n={},s=r=>{r.forEach(i=>{n[i]=!0})};return br(t)?s(t):s(String(t).split(e)),n},oC=()=>{},aC=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function lC(t){return!!(t&&mt(t.append)&&t[km]==="FormData"&&t[Ta])}const cC=t=>{const e=new Array(10),n=(s,r)=>{if(Vi(s)){if(e.indexOf(s)>=0)return;if(Bi(s))return s;if(!("toJSON"in s)){e[r]=s;const i=br(s)?[]:{};return $i(s,(o,a)=>{const l=n(o,r+1);!lr(l)&&(i[a]=l)}),e[r]=void 0,i}}return s};return n(t,0)},uC=qt("AsyncFunction"),dC=t=>t&&(Vi(t)||mt(t))&&mt(t.then)&&mt(t.catch),Bm=((t,e)=>t?setImmediate:e?((n,s)=>(bs.addEventListener("message",({source:r,data:i})=>{r===bs&&i===n&&s.length&&s.shift()()},!1),r=>{s.push(r),bs.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",mt(bs.postMessage)),fC=typeof queueMicrotask<"u"?queueMicrotask.bind(bs):typeof process<"u"&&process.nextTick||Bm,hC=t=>t!=null&&mt(t[Ta]),b={isArray:br,isArrayBuffer:Dm,isBuffer:Bi,isFormData:Bw,isArrayBufferView:Pw,isString:Nw,isNumber:Mm,isBoolean:Ow,isObject:Vi,isPlainObject:bo,isEmptyObject:kw,isReadableStream:$w,isRequest:Hw,isResponse:Ww,isHeaders:jw,isUndefined:lr,isDate:Dw,isFile:Mw,isBlob:Lw,isRegExp:sC,isFunction:mt,isStream:Uw,isURLSearchParams:Vw,isTypedArray:Xw,isFileList:Fw,forEach:$i,merge:jl,extend:qw,trim:Gw,stripBOM:zw,inherits:Kw,toFlatObject:Yw,kindOf:Ra,kindOfTest:qt,endsWith:Jw,toArray:Qw,forEachEntry:Zw,matchAll:eC,isHTMLForm:tC,hasOwnProperty:Yd,hasOwnProp:Yd,reduceDescriptors:Um,freezeMethods:rC,toObjectSet:iC,toCamelCase:nC,noop:oC,toFiniteNumber:aC,findKey:Lm,global:bs,isContextDefined:Fm,isSpecCompliantForm:lC,toJSONObject:cC,isAsyncFn:uC,isThenable:dC,setImmediate:Bm,asap:fC,isIterable:hC};function te(t,e,n,s,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),s&&(this.request=s),r&&(this.response=r,this.status=r.status?r.status:null)}b.inherits(te,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:b.toJSONObject(this.config),code:this.code,status:this.status}}});const Vm=te.prototype,$m={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{$m[t]={value:t}});Object.defineProperties(te,$m);Object.defineProperty(Vm,"isAxiosError",{value:!0});te.from=(t,e,n,s,r,i)=>{const o=Object.create(Vm);b.toFlatObject(t,o,function(u){return u!==Error.prototype},c=>c!=="isAxiosError");const a=t&&t.message?t.message:"Error",l=e==null&&t?t.code:e;return te.call(o,a,l,n,s,r),t&&o.cause==null&&Object.defineProperty(o,"cause",{value:t,configurable:!0}),o.name=t&&t.name||"Error",i&&Object.assign(o,i),o};const pC=null;function Gl(t){return b.isPlainObject(t)||b.isArray(t)}function Hm(t){return b.endsWith(t,"[]")?t.slice(0,-2):t}function Jd(t,e,n){return t?t.concat(e).map(function(r,i){return r=Hm(r),!n&&i?"["+r+"]":r}).join(n?".":""):e}function mC(t){return b.isArray(t)&&!t.some(Gl)}const gC=b.toFlatObject(b,{},null,function(e){return/^is[A-Z]/.test(e)});function xa(t,e,n){if(!b.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=b.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,_){return!b.isUndefined(_[v])});const s=n.metaTokens,r=n.visitor||u,i=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&b.isSpecCompliantForm(e);if(!b.isFunction(r))throw new TypeError("visitor must be a function");function c(m){if(m===null)return"";if(b.isDate(m))return m.toISOString();if(b.isBoolean(m))return m.toString();if(!l&&b.isBlob(m))throw new te("Blob is not supported. Use a Buffer instead.");return b.isArrayBuffer(m)||b.isTypedArray(m)?l&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function u(m,v,_){let E=m;if(m&&!_&&typeof m=="object"){if(b.endsWith(v,"{}"))v=s?v:v.slice(0,-2),m=JSON.stringify(m);else if(b.isArray(m)&&mC(m)||(b.isFileList(m)||b.endsWith(v,"[]"))&&(E=b.toArray(m)))return v=Hm(v),E.forEach(function(I,N){!(b.isUndefined(I)||I===null)&&e.append(o===!0?Jd([v],N,i):o===null?v:v+"[]",c(I))}),!1}return Gl(m)?!0:(e.append(Jd(_,v,i),c(m)),!1)}const d=[],f=Object.assign(gC,{defaultVisitor:u,convertValue:c,isVisitable:Gl});function h(m,v){if(!b.isUndefined(m)){if(d.indexOf(m)!==-1)throw Error("Circular reference detected in "+v.join("."));d.push(m),b.forEach(m,function(E,A){(!(b.isUndefined(E)||E===null)&&r.call(e,E,b.isString(A)?A.trim():A,v,f))===!0&&h(E,v?v.concat(A):[A])}),d.pop()}}if(!b.isObject(t))throw new TypeError("data must be an object");return h(t),e}function Qd(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(s){return e[s]})}function Gc(t,e){this._pairs=[],t&&xa(t,this,e)}const Wm=Gc.prototype;Wm.append=function(e,n){this._pairs.push([e,n])};Wm.toString=function(e){const n=e?function(s){return e.call(this,s,Qd)}:Qd;return this._pairs.map(function(r){return n(r[0])+"="+n(r[1])},"").join("&")};function _C(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function jm(t,e,n){if(!e)return t;const s=n&&n.encode||_C;b.isFunction(n)&&(n={serialize:n});const r=n&&n.serialize;let i;if(r?i=r(e,n):i=b.isURLSearchParams(e)?e.toString():new Gc(e,n).toString(s),i){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}class Xd{constructor(){this.handlers=[]}use(e,n,s){return this.handlers.push({fulfilled:e,rejected:n,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){b.forEach(this.handlers,function(s){s!==null&&e(s)})}}const Gm={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},yC=typeof URLSearchParams<"u"?URLSearchParams:Gc,vC=typeof FormData<"u"?FormData:null,bC=typeof Blob<"u"?Blob:null,EC={isBrowser:!0,classes:{URLSearchParams:yC,FormData:vC,Blob:bC},protocols:["http","https","file","blob","url","data"]},qc=typeof window<"u"&&typeof document<"u",ql=typeof navigator=="object"&&navigator||void 0,wC=qc&&(!ql||["ReactNative","NativeScript","NS"].indexOf(ql.product)<0),CC=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",IC=qc&&window.location.href||"http://localhost",SC=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:qc,hasStandardBrowserEnv:wC,hasStandardBrowserWebWorkerEnv:CC,navigator:ql,origin:IC},Symbol.toStringTag,{value:"Module"})),rt={...SC,...EC};function TC(t,e){return xa(t,new rt.classes.URLSearchParams,{visitor:function(n,s,r,i){return rt.isNode&&b.isBuffer(n)?(this.append(s,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...e})}function RC(t){return b.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function AC(t){const e={},n=Object.keys(t);let s;const r=n.length;let i;for(s=0;s<r;s++)i=n[s],e[i]=t[i];return e}function qm(t){function e(n,s,r,i){let o=n[i++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=i>=n.length;return o=!o&&b.isArray(r)?r.length:o,l?(b.hasOwnProp(r,o)?r[o]=[r[o],s]:r[o]=s,!a):((!r[o]||!b.isObject(r[o]))&&(r[o]=[]),e(n,s,r[o],i)&&b.isArray(r[o])&&(r[o]=AC(r[o])),!a)}if(b.isFormData(t)&&b.isFunction(t.entries)){const n={};return b.forEachEntry(t,(s,r)=>{e(RC(s),r,n,0)}),n}return null}function xC(t,e,n){if(b.isString(t))try{return(e||JSON.parse)(t),b.trim(t)}catch(s){if(s.name!=="SyntaxError")throw s}return(n||JSON.stringify)(t)}const Hi={transitional:Gm,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const s=n.getContentType()||"",r=s.indexOf("application/json")>-1,i=b.isObject(e);if(i&&b.isHTMLForm(e)&&(e=new FormData(e)),b.isFormData(e))return r?JSON.stringify(qm(e)):e;if(b.isArrayBuffer(e)||b.isBuffer(e)||b.isStream(e)||b.isFile(e)||b.isBlob(e)||b.isReadableStream(e))return e;if(b.isArrayBufferView(e))return e.buffer;if(b.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(i){if(s.indexOf("application/x-www-form-urlencoded")>-1)return TC(e,this.formSerializer).toString();if((a=b.isFileList(e))||s.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return xa(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return i||r?(n.setContentType("application/json",!1),xC(e)):e}],transformResponse:[function(e){const n=this.transitional||Hi.transitional,s=n&&n.forcedJSONParsing,r=this.responseType==="json";if(b.isResponse(e)||b.isReadableStream(e))return e;if(e&&b.isString(e)&&(s&&!this.responseType||r)){const o=!(n&&n.silentJSONParsing)&&r;try{return JSON.parse(e,this.parseReviver)}catch(a){if(o)throw a.name==="SyntaxError"?te.from(a,te.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:rt.classes.FormData,Blob:rt.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};b.forEach(["delete","get","head","post","put","patch"],t=>{Hi.headers[t]={}});const PC=b.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),NC=t=>{const e={};let n,s,r;return t&&t.split(`
`).forEach(function(o){r=o.indexOf(":"),n=o.substring(0,r).trim().toLowerCase(),s=o.substring(r+1).trim(),!(!n||e[n]&&PC[n])&&(n==="set-cookie"?e[n]?e[n].push(s):e[n]=[s]:e[n]=e[n]?e[n]+", "+s:s)}),e},Zd=Symbol("internals");function Lr(t){return t&&String(t).trim().toLowerCase()}function Eo(t){return t===!1||t==null?t:b.isArray(t)?t.map(Eo):String(t)}function OC(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=n.exec(t);)e[s[1]]=s[2];return e}const kC=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function ol(t,e,n,s,r){if(b.isFunction(s))return s.call(this,e,n);if(r&&(e=n),!!b.isString(e)){if(b.isString(s))return e.indexOf(s)!==-1;if(b.isRegExp(s))return s.test(e)}}function DC(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,s)=>n.toUpperCase()+s)}function MC(t,e){const n=b.toCamelCase(" "+e);["get","set","has"].forEach(s=>{Object.defineProperty(t,s+n,{value:function(r,i,o){return this[s].call(this,e,r,i,o)},configurable:!0})})}let gt=class{constructor(e){e&&this.set(e)}set(e,n,s){const r=this;function i(a,l,c){const u=Lr(l);if(!u)throw new Error("header name must be a non-empty string");const d=b.findKey(r,u);(!d||r[d]===void 0||c===!0||c===void 0&&r[d]!==!1)&&(r[d||l]=Eo(a))}const o=(a,l)=>b.forEach(a,(c,u)=>i(c,u,l));if(b.isPlainObject(e)||e instanceof this.constructor)o(e,n);else if(b.isString(e)&&(e=e.trim())&&!kC(e))o(NC(e),n);else if(b.isObject(e)&&b.isIterable(e)){let a={},l,c;for(const u of e){if(!b.isArray(u))throw TypeError("Object iterator must return a key-value pair");a[c=u[0]]=(l=a[c])?b.isArray(l)?[...l,u[1]]:[l,u[1]]:u[1]}o(a,n)}else e!=null&&i(n,e,s);return this}get(e,n){if(e=Lr(e),e){const s=b.findKey(this,e);if(s){const r=this[s];if(!n)return r;if(n===!0)return OC(r);if(b.isFunction(n))return n.call(this,r,s);if(b.isRegExp(n))return n.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Lr(e),e){const s=b.findKey(this,e);return!!(s&&this[s]!==void 0&&(!n||ol(this,this[s],s,n)))}return!1}delete(e,n){const s=this;let r=!1;function i(o){if(o=Lr(o),o){const a=b.findKey(s,o);a&&(!n||ol(s,s[a],a,n))&&(delete s[a],r=!0)}}return b.isArray(e)?e.forEach(i):i(e),r}clear(e){const n=Object.keys(this);let s=n.length,r=!1;for(;s--;){const i=n[s];(!e||ol(this,this[i],i,e,!0))&&(delete this[i],r=!0)}return r}normalize(e){const n=this,s={};return b.forEach(this,(r,i)=>{const o=b.findKey(s,i);if(o){n[o]=Eo(r),delete n[i];return}const a=e?DC(i):String(i).trim();a!==i&&delete n[i],n[a]=Eo(r),s[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return b.forEach(this,(s,r)=>{s!=null&&s!==!1&&(n[r]=e&&b.isArray(s)?s.join(", "):s)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const s=new this(e);return n.forEach(r=>s.set(r)),s}static accessor(e){const s=(this[Zd]=this[Zd]={accessors:{}}).accessors,r=this.prototype;function i(o){const a=Lr(o);s[a]||(MC(r,o),s[a]=!0)}return b.isArray(e)?e.forEach(i):i(e),this}};gt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);b.reduceDescriptors(gt.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(s){this[n]=s}}});b.freezeMethods(gt);function al(t,e){const n=this||Hi,s=e||n,r=gt.from(s.headers);let i=s.data;return b.forEach(t,function(a){i=a.call(n,i,r.normalize(),e?e.status:void 0)}),r.normalize(),i}function zm(t){return!!(t&&t.__CANCEL__)}function Er(t,e,n){te.call(this,t??"canceled",te.ERR_CANCELED,e,n),this.name="CanceledError"}b.inherits(Er,te,{__CANCEL__:!0});function Km(t,e,n){const s=n.config.validateStatus;!n.status||!s||s(n.status)?t(n):e(new te("Request failed with status code "+n.status,[te.ERR_BAD_REQUEST,te.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function LC(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function FC(t,e){t=t||10;const n=new Array(t),s=new Array(t);let r=0,i=0,o;return e=e!==void 0?e:1e3,function(l){const c=Date.now(),u=s[i];o||(o=c),n[r]=l,s[r]=c;let d=i,f=0;for(;d!==r;)f+=n[d++],d=d%t;if(r=(r+1)%t,r===i&&(i=(i+1)%t),c-o<e)return;const h=u&&c-u;return h?Math.round(f*1e3/h):void 0}}function UC(t,e){let n=0,s=1e3/e,r,i;const o=(c,u=Date.now())=>{n=u,r=null,i&&(clearTimeout(i),i=null),t(...c)};return[(...c)=>{const u=Date.now(),d=u-n;d>=s?o(c,u):(r=c,i||(i=setTimeout(()=>{i=null,o(r)},s-d)))},()=>r&&o(r)]}const Bo=(t,e,n=3)=>{let s=0;const r=FC(50,250);return UC(i=>{const o=i.loaded,a=i.lengthComputable?i.total:void 0,l=o-s,c=r(l),u=o<=a;s=o;const d={loaded:o,total:a,progress:a?o/a:void 0,bytes:l,rate:c||void 0,estimated:c&&a&&u?(a-o)/c:void 0,event:i,lengthComputable:a!=null,[e?"download":"upload"]:!0};t(d)},n)},ef=(t,e)=>{const n=t!=null;return[s=>e[0]({lengthComputable:n,total:t,loaded:s}),e[1]]},tf=t=>(...e)=>b.asap(()=>t(...e)),BC=rt.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,rt.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(rt.origin),rt.navigator&&/(msie|trident)/i.test(rt.navigator.userAgent)):()=>!0,VC=rt.hasStandardBrowserEnv?{write(t,e,n,s,r,i,o){if(typeof document>"u")return;const a=[`${t}=${encodeURIComponent(e)}`];b.isNumber(n)&&a.push(`expires=${new Date(n).toUTCString()}`),b.isString(s)&&a.push(`path=${s}`),b.isString(r)&&a.push(`domain=${r}`),i===!0&&a.push("secure"),b.isString(o)&&a.push(`SameSite=${o}`),document.cookie=a.join("; ")},read(t){if(typeof document>"u")return null;const e=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function $C(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function HC(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function Ym(t,e,n){let s=!$C(e);return t&&(s||n==!1)?HC(t,e):e}const nf=t=>t instanceof gt?{...t}:t;function As(t,e){e=e||{};const n={};function s(c,u,d,f){return b.isPlainObject(c)&&b.isPlainObject(u)?b.merge.call({caseless:f},c,u):b.isPlainObject(u)?b.merge({},u):b.isArray(u)?u.slice():u}function r(c,u,d,f){if(b.isUndefined(u)){if(!b.isUndefined(c))return s(void 0,c,d,f)}else return s(c,u,d,f)}function i(c,u){if(!b.isUndefined(u))return s(void 0,u)}function o(c,u){if(b.isUndefined(u)){if(!b.isUndefined(c))return s(void 0,c)}else return s(void 0,u)}function a(c,u,d){if(d in e)return s(c,u);if(d in t)return s(void 0,c)}const l={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(c,u,d)=>r(nf(c),nf(u),d,!0)};return b.forEach(Object.keys({...t,...e}),function(u){const d=l[u]||r,f=d(t[u],e[u],u);b.isUndefined(f)&&d!==a||(n[u]=f)}),n}const Jm=t=>{const e=As({},t);let{data:n,withXSRFToken:s,xsrfHeaderName:r,xsrfCookieName:i,headers:o,auth:a}=e;if(e.headers=o=gt.from(o),e.url=jm(Ym(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):""))),b.isFormData(n)){if(rt.hasStandardBrowserEnv||rt.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(b.isFunction(n.getHeaders)){const l=n.getHeaders(),c=["content-type","content-length"];Object.entries(l).forEach(([u,d])=>{c.includes(u.toLowerCase())&&o.set(u,d)})}}if(rt.hasStandardBrowserEnv&&(s&&b.isFunction(s)&&(s=s(e)),s||s!==!1&&BC(e.url))){const l=r&&i&&VC.read(i);l&&o.set(r,l)}return e},WC=typeof XMLHttpRequest<"u",jC=WC&&function(t){return new Promise(function(n,s){const r=Jm(t);let i=r.data;const o=gt.from(r.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:c}=r,u,d,f,h,m;function v(){h&&h(),m&&m(),r.cancelToken&&r.cancelToken.unsubscribe(u),r.signal&&r.signal.removeEventListener("abort",u)}let _=new XMLHttpRequest;_.open(r.method.toUpperCase(),r.url,!0),_.timeout=r.timeout;function E(){if(!_)return;const I=gt.from("getAllResponseHeaders"in _&&_.getAllResponseHeaders()),U={data:!a||a==="text"||a==="json"?_.responseText:_.response,status:_.status,statusText:_.statusText,headers:I,config:t,request:_};Km(function(q){n(q),v()},function(q){s(q),v()},U),_=null}"onloadend"in _?_.onloadend=E:_.onreadystatechange=function(){!_||_.readyState!==4||_.status===0&&!(_.responseURL&&_.responseURL.indexOf("file:")===0)||setTimeout(E)},_.onabort=function(){_&&(s(new te("Request aborted",te.ECONNABORTED,t,_)),_=null)},_.onerror=function(N){const U=N&&N.message?N.message:"Network Error",ne=new te(U,te.ERR_NETWORK,t,_);ne.event=N||null,s(ne),_=null},_.ontimeout=function(){let N=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const U=r.transitional||Gm;r.timeoutErrorMessage&&(N=r.timeoutErrorMessage),s(new te(N,U.clarifyTimeoutError?te.ETIMEDOUT:te.ECONNABORTED,t,_)),_=null},i===void 0&&o.setContentType(null),"setRequestHeader"in _&&b.forEach(o.toJSON(),function(N,U){_.setRequestHeader(U,N)}),b.isUndefined(r.withCredentials)||(_.withCredentials=!!r.withCredentials),a&&a!=="json"&&(_.responseType=r.responseType),c&&([f,m]=Bo(c,!0),_.addEventListener("progress",f)),l&&_.upload&&([d,h]=Bo(l),_.upload.addEventListener("progress",d),_.upload.addEventListener("loadend",h)),(r.cancelToken||r.signal)&&(u=I=>{_&&(s(!I||I.type?new Er(null,t,_):I),_.abort(),_=null)},r.cancelToken&&r.cancelToken.subscribe(u),r.signal&&(r.signal.aborted?u():r.signal.addEventListener("abort",u)));const A=LC(r.url);if(A&&rt.protocols.indexOf(A)===-1){s(new te("Unsupported protocol "+A+":",te.ERR_BAD_REQUEST,t));return}_.send(i||null)})},GC=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let s=new AbortController,r;const i=function(c){if(!r){r=!0,a();const u=c instanceof Error?c:this.reason;s.abort(u instanceof te?u:new Er(u instanceof Error?u.message:u))}};let o=e&&setTimeout(()=>{o=null,i(new te(`timeout ${e} of ms exceeded`,te.ETIMEDOUT))},e);const a=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(c=>{c.unsubscribe?c.unsubscribe(i):c.removeEventListener("abort",i)}),t=null)};t.forEach(c=>c.addEventListener("abort",i));const{signal:l}=s;return l.unsubscribe=()=>b.asap(a),l}},qC=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let s=0,r;for(;s<n;)r=s+e,yield t.slice(s,r),s=r},zC=async function*(t,e){for await(const n of KC(t))yield*qC(n,e)},KC=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:s}=await e.read();if(n)break;yield s}}finally{await e.cancel()}},sf=(t,e,n,s)=>{const r=zC(t,e);let i=0,o,a=l=>{o||(o=!0,s&&s(l))};return new ReadableStream({async pull(l){try{const{done:c,value:u}=await r.next();if(c){a(),l.close();return}let d=u.byteLength;if(n){let f=i+=d;n(f)}l.enqueue(new Uint8Array(u))}catch(c){throw a(c),c}},cancel(l){return a(l),r.return()}},{highWaterMark:2})},rf=64*1024,{isFunction:ao}=b,YC=(({Request:t,Response:e})=>({Request:t,Response:e}))(b.global),{ReadableStream:of,TextEncoder:af}=b.global,lf=(t,...e)=>{try{return!!t(...e)}catch{return!1}},JC=t=>{t=b.merge.call({skipUndefined:!0},YC,t);const{fetch:e,Request:n,Response:s}=t,r=e?ao(e):typeof fetch=="function",i=ao(n),o=ao(s);if(!r)return!1;const a=r&&ao(of),l=r&&(typeof af=="function"?(m=>v=>m.encode(v))(new af):async m=>new Uint8Array(await new n(m).arrayBuffer())),c=i&&a&&lf(()=>{let m=!1;const v=new n(rt.origin,{body:new of,method:"POST",get duplex(){return m=!0,"half"}}).headers.has("Content-Type");return m&&!v}),u=o&&a&&lf(()=>b.isReadableStream(new s("").body)),d={stream:u&&(m=>m.body)};r&&["text","arrayBuffer","blob","formData","stream"].forEach(m=>{!d[m]&&(d[m]=(v,_)=>{let E=v&&v[m];if(E)return E.call(v);throw new te(`Response type '${m}' is not supported`,te.ERR_NOT_SUPPORT,_)})});const f=async m=>{if(m==null)return 0;if(b.isBlob(m))return m.size;if(b.isSpecCompliantForm(m))return(await new n(rt.origin,{method:"POST",body:m}).arrayBuffer()).byteLength;if(b.isArrayBufferView(m)||b.isArrayBuffer(m))return m.byteLength;if(b.isURLSearchParams(m)&&(m=m+""),b.isString(m))return(await l(m)).byteLength},h=async(m,v)=>{const _=b.toFiniteNumber(m.getContentLength());return _??f(v)};return async m=>{let{url:v,method:_,data:E,signal:A,cancelToken:I,timeout:N,onDownloadProgress:U,onUploadProgress:ne,responseType:q,headers:K,withCredentials:O="same-origin",fetchOptions:Y}=Jm(m),ue=e||fetch;q=q?(q+"").toLowerCase():"text";let L=GC([A,I&&I.toAbortSignal()],N),se=null;const be=L&&L.unsubscribe&&(()=>{L.unsubscribe()});let Ke;try{if(ne&&c&&_!=="get"&&_!=="head"&&(Ke=await h(K,E))!==0){let We=new n(v,{method:"POST",body:E,duplex:"half"}),Ve;if(b.isFormData(E)&&(Ve=We.headers.get("content-type"))&&K.setContentType(Ve),We.body){const[Kt,kt]=ef(Ke,Bo(tf(ne)));E=sf(We.body,rf,Kt,kt)}}b.isString(O)||(O=O?"include":"omit");const ie=i&&"credentials"in n.prototype,Z={...Y,signal:L,method:_.toUpperCase(),headers:K.normalize().toJSON(),body:E,duplex:"half",credentials:ie?O:void 0};se=i&&new n(v,Z);let re=await(i?ue(se,Y):ue(v,Z));const St=u&&(q==="stream"||q==="response");if(u&&(U||St&&be)){const We={};["status","statusText","headers"].forEach(Yt=>{We[Yt]=re[Yt]});const Ve=b.toFiniteNumber(re.headers.get("content-length")),[Kt,kt]=U&&ef(Ve,Bo(tf(U),!0))||[];re=new s(sf(re.body,rf,Kt,()=>{kt&&kt(),be&&be()}),We)}q=q||"text";let zt=await d[b.findKey(d,q)||"text"](re,m);return!St&&be&&be(),await new Promise((We,Ve)=>{Km(We,Ve,{data:zt,headers:gt.from(re.headers),status:re.status,statusText:re.statusText,config:m,request:se})})}catch(ie){throw be&&be(),ie&&ie.name==="TypeError"&&/Load failed|fetch/i.test(ie.message)?Object.assign(new te("Network Error",te.ERR_NETWORK,m,se),{cause:ie.cause||ie}):te.from(ie,ie&&ie.code,m,se)}}},QC=new Map,Qm=t=>{let e=t&&t.env||{};const{fetch:n,Request:s,Response:r}=e,i=[s,r,n];let o=i.length,a=o,l,c,u=QC;for(;a--;)l=i[a],c=u.get(l),c===void 0&&u.set(l,c=a?new Map:JC(e)),u=c;return c};Qm();const zc={http:pC,xhr:jC,fetch:{get:Qm}};b.forEach(zc,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const cf=t=>`- ${t}`,XC=t=>b.isFunction(t)||t===null||t===!1;function ZC(t,e){t=b.isArray(t)?t:[t];const{length:n}=t;let s,r;const i={};for(let o=0;o<n;o++){s=t[o];let a;if(r=s,!XC(s)&&(r=zc[(a=String(s)).toLowerCase()],r===void 0))throw new te(`Unknown adapter '${a}'`);if(r&&(b.isFunction(r)||(r=r.get(e))))break;i[a||"#"+o]=r}if(!r){const o=Object.entries(i).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let a=n?o.length>1?`since :
`+o.map(cf).join(`
`):" "+cf(o[0]):"as no adapter specified";throw new te("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return r}const Xm={getAdapter:ZC,adapters:zc};function ll(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Er(null,t)}function uf(t){return ll(t),t.headers=gt.from(t.headers),t.data=al.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),Xm.getAdapter(t.adapter||Hi.adapter,t)(t).then(function(s){return ll(t),s.data=al.call(t,t.transformResponse,s),s.headers=gt.from(s.headers),s},function(s){return zm(s)||(ll(t),s&&s.response&&(s.response.data=al.call(t,t.transformResponse,s.response),s.response.headers=gt.from(s.response.headers))),Promise.reject(s)})}const Zm="1.13.2",Pa={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Pa[t]=function(s){return typeof s===t||"a"+(e<1?"n ":" ")+t}});const df={};Pa.transitional=function(e,n,s){function r(i,o){return"[Axios v"+Zm+"] Transitional option '"+i+"'"+o+(s?". "+s:"")}return(i,o,a)=>{if(e===!1)throw new te(r(o," has been removed"+(n?" in "+n:"")),te.ERR_DEPRECATED);return n&&!df[o]&&(df[o]=!0,console.warn(r(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(i,o,a):!0}};Pa.spelling=function(e){return(n,s)=>(console.warn(`${s} is likely a misspelling of ${e}`),!0)};function eI(t,e,n){if(typeof t!="object")throw new te("options must be an object",te.ERR_BAD_OPTION_VALUE);const s=Object.keys(t);let r=s.length;for(;r-- >0;){const i=s[r],o=e[i];if(o){const a=t[i],l=a===void 0||o(a,i,t);if(l!==!0)throw new te("option "+i+" must be "+l,te.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new te("Unknown option "+i,te.ERR_BAD_OPTION)}}const wo={assertOptions:eI,validators:Pa},en=wo.validators;let Ss=class{constructor(e){this.defaults=e||{},this.interceptors={request:new Xd,response:new Xd}}async request(e,n){try{return await this._request(e,n)}catch(s){if(s instanceof Error){let r={};Error.captureStackTrace?Error.captureStackTrace(r):r=new Error;const i=r.stack?r.stack.replace(/^.+\n/,""):"";try{s.stack?i&&!String(s.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+i):s.stack=i}catch{}}throw s}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=As(this.defaults,n);const{transitional:s,paramsSerializer:r,headers:i}=n;s!==void 0&&wo.assertOptions(s,{silentJSONParsing:en.transitional(en.boolean),forcedJSONParsing:en.transitional(en.boolean),clarifyTimeoutError:en.transitional(en.boolean)},!1),r!=null&&(b.isFunction(r)?n.paramsSerializer={serialize:r}:wo.assertOptions(r,{encode:en.function,serialize:en.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),wo.assertOptions(n,{baseUrl:en.spelling("baseURL"),withXsrfToken:en.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=i&&b.merge(i.common,i[n.method]);i&&b.forEach(["delete","get","head","post","put","patch","common"],m=>{delete i[m]}),n.headers=gt.concat(o,i);const a=[];let l=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(n)===!1||(l=l&&v.synchronous,a.unshift(v.fulfilled,v.rejected))});const c=[];this.interceptors.response.forEach(function(v){c.push(v.fulfilled,v.rejected)});let u,d=0,f;if(!l){const m=[uf.bind(this),void 0];for(m.unshift(...a),m.push(...c),f=m.length,u=Promise.resolve(n);d<f;)u=u.then(m[d++],m[d++]);return u}f=a.length;let h=n;for(;d<f;){const m=a[d++],v=a[d++];try{h=m(h)}catch(_){v.call(this,_);break}}try{u=uf.call(this,h)}catch(m){return Promise.reject(m)}for(d=0,f=c.length;d<f;)u=u.then(c[d++],c[d++]);return u}getUri(e){e=As(this.defaults,e);const n=Ym(e.baseURL,e.url,e.allowAbsoluteUrls);return jm(n,e.params,e.paramsSerializer)}};b.forEach(["delete","get","head","options"],function(e){Ss.prototype[e]=function(n,s){return this.request(As(s||{},{method:e,url:n,data:(s||{}).data}))}});b.forEach(["post","put","patch"],function(e){function n(s){return function(i,o,a){return this.request(As(a||{},{method:e,headers:s?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}Ss.prototype[e]=n(),Ss.prototype[e+"Form"]=n(!0)});let tI=class eg{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const s=this;this.promise.then(r=>{if(!s._listeners)return;let i=s._listeners.length;for(;i-- >0;)s._listeners[i](r);s._listeners=null}),this.promise.then=r=>{let i;const o=new Promise(a=>{s.subscribe(a),i=a}).then(r);return o.cancel=function(){s.unsubscribe(i)},o},e(function(i,o,a){s.reason||(s.reason=new Er(i,o,a),n(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=s=>{e.abort(s)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new eg(function(r){e=r}),cancel:e}}};function nI(t){return function(n){return t.apply(null,n)}}function sI(t){return b.isObject(t)&&t.isAxiosError===!0}const zl={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(zl).forEach(([t,e])=>{zl[e]=t});function tg(t){const e=new Ss(t),n=Om(Ss.prototype.request,e);return b.extend(n,Ss.prototype,e,{allOwnKeys:!0}),b.extend(n,e,null,{allOwnKeys:!0}),n.create=function(r){return tg(As(t,r))},n}const Oe=tg(Hi);Oe.Axios=Ss;Oe.CanceledError=Er;Oe.CancelToken=tI;Oe.isCancel=zm;Oe.VERSION=Zm;Oe.toFormData=xa;Oe.AxiosError=te;Oe.Cancel=Oe.CanceledError;Oe.all=function(e){return Promise.all(e)};Oe.spread=nI;Oe.isAxiosError=sI;Oe.mergeConfig=As;Oe.AxiosHeaders=gt;Oe.formToJSON=t=>qm(b.isHTMLForm(t)?new FormData(t):t);Oe.getAdapter=Xm.getAdapter;Oe.HttpStatusCode=zl;Oe.default=Oe;const{Axios:wO,AxiosError:CO,CanceledError:IO,isCancel:SO,CancelToken:TO,VERSION:RO,all:AO,Cancel:xO,isAxiosError:PO,spread:NO,toFormData:OO,AxiosHeaders:kO,HttpStatusCode:DO,formToJSON:MO,getAdapter:LO,mergeConfig:FO}=Oe;const qs=typeof document<"u";function ng(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function rI(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&ng(t.default)}const ge=Object.assign;function cl(t,e){const n={};for(const s in e){const r=e[s];n[s]=jt(r)?r.map(t):t(r)}return n}const Zr=()=>{},jt=Array.isArray;function ff(t,e){const n={};for(const s in t)n[s]=s in e?e[s]:t[s];return n}const sg=/#/g,iI=/&/g,oI=/\//g,aI=/=/g,lI=/\?/g,rg=/\+/g,cI=/%5B/g,uI=/%5D/g,ig=/%5E/g,dI=/%60/g,og=/%7B/g,fI=/%7C/g,ag=/%7D/g,hI=/%20/g;function Kc(t){return t==null?"":encodeURI(""+t).replace(fI,"|").replace(cI,"[").replace(uI,"]")}function pI(t){return Kc(t).replace(og,"{").replace(ag,"}").replace(ig,"^")}function Kl(t){return Kc(t).replace(rg,"%2B").replace(hI,"+").replace(sg,"%23").replace(iI,"%26").replace(dI,"`").replace(og,"{").replace(ag,"}").replace(ig,"^")}function mI(t){return Kl(t).replace(aI,"%3D")}function gI(t){return Kc(t).replace(sg,"%23").replace(lI,"%3F")}function _I(t){return gI(t).replace(oI,"%2F")}function _i(t){if(t==null)return null;try{return decodeURIComponent(""+t)}catch{}return""+t}const yI=/\/$/,vI=t=>t.replace(yI,"");function ul(t,e,n="/"){let s,r={},i="",o="";const a=e.indexOf("#");let l=e.indexOf("?");return l=a>=0&&l>a?-1:l,l>=0&&(s=e.slice(0,l),i=e.slice(l,a>0?a:e.length),r=t(i.slice(1))),a>=0&&(s=s||e.slice(0,a),o=e.slice(a,e.length)),s=CI(s??e,n),{fullPath:s+i+o,path:s,query:r,hash:_i(o)}}function bI(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function hf(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function EI(t,e,n){const s=e.matched.length-1,r=n.matched.length-1;return s>-1&&s===r&&cr(e.matched[s],n.matched[r])&&lg(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function cr(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function lg(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!wI(t[n],e[n]))return!1;return!0}function wI(t,e){return jt(t)?pf(t,e):jt(e)?pf(e,t):t===e}function pf(t,e){return jt(e)?t.length===e.length&&t.every((n,s)=>n===e[s]):t.length===1&&t[0]===e}function CI(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),s=t.split("/"),r=s[s.length-1];(r===".."||r===".")&&s.push("");let i=n.length-1,o,a;for(o=0;o<s.length;o++)if(a=s[o],a!==".")if(a==="..")i>1&&i--;else break;return n.slice(0,i).join("/")+"/"+s.slice(o).join("/")}const Fn={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};let Yl=(function(t){return t.pop="pop",t.push="push",t})({}),dl=(function(t){return t.back="back",t.forward="forward",t.unknown="",t})({});function II(t){if(!t)if(qs){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),vI(t)}const SI=/^[^#]+#/;function TI(t,e){return t.replace(SI,"#")+e}function RI(t,e){const n=document.documentElement.getBoundingClientRect(),s=t.getBoundingClientRect();return{behavior:e.behavior,left:s.left-n.left-(e.left||0),top:s.top-n.top-(e.top||0)}}const Na=()=>({left:window.scrollX,top:window.scrollY});function AI(t){let e;if("el"in t){const n=t.el,s=typeof n=="string"&&n.startsWith("#"),r=typeof n=="string"?s?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!r)return;e=RI(r,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function mf(t,e){return(history.state?history.state.position-e:-1)+t}const Jl=new Map;function xI(t,e){Jl.set(t,e)}function PI(t){const e=Jl.get(t);return Jl.delete(t),e}function NI(t){return typeof t=="string"||t&&typeof t=="object"}function cg(t){return typeof t=="string"||typeof t=="symbol"}let De=(function(t){return t[t.MATCHER_NOT_FOUND=1]="MATCHER_NOT_FOUND",t[t.NAVIGATION_GUARD_REDIRECT=2]="NAVIGATION_GUARD_REDIRECT",t[t.NAVIGATION_ABORTED=4]="NAVIGATION_ABORTED",t[t.NAVIGATION_CANCELLED=8]="NAVIGATION_CANCELLED",t[t.NAVIGATION_DUPLICATED=16]="NAVIGATION_DUPLICATED",t})({});const ug=Symbol("");De.MATCHER_NOT_FOUND+"",De.NAVIGATION_GUARD_REDIRECT+"",De.NAVIGATION_ABORTED+"",De.NAVIGATION_CANCELLED+"",De.NAVIGATION_DUPLICATED+"";function ur(t,e){return ge(new Error,{type:t,[ug]:!0},e)}function hn(t,e){return t instanceof Error&&ug in t&&(e==null||!!(t.type&e))}const OI=["params","query","hash"];function kI(t){if(typeof t=="string")return t;if(t.path!=null)return t.path;const e={};for(const n of OI)n in t&&(e[n]=t[n]);return JSON.stringify(e,null,2)}function DI(t){const e={};if(t===""||t==="?")return e;const n=(t[0]==="?"?t.slice(1):t).split("&");for(let s=0;s<n.length;++s){const r=n[s].replace(rg," "),i=r.indexOf("="),o=_i(i<0?r:r.slice(0,i)),a=i<0?null:_i(r.slice(i+1));if(o in e){let l=e[o];jt(l)||(l=e[o]=[l]),l.push(a)}else e[o]=a}return e}function gf(t){let e="";for(let n in t){const s=t[n];if(n=mI(n),s==null){s!==void 0&&(e+=(e.length?"&":"")+n);continue}(jt(s)?s.map(r=>r&&Kl(r)):[s&&Kl(s)]).forEach(r=>{r!==void 0&&(e+=(e.length?"&":"")+n,r!=null&&(e+="="+r))})}return e}function MI(t){const e={};for(const n in t){const s=t[n];s!==void 0&&(e[n]=jt(s)?s.map(r=>r==null?null:""+r):s==null?s:""+s)}return e}const LI=Symbol(""),_f=Symbol(""),Oa=Symbol(""),Yc=Symbol(""),Ql=Symbol("");function Fr(){let t=[];function e(s){return t.push(s),()=>{const r=t.indexOf(s);r>-1&&t.splice(r,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function jn(t,e,n,s,r,i=o=>o()){const o=s&&(s.enterCallbacks[r]=s.enterCallbacks[r]||[]);return()=>new Promise((a,l)=>{const c=f=>{f===!1?l(ur(De.NAVIGATION_ABORTED,{from:n,to:e})):f instanceof Error?l(f):NI(f)?l(ur(De.NAVIGATION_GUARD_REDIRECT,{from:e,to:f})):(o&&s.enterCallbacks[r]===o&&typeof f=="function"&&o.push(f),a())},u=i(()=>t.call(s&&s.instances[r],e,n,c));let d=Promise.resolve(u);t.length<3&&(d=d.then(c)),d.catch(f=>l(f))})}function fl(t,e,n,s,r=i=>i()){const i=[];for(const o of t)for(const a in o.components){let l=o.components[a];if(!(e!=="beforeRouteEnter"&&!o.instances[a]))if(ng(l)){const c=(l.__vccOpts||l)[e];c&&i.push(jn(c,n,s,o,a,r))}else{let c=l();i.push(()=>c.then(u=>{if(!u)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const d=rI(u)?u.default:u;o.mods[a]=u,o.components[a]=d;const f=(d.__vccOpts||d)[e];return f&&jn(f,n,s,o,a,r)()}))}}return i}function FI(t,e){const n=[],s=[],r=[],i=Math.max(e.matched.length,t.matched.length);for(let o=0;o<i;o++){const a=e.matched[o];a&&(t.matched.find(c=>cr(c,a))?s.push(a):n.push(a));const l=t.matched[o];l&&(e.matched.find(c=>cr(c,l))||r.push(l))}return[n,s,r]}let UI=()=>location.protocol+"//"+location.host;function dg(t,e){const{pathname:n,search:s,hash:r}=e,i=t.indexOf("#");if(i>-1){let o=r.includes(t.slice(i))?t.slice(i).length:1,a=r.slice(o);return a[0]!=="/"&&(a="/"+a),hf(a,"")}return hf(n,t)+s+r}function BI(t,e,n,s){let r=[],i=[],o=null;const a=({state:f})=>{const h=dg(t,location),m=n.value,v=e.value;let _=0;if(f){if(n.value=h,e.value=f,o&&o===m){o=null;return}_=v?f.position-v.position:0}else s(h);r.forEach(E=>{E(n.value,m,{delta:_,type:Yl.pop,direction:_?_>0?dl.forward:dl.back:dl.unknown})})};function l(){o=n.value}function c(f){r.push(f);const h=()=>{const m=r.indexOf(f);m>-1&&r.splice(m,1)};return i.push(h),h}function u(){if(document.visibilityState==="hidden"){const{history:f}=window;if(!f.state)return;f.replaceState(ge({},f.state,{scroll:Na()}),"")}}function d(){for(const f of i)f();i=[],window.removeEventListener("popstate",a),window.removeEventListener("pagehide",u),document.removeEventListener("visibilitychange",u)}return window.addEventListener("popstate",a),window.addEventListener("pagehide",u),document.addEventListener("visibilitychange",u),{pauseListeners:l,listen:c,destroy:d}}function yf(t,e,n,s=!1,r=!1){return{back:t,current:e,forward:n,replaced:s,position:window.history.length,scroll:r?Na():null}}function VI(t){const{history:e,location:n}=window,s={value:dg(t,n)},r={value:e.state};r.value||i(s.value,{back:null,current:s.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function i(l,c,u){const d=t.indexOf("#"),f=d>-1?(n.host&&document.querySelector("base")?t:t.slice(d))+l:UI()+t+l;try{e[u?"replaceState":"pushState"](c,"",f),r.value=c}catch(h){console.error(h),n[u?"replace":"assign"](f)}}function o(l,c){i(l,ge({},e.state,yf(r.value.back,l,r.value.forward,!0),c,{position:r.value.position}),!0),s.value=l}function a(l,c){const u=ge({},r.value,e.state,{forward:l,scroll:Na()});i(u.current,u,!0),i(l,ge({},yf(s.value,l,null),{position:u.position+1},c),!1),s.value=l}return{location:s,state:r,push:a,replace:o}}function $I(t){t=II(t);const e=VI(t),n=BI(t,e.state,e.location,e.replace);function s(i,o=!0){o||n.pauseListeners(),history.go(i)}const r=ge({location:"",base:t,go:s,createHref:TI.bind(null,t)},e,n);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>e.state.value}),r}function HI(t){return t=location.host?t||location.pathname+location.search:"",t.includes("#")||(t+="#"),$I(t)}let Es=(function(t){return t[t.Static=0]="Static",t[t.Param=1]="Param",t[t.Group=2]="Group",t})({});var je=(function(t){return t[t.Static=0]="Static",t[t.Param=1]="Param",t[t.ParamRegExp=2]="ParamRegExp",t[t.ParamRegExpEnd=3]="ParamRegExpEnd",t[t.EscapeNext=4]="EscapeNext",t})(je||{});const WI={type:Es.Static,value:""},jI=/[a-zA-Z0-9_]/;function GI(t){if(!t)return[[]];if(t==="/")return[[WI]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(h){throw new Error(`ERR (${n})/"${c}": ${h}`)}let n=je.Static,s=n;const r=[];let i;function o(){i&&r.push(i),i=[]}let a=0,l,c="",u="";function d(){c&&(n===je.Static?i.push({type:Es.Static,value:c}):n===je.Param||n===je.ParamRegExp||n===je.ParamRegExpEnd?(i.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),i.push({type:Es.Param,value:c,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),c="")}function f(){c+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&n!==je.ParamRegExp){s=n,n=je.EscapeNext;continue}switch(n){case je.Static:l==="/"?(c&&d(),o()):l===":"?(d(),n=je.Param):f();break;case je.EscapeNext:f(),n=s;break;case je.Param:l==="("?n=je.ParamRegExp:jI.test(l)?f():(d(),n=je.Static,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case je.ParamRegExp:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:n=je.ParamRegExpEnd:u+=l;break;case je.ParamRegExpEnd:d(),n=je.Static,l!=="*"&&l!=="?"&&l!=="+"&&a--,u="";break;default:e("Unknown state");break}}return n===je.ParamRegExp&&e(`Unfinished custom RegExp for param "${c}"`),d(),o(),r}const vf="[^/]+?",qI={sensitive:!1,strict:!1,start:!0,end:!0};var ot=(function(t){return t[t._multiplier=10]="_multiplier",t[t.Root=90]="Root",t[t.Segment=40]="Segment",t[t.SubSegment=30]="SubSegment",t[t.Static=40]="Static",t[t.Dynamic=20]="Dynamic",t[t.BonusCustomRegExp=10]="BonusCustomRegExp",t[t.BonusWildcard=-50]="BonusWildcard",t[t.BonusRepeatable=-20]="BonusRepeatable",t[t.BonusOptional=-8]="BonusOptional",t[t.BonusStrict=.7000000000000001]="BonusStrict",t[t.BonusCaseSensitive=.25]="BonusCaseSensitive",t})(ot||{});const zI=/[.+*?^${}()[\]/\\]/g;function KI(t,e){const n=ge({},qI,e),s=[];let r=n.start?"^":"";const i=[];for(const c of t){const u=c.length?[]:[ot.Root];n.strict&&!c.length&&(r+="/");for(let d=0;d<c.length;d++){const f=c[d];let h=ot.Segment+(n.sensitive?ot.BonusCaseSensitive:0);if(f.type===Es.Static)d||(r+="/"),r+=f.value.replace(zI,"\\$&"),h+=ot.Static;else if(f.type===Es.Param){const{value:m,repeatable:v,optional:_,regexp:E}=f;i.push({name:m,repeatable:v,optional:_});const A=E||vf;if(A!==vf){h+=ot.BonusCustomRegExp;try{`${A}`}catch(N){throw new Error(`Invalid custom RegExp for param "${m}" (${A}): `+N.message)}}let I=v?`((?:${A})(?:/(?:${A}))*)`:`(${A})`;d||(I=_&&c.length<2?`(?:/${I})`:"/"+I),_&&(I+="?"),r+=I,h+=ot.Dynamic,_&&(h+=ot.BonusOptional),v&&(h+=ot.BonusRepeatable),A===".*"&&(h+=ot.BonusWildcard)}u.push(h)}s.push(u)}if(n.strict&&n.end){const c=s.length-1;s[c][s[c].length-1]+=ot.BonusStrict}n.strict||(r+="/?"),n.end?r+="$":n.strict&&!r.endsWith("/")&&(r+="(?:/|$)");const o=new RegExp(r,n.sensitive?"":"i");function a(c){const u=c.match(o),d={};if(!u)return null;for(let f=1;f<u.length;f++){const h=u[f]||"",m=i[f-1];d[m.name]=h&&m.repeatable?h.split("/"):h}return d}function l(c){let u="",d=!1;for(const f of t){(!d||!u.endsWith("/"))&&(u+="/"),d=!1;for(const h of f)if(h.type===Es.Static)u+=h.value;else if(h.type===Es.Param){const{value:m,repeatable:v,optional:_}=h,E=m in c?c[m]:"";if(jt(E)&&!v)throw new Error(`Provided param "${m}" is an array but it is not repeatable (* or + modifiers)`);const A=jt(E)?E.join("/"):E;if(!A)if(_)f.length<2&&(u.endsWith("/")?u=u.slice(0,-1):d=!0);else throw new Error(`Missing required param "${m}"`);u+=A}}return u||"/"}return{re:o,score:s,keys:i,parse:a,stringify:l}}function YI(t,e){let n=0;for(;n<t.length&&n<e.length;){const s=e[n]-t[n];if(s)return s;n++}return t.length<e.length?t.length===1&&t[0]===ot.Static+ot.Segment?-1:1:t.length>e.length?e.length===1&&e[0]===ot.Static+ot.Segment?1:-1:0}function fg(t,e){let n=0;const s=t.score,r=e.score;for(;n<s.length&&n<r.length;){const i=YI(s[n],r[n]);if(i)return i;n++}if(Math.abs(r.length-s.length)===1){if(bf(s))return 1;if(bf(r))return-1}return r.length-s.length}function bf(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const JI={strict:!1,end:!0,sensitive:!1};function QI(t,e,n){const s=KI(GI(t.path),n),r=ge(s,{record:t,parent:e,children:[],alias:[]});return e&&!r.record.aliasOf==!e.record.aliasOf&&e.children.push(r),r}function XI(t,e){const n=[],s=new Map;e=ff(JI,e);function r(d){return s.get(d)}function i(d,f,h){const m=!h,v=wf(d);v.aliasOf=h&&h.record;const _=ff(e,d),E=[v];if("alias"in d){const N=typeof d.alias=="string"?[d.alias]:d.alias;for(const U of N)E.push(wf(ge({},v,{components:h?h.record.components:v.components,path:U,aliasOf:h?h.record:v})))}let A,I;for(const N of E){const{path:U}=N;if(f&&U[0]!=="/"){const ne=f.record.path,q=ne[ne.length-1]==="/"?"":"/";N.path=f.record.path+(U&&q+U)}if(A=QI(N,f,_),h?h.alias.push(A):(I=I||A,I!==A&&I.alias.push(A),m&&d.name&&!Cf(A)&&o(d.name)),hg(A)&&l(A),v.children){const ne=v.children;for(let q=0;q<ne.length;q++)i(ne[q],A,h&&h.children[q])}h=h||A}return I?()=>{o(I)}:Zr}function o(d){if(cg(d)){const f=s.get(d);f&&(s.delete(d),n.splice(n.indexOf(f),1),f.children.forEach(o),f.alias.forEach(o))}else{const f=n.indexOf(d);f>-1&&(n.splice(f,1),d.record.name&&s.delete(d.record.name),d.children.forEach(o),d.alias.forEach(o))}}function a(){return n}function l(d){const f=tS(d,n);n.splice(f,0,d),d.record.name&&!Cf(d)&&s.set(d.record.name,d)}function c(d,f){let h,m={},v,_;if("name"in d&&d.name){if(h=s.get(d.name),!h)throw ur(De.MATCHER_NOT_FOUND,{location:d});_=h.record.name,m=ge(Ef(f.params,h.keys.filter(I=>!I.optional).concat(h.parent?h.parent.keys.filter(I=>I.optional):[]).map(I=>I.name)),d.params&&Ef(d.params,h.keys.map(I=>I.name))),v=h.stringify(m)}else if(d.path!=null)v=d.path,h=n.find(I=>I.re.test(v)),h&&(m=h.parse(v),_=h.record.name);else{if(h=f.name?s.get(f.name):n.find(I=>I.re.test(f.path)),!h)throw ur(De.MATCHER_NOT_FOUND,{location:d,currentLocation:f});_=h.record.name,m=ge({},f.params,d.params),v=h.stringify(m)}const E=[];let A=h;for(;A;)E.unshift(A.record),A=A.parent;return{name:_,path:v,params:m,matched:E,meta:eS(E)}}t.forEach(d=>i(d));function u(){n.length=0,s.clear()}return{addRoute:i,resolve:c,removeRoute:o,clearRoutes:u,getRoutes:a,getRecordMatcher:r}}function Ef(t,e){const n={};for(const s of e)s in t&&(n[s]=t[s]);return n}function wf(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:ZI(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function ZI(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const s in t.components)e[s]=typeof n=="object"?n[s]:n;return e}function Cf(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function eS(t){return t.reduce((e,n)=>ge(e,n.meta),{})}function tS(t,e){let n=0,s=e.length;for(;n!==s;){const i=n+s>>1;fg(t,e[i])<0?s=i:n=i+1}const r=nS(t);return r&&(s=e.lastIndexOf(r,s-1)),s}function nS(t){let e=t;for(;e=e.parent;)if(hg(e)&&fg(t,e)===0)return e}function hg({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function If(t){const e=It(Oa),n=It(Yc),s=le(()=>{const l=w(t.to);return e.resolve(l)}),r=le(()=>{const{matched:l}=s.value,{length:c}=l,u=l[c-1],d=n.matched;if(!u||!d.length)return-1;const f=d.findIndex(cr.bind(null,u));if(f>-1)return f;const h=Sf(l[c-2]);return c>1&&Sf(u)===h&&d[d.length-1].path!==h?d.findIndex(cr.bind(null,l[c-2])):f}),i=le(()=>r.value>-1&&aS(n.params,s.value.params)),o=le(()=>r.value>-1&&r.value===n.matched.length-1&&lg(n.params,s.value.params));function a(l={}){if(oS(l)){const c=e[w(t.replace)?"replace":"push"](w(t.to)).catch(Zr);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>c),c}return Promise.resolve()}return{route:s,href:le(()=>s.value.href),isActive:i,isExactActive:o,navigate:a}}function sS(t){return t.length===1?t[0]:t}const rS=ke({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:If,setup(t,{slots:e}){const n=ki(If(t)),{options:s}=It(Oa),r=le(()=>({[Tf(t.activeClass,s.linkActiveClass,"router-link-active")]:n.isActive,[Tf(t.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=e.default&&sS(e.default(n));return t.custom?i:qp("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:r.value},i)}}}),iS=rS;function oS(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function aS(t,e){for(const n in e){const s=e[n],r=t[n];if(typeof s=="string"){if(s!==r)return!1}else if(!jt(r)||r.length!==s.length||s.some((i,o)=>i!==r[o]))return!1}return!0}function Sf(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const Tf=(t,e,n)=>t??e??n,lS=ke({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const s=It(Ql),r=le(()=>t.route||s.value),i=It(_f,0),o=le(()=>{let c=w(i);const{matched:u}=r.value;let d;for(;(d=u[c])&&!d.components;)c++;return c}),a=le(()=>r.value.matched[o.value]);go(_f,le(()=>o.value+1)),go(LI,a),go(Ql,r);const l=Pe();return Cn(()=>[l.value,a.value,t.name],([c,u,d],[f,h,m])=>{u&&(u.instances[d]=c,h&&h!==u&&c&&c===f&&(u.leaveGuards.size||(u.leaveGuards=h.leaveGuards),u.updateGuards.size||(u.updateGuards=h.updateGuards))),c&&u&&(!h||!cr(u,h)||!f)&&(u.enterCallbacks[d]||[]).forEach(v=>v(c))},{flush:"post"}),()=>{const c=r.value,u=t.name,d=a.value,f=d&&d.components[u];if(!f)return Rf(n.default,{Component:f,route:c});const h=d.props[u],m=h?h===!0?c.params:typeof h=="function"?h(c):h:null,_=qp(f,ge({},m,e,{onVnodeUnmounted:E=>{E.component.isUnmounted&&(d.instances[u]=null)},ref:l}));return Rf(n.default,{Component:_,route:c})||_}}});function Rf(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const cS=lS;function uS(t){const e=XI(t.routes,t),n=t.parseQuery||DI,s=t.stringifyQuery||gf,r=t.history,i=Fr(),o=Fr(),a=Fr(),l=Oc(Fn);let c=Fn;qs&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=cl.bind(null,R=>""+R),d=cl.bind(null,_I),f=cl.bind(null,_i);function h(R,$){let B,j;return cg(R)?(B=e.getRecordMatcher(R),j=$):j=R,e.addRoute(j,B)}function m(R){const $=e.getRecordMatcher(R);$&&e.removeRoute($)}function v(){return e.getRoutes().map(R=>R.record)}function _(R){return!!e.getRecordMatcher(R)}function E(R,$){if($=ge({},$||l.value),typeof R=="string"){const y=ul(n,R,$.path),T=e.resolve({path:y.path},$),x=r.createHref(y.fullPath);return ge(y,T,{params:f(T.params),hash:_i(y.hash),redirectedFrom:void 0,href:x})}let B;if(R.path!=null)B=ge({},R,{path:ul(n,R.path,$.path).path});else{const y=ge({},R.params);for(const T in y)y[T]==null&&delete y[T];B=ge({},R,{params:d(y)}),$.params=d($.params)}const j=e.resolve(B,$),fe=R.hash||"";j.params=u(f(j.params));const p=bI(s,ge({},R,{hash:pI(fe),path:j.path})),g=r.createHref(p);return ge({fullPath:p,hash:fe,query:s===gf?MI(R.query):R.query||{}},j,{redirectedFrom:void 0,href:g})}function A(R){return typeof R=="string"?ul(n,R,l.value.path):ge({},R)}function I(R,$){if(c!==R)return ur(De.NAVIGATION_CANCELLED,{from:$,to:R})}function N(R){return q(R)}function U(R){return N(ge(A(R),{replace:!0}))}function ne(R,$){const B=R.matched[R.matched.length-1];if(B&&B.redirect){const{redirect:j}=B;let fe=typeof j=="function"?j(R,$):j;return typeof fe=="string"&&(fe=fe.includes("?")||fe.includes("#")?fe=A(fe):{path:fe},fe.params={}),ge({query:R.query,hash:R.hash,params:fe.path!=null?{}:R.params},fe)}}function q(R,$){const B=c=E(R),j=l.value,fe=R.state,p=R.force,g=R.replace===!0,y=ne(B,j);if(y)return q(ge(A(y),{state:typeof y=="object"?ge({},fe,y.state):fe,force:p,replace:g}),$||B);const T=B;T.redirectedFrom=$;let x;return!p&&EI(s,j,B)&&(x=ur(De.NAVIGATION_DUPLICATED,{to:T,from:j}),We(j,j,!0,!1)),(x?Promise.resolve(x):Y(T,j)).catch(S=>hn(S)?hn(S,De.NAVIGATION_GUARD_REDIRECT)?S:zt(S):re(S,T,j)).then(S=>{if(S){if(hn(S,De.NAVIGATION_GUARD_REDIRECT))return q(ge({replace:g},A(S.to),{state:typeof S.to=="object"?ge({},fe,S.to.state):fe,force:p}),$||T)}else S=L(T,j,!0,g,fe);return ue(T,j,S),S})}function K(R,$){const B=I(R,$);return B?Promise.reject(B):Promise.resolve()}function O(R){const $=kt.values().next().value;return $&&typeof $.runWithContext=="function"?$.runWithContext(R):R()}function Y(R,$){let B;const[j,fe,p]=FI(R,$);B=fl(j.reverse(),"beforeRouteLeave",R,$);for(const y of j)y.leaveGuards.forEach(T=>{B.push(jn(T,R,$))});const g=K.bind(null,R,$);return B.push(g),Tt(B).then(()=>{B=[];for(const y of i.list())B.push(jn(y,R,$));return B.push(g),Tt(B)}).then(()=>{B=fl(fe,"beforeRouteUpdate",R,$);for(const y of fe)y.updateGuards.forEach(T=>{B.push(jn(T,R,$))});return B.push(g),Tt(B)}).then(()=>{B=[];for(const y of p)if(y.beforeEnter)if(jt(y.beforeEnter))for(const T of y.beforeEnter)B.push(jn(T,R,$));else B.push(jn(y.beforeEnter,R,$));return B.push(g),Tt(B)}).then(()=>(R.matched.forEach(y=>y.enterCallbacks={}),B=fl(p,"beforeRouteEnter",R,$,O),B.push(g),Tt(B))).then(()=>{B=[];for(const y of o.list())B.push(jn(y,R,$));return B.push(g),Tt(B)}).catch(y=>hn(y,De.NAVIGATION_CANCELLED)?y:Promise.reject(y))}function ue(R,$,B){a.list().forEach(j=>O(()=>j(R,$,B)))}function L(R,$,B,j,fe){const p=I(R,$);if(p)return p;const g=$===Fn,y=qs?history.state:{};B&&(j||g?r.replace(R.fullPath,ge({scroll:g&&y&&y.scroll},fe)):r.push(R.fullPath,fe)),l.value=R,We(R,$,B,g),zt()}let se;function be(){se||(se=r.listen((R,$,B)=>{if(!Yt.listening)return;const j=E(R),fe=ne(j,Yt.currentRoute.value);if(fe){q(ge(fe,{replace:!0,force:!0}),j).catch(Zr);return}c=j;const p=l.value;qs&&xI(mf(p.fullPath,B.delta),Na()),Y(j,p).catch(g=>hn(g,De.NAVIGATION_ABORTED|De.NAVIGATION_CANCELLED)?g:hn(g,De.NAVIGATION_GUARD_REDIRECT)?(q(ge(A(g.to),{force:!0}),j).then(y=>{hn(y,De.NAVIGATION_ABORTED|De.NAVIGATION_DUPLICATED)&&!B.delta&&B.type===Yl.pop&&r.go(-1,!1)}).catch(Zr),Promise.reject()):(B.delta&&r.go(-B.delta,!1),re(g,j,p))).then(g=>{g=g||L(j,p,!1),g&&(B.delta&&!hn(g,De.NAVIGATION_CANCELLED)?r.go(-B.delta,!1):B.type===Yl.pop&&hn(g,De.NAVIGATION_ABORTED|De.NAVIGATION_DUPLICATED)&&r.go(-1,!1)),ue(j,p,g)}).catch(Zr)}))}let Ke=Fr(),ie=Fr(),Z;function re(R,$,B){zt(R);const j=ie.list();return j.length?j.forEach(fe=>fe(R,$,B)):console.error(R),Promise.reject(R)}function St(){return Z&&l.value!==Fn?Promise.resolve():new Promise((R,$)=>{Ke.add([R,$])})}function zt(R){return Z||(Z=!R,be(),Ke.list().forEach(([$,B])=>R?B(R):$()),Ke.reset()),R}function We(R,$,B,j){const{scrollBehavior:fe}=t;if(!qs||!fe)return Promise.resolve();const p=!B&&PI(mf(R.fullPath,0))||(j||!B)&&history.state&&history.state.scroll||null;return Mi().then(()=>fe(R,$,p)).then(g=>g&&AI(g)).catch(g=>re(g,R,$))}const Ve=R=>r.go(R);let Kt;const kt=new Set,Yt={currentRoute:l,listening:!0,addRoute:h,removeRoute:m,clearRoutes:e.clearRoutes,hasRoute:_,getRoutes:v,resolve:E,options:t,push:N,replace:U,go:Ve,back:()=>Ve(-1),forward:()=>Ve(1),beforeEach:i.add,beforeResolve:o.add,afterEach:a.add,onError:ie.add,isReady:St,install(R){R.component("RouterLink",iS),R.component("RouterView",cS),R.config.globalProperties.$router=Yt,Object.defineProperty(R.config.globalProperties,"$route",{enumerable:!0,get:()=>w(l)}),qs&&!Kt&&l.value===Fn&&(Kt=!0,N(r.location).catch(j=>{}));const $={};for(const j in Fn)Object.defineProperty($,j,{get:()=>l.value[j],enumerable:!0});R.provide(Oa,Yt),R.provide(Yc,lp($)),R.provide(Ql,l);const B=R.unmount;kt.add(R),R.unmount=function(){kt.delete(R),kt.size<1&&(c=Fn,se&&se(),se=null,l.value=Fn,Kt=!1,Z=!1),B()}}};function Tt(R){return R.reduce(($,B)=>$.then(()=>O(B)),Promise.resolve())}return Yt}function Jc(){return It(Oa)}function Qc(t){return It(Yc)}const dS=()=>{};var Af={};const pg={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};const k=function(t,e){if(!t)throw wr(e)},wr=function(t){return new Error("Firebase Database ("+pg.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};const mg=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let r=t.charCodeAt(s);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},fS=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const r=t[n++];if(r<128)e[s++]=String.fromCharCode(r);else if(r>191&&r<224){const i=t[n++];e[s++]=String.fromCharCode((r&31)<<6|i&63)}else if(r>239&&r<365){const i=t[n++],o=t[n++],a=t[n++],l=((r&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[s++]=String.fromCharCode(55296+(l>>10)),e[s++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[s++]=String.fromCharCode((r&15)<<12|(i&63)<<6|o&63)}}return e.join("")},Xc={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let r=0;r<t.length;r+=3){const i=t[r],o=r+1<t.length,a=o?t[r+1]:0,l=r+2<t.length,c=l?t[r+2]:0,u=i>>2,d=(i&3)<<4|a>>4;let f=(a&15)<<2|c>>6,h=c&63;l||(h=64,o||(f=64)),s.push(n[u],n[d],n[f],n[h])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(mg(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):fS(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let r=0;r<t.length;){const i=n[t.charAt(r++)],a=r<t.length?n[t.charAt(r)]:0;++r;const c=r<t.length?n[t.charAt(r)]:64;++r;const d=r<t.length?n[t.charAt(r)]:64;if(++r,i==null||a==null||c==null||d==null)throw new hS;const f=i<<2|a>>4;if(s.push(f),c!==64){const h=a<<4&240|c>>2;if(s.push(h),d!==64){const m=c<<6&192|d;s.push(m)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class hS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const gg=function(t){const e=mg(t);return Xc.encodeByteArray(e,!0)},Vo=function(t){return gg(t).replace(/\./g,"")},$o=function(t){try{return Xc.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function pS(t){return _g(void 0,t)}function _g(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!mS(n)||(t[n]=_g(t[n],e[n]));return t}function mS(t){return t!=="__proto__"}function gS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const _S=()=>gS().__FIREBASE_DEFAULTS__,yS=()=>{if(typeof process>"u"||typeof Af>"u")return;const t=Af.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},vS=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&$o(t[1]);return e&&JSON.parse(e)},Zc=()=>{try{return dS()||_S()||yS()||vS()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},yg=t=>Zc()?.emulatorHosts?.[t],bS=t=>{const e=yg(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},vg=()=>Zc()?.config,bg=t=>Zc()?.[`_${t}`];class Wi{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function Cr(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Eg(t){return(await fetch(t,{credentials:"include"})).ok}function ES(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",r=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${s}`,aud:s,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Vo(JSON.stringify(n)),Vo(JSON.stringify(o)),""].join(".")}const ei={};function wS(){const t={prod:[],emulator:[]};for(const e of Object.keys(ei))ei[e]?t.emulator.push(e):t.prod.push(e);return t}function CS(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let xf=!1;function wg(t,e){if(typeof window>"u"||typeof document>"u"||!Cr(window.location.host)||ei[t]===e||ei[t]||xf)return;ei[t]=e;function n(f){return`__firebase__banner__${f}`}const s="__firebase__banner",i=wS().prod.length>0;function o(){const f=document.getElementById(s);f&&f.remove()}function a(f){f.style.display="flex",f.style.background="#7faaf0",f.style.position="fixed",f.style.bottom="5px",f.style.left="5px",f.style.padding=".5em",f.style.borderRadius="5px",f.style.alignItems="center"}function l(f,h){f.setAttribute("width","24"),f.setAttribute("id",h),f.setAttribute("height","24"),f.setAttribute("viewBox","0 0 24 24"),f.setAttribute("fill","none"),f.style.marginLeft="-6px"}function c(){const f=document.createElement("span");return f.style.cursor="pointer",f.style.marginLeft="16px",f.style.fontSize="24px",f.innerHTML=" &times;",f.onclick=()=>{xf=!0,o()},f}function u(f,h){f.setAttribute("id",h),f.innerText="Learn more",f.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",f.setAttribute("target","__blank"),f.style.paddingLeft="5px",f.style.textDecoration="underline"}function d(){const f=CS(s),h=n("text"),m=document.getElementById(h)||document.createElement("span"),v=n("learnmore"),_=document.getElementById(v)||document.createElement("a"),E=n("preprendIcon"),A=document.getElementById(E)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(f.created){const I=f.element;a(I),u(_,v);const N=c();l(A,E),I.append(A,m,_,N),document.body.appendChild(I)}i?(m.innerText="Preview backend disconnected.",A.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(A.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,m.innerText="Preview backend running in this workspace."),m.setAttribute("id",h)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",d):d()}function ut(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function eu(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ut())}function IS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function SS(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Cg(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function TS(){const t=ut();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function RS(){return pg.NODE_ADMIN===!0}function AS(){try{return typeof indexedDB=="object"}catch{return!1}}function xS(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(s);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{e(r.error?.message||"")}}catch(n){e(n)}})}const PS="FirebaseError";class ls extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=PS,Object.setPrototypeOf(this,ls.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ji.prototype.create)}}class ji{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},r=`${this.service}/${e}`,i=this.errors[e],o=i?NS(i,s):"Error",a=`${this.serviceName}: ${o} (${r}).`;return new ls(r,a,s)}}function NS(t,e){return t.replace(OS,(n,s)=>{const r=e[s];return r!=null?String(r):`<${s}?>`})}const OS=/\{\$([^}]+)}/g;function yi(t){return JSON.parse(t)}function qe(t){return JSON.stringify(t)}const Ig=function(t){let e={},n={},s={},r="";try{const i=t.split(".");e=yi($o(i[0])||""),n=yi($o(i[1])||""),r=i[2],s=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:s,signature:r}},kS=function(t){const e=Ig(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},DS=function(t){const e=Ig(t).claims;return typeof e=="object"&&e.admin===!0};function dn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function dr(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Xl(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ho(t,e,n){const s={};for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(s[r]=e.call(n,t[r],r,t));return s}function xs(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const r of n){if(!s.includes(r))return!1;const i=t[r],o=e[r];if(Pf(i)&&Pf(o)){if(!xs(i,o))return!1}else if(i!==o)return!1}for(const r of s)if(!n.includes(r))return!1;return!0}function Pf(t){return t!==null&&typeof t=="object"}function Ir(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Wr(t){const e={};return t.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[r,i]=s.split("=");e[decodeURIComponent(r)]=decodeURIComponent(i)}}),e}function jr(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}class MS{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const s=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)s[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)s[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){const f=s[d-3]^s[d-8]^s[d-14]^s[d-16];s[d]=(f<<1|f>>>31)&4294967295}let r=this.chain_[0],i=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],c,u;for(let d=0;d<80;d++){d<40?d<20?(c=a^i&(o^a),u=1518500249):(c=i^o^a,u=1859775393):d<60?(c=i&o|a&(i|o),u=2400959708):(c=i^o^a,u=3395469782);const f=(r<<5|r>>>27)+c+l+u+s[d]&4294967295;l=a,a=o,o=(i<<30|i>>>2)&4294967295,i=r,r=f}this.chain_[0]=this.chain_[0]+r&4294967295,this.chain_[1]=this.chain_[1]+i&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const s=n-this.blockSize;let r=0;const i=this.buf_;let o=this.inbuf_;for(;r<n;){if(o===0)for(;r<=s;)this.compress_(e,r),r+=this.blockSize;if(typeof e=="string"){for(;r<n;)if(i[o]=e.charCodeAt(r),++o,++r,o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<n;)if(i[o]=e[r],++o,++r,o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let r=this.blockSize-1;r>=56;r--)this.buf_[r]=n&255,n/=256;this.compress_(this.buf_);let s=0;for(let r=0;r<5;r++)for(let i=24;i>=0;i-=8)e[s]=this.chain_[r]>>i&255,++s;return e}}function LS(t,e){const n=new FS(t,e);return n.subscribe.bind(n)}class FS{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let r;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");US(e,["next","error","complete"])?r=e:r={next:e,error:n,complete:s},r.next===void 0&&(r.next=hl),r.error===void 0&&(r.error=hl),r.complete===void 0&&(r.complete=hl);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function US(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function hl(){}function ka(t,e){return`${t} failed: ${e} argument `}const BS=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let r=t.charCodeAt(s);if(r>=55296&&r<=56319){const i=r-55296;s++,k(s<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(s)-56320;r=65536+(i<<10)+o}r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):r<65536?(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},Da=function(t){let e=0;for(let n=0;n<t.length;n++){const s=t.charCodeAt(n);s<128?e++:s<2048?e+=2:s>=55296&&s<=56319?(e+=4,n++):e+=3}return e};function dt(t){return t&&t._delegate?t._delegate:t}class Ps{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const _s="[DEFAULT]";class VS{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new Wi;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&s.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(r){if(s)return null;throw r}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(HS(e))try{this.getOrInitializeService({instanceIdentifier:_s})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:r});s.resolve(i)}catch{}}}}clearInstance(e=_s){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=_s){return this.instances.has(e)}getOptions(e=_s){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);s===a&&o.resolve(r)}return r}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),r=this.onInitCallbacks.get(s)??new Set;r.add(e),this.onInitCallbacks.set(s,r);const i=this.instances.get(s);return i&&e(i,s),()=>{r.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const r of s)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:$S(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=_s){return this.component?this.component.multipleInstances?e:_s:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function $S(t){return t===_s?void 0:t}function HS(t){return t.instantiationMode==="EAGER"}class WS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new VS(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Ee;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ee||(Ee={}));const jS={debug:Ee.DEBUG,verbose:Ee.VERBOSE,info:Ee.INFO,warn:Ee.WARN,error:Ee.ERROR,silent:Ee.SILENT},GS=Ee.INFO,qS={[Ee.DEBUG]:"log",[Ee.VERBOSE]:"log",[Ee.INFO]:"info",[Ee.WARN]:"warn",[Ee.ERROR]:"error"},zS=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),r=qS[e];if(r)console[r](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class tu{constructor(e){this.name=e,this._logLevel=GS,this._logHandler=zS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ee))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?jS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ee.DEBUG,...e),this._logHandler(this,Ee.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ee.VERBOSE,...e),this._logHandler(this,Ee.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ee.INFO,...e),this._logHandler(this,Ee.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ee.WARN,...e),this._logHandler(this,Ee.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ee.ERROR,...e),this._logHandler(this,Ee.ERROR,...e)}}const KS=(t,e)=>e.some(n=>t instanceof n);let Nf,Of;function YS(){return Nf||(Nf=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function JS(){return Of||(Of=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Sg=new WeakMap,Zl=new WeakMap,Tg=new WeakMap,pl=new WeakMap,nu=new WeakMap;function QS(t){const e=new Promise((n,s)=>{const r=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Xn(t.result)),r()},o=()=>{s(t.error),r()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Sg.set(n,t)}).catch(()=>{}),nu.set(e,t),e}function XS(t){if(Zl.has(t))return;const e=new Promise((n,s)=>{const r=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),r()},o=()=>{s(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Zl.set(t,e)}let ec={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Zl.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Tg.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Xn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function ZS(t){ec=t(ec)}function eT(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(ml(this),e,...n);return Tg.set(s,e.sort?e.sort():[e]),Xn(s)}:JS().includes(t)?function(...e){return t.apply(ml(this),e),Xn(Sg.get(this))}:function(...e){return Xn(t.apply(ml(this),e))}}function tT(t){return typeof t=="function"?eT(t):(t instanceof IDBTransaction&&XS(t),KS(t,YS())?new Proxy(t,ec):t)}function Xn(t){if(t instanceof IDBRequest)return QS(t);if(pl.has(t))return pl.get(t);const e=tT(t);return e!==t&&(pl.set(t,e),nu.set(e,t)),e}const ml=t=>nu.get(t);function nT(t,e,{blocked:n,upgrade:s,blocking:r,terminated:i}={}){const o=indexedDB.open(t,e),a=Xn(o);return s&&o.addEventListener("upgradeneeded",l=>{s(Xn(o.result),l.oldVersion,l.newVersion,Xn(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),r&&l.addEventListener("versionchange",c=>r(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const sT=["get","getKey","getAll","getAllKeys","count"],rT=["put","add","delete","clear"],gl=new Map;function kf(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(gl.get(e))return gl.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,r=rT.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(r||sT.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,r?"readwrite":"readonly");let c=l.store;return s&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),r&&l.done]))[0]};return gl.set(e,i),i}ZS(t=>({...t,get:(e,n,s)=>kf(e,n)||t.get(e,n,s),has:(e,n)=>!!kf(e,n)||t.has(e,n)}));class iT{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(oT(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function oT(t){return t.getComponent()?.type==="VERSION"}const tc="@firebase/app",Df="0.14.6";const Pn=new tu("@firebase/app"),aT="@firebase/app-compat",lT="@firebase/analytics-compat",cT="@firebase/analytics",uT="@firebase/app-check-compat",dT="@firebase/app-check",fT="@firebase/auth",hT="@firebase/auth-compat",pT="@firebase/database",mT="@firebase/data-connect",gT="@firebase/database-compat",_T="@firebase/functions",yT="@firebase/functions-compat",vT="@firebase/installations",bT="@firebase/installations-compat",ET="@firebase/messaging",wT="@firebase/messaging-compat",CT="@firebase/performance",IT="@firebase/performance-compat",ST="@firebase/remote-config",TT="@firebase/remote-config-compat",RT="@firebase/storage",AT="@firebase/storage-compat",xT="@firebase/firestore",PT="@firebase/ai",NT="@firebase/firestore-compat",OT="firebase",kT="12.6.0";const nc="[DEFAULT]",DT={[tc]:"fire-core",[aT]:"fire-core-compat",[cT]:"fire-analytics",[lT]:"fire-analytics-compat",[dT]:"fire-app-check",[uT]:"fire-app-check-compat",[fT]:"fire-auth",[hT]:"fire-auth-compat",[pT]:"fire-rtdb",[mT]:"fire-data-connect",[gT]:"fire-rtdb-compat",[_T]:"fire-fn",[yT]:"fire-fn-compat",[vT]:"fire-iid",[bT]:"fire-iid-compat",[ET]:"fire-fcm",[wT]:"fire-fcm-compat",[CT]:"fire-perf",[IT]:"fire-perf-compat",[ST]:"fire-rc",[TT]:"fire-rc-compat",[RT]:"fire-gcs",[AT]:"fire-gcs-compat",[xT]:"fire-fst",[NT]:"fire-fst-compat",[PT]:"fire-vertex","fire-js":"fire-js",[OT]:"fire-js-all"};const Wo=new Map,MT=new Map,sc=new Map;function Mf(t,e){try{t.container.addComponent(e)}catch(n){Pn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function fr(t){const e=t.name;if(sc.has(e))return Pn.debug(`There were multiple attempts to register component ${e}.`),!1;sc.set(e,t);for(const n of Wo.values())Mf(n,t);for(const n of MT.values())Mf(n,t);return!0}function su(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function At(t){return t==null?!1:t.settings!==void 0}const LT={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Zn=new ji("app","Firebase",LT);class FT{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ps("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Zn.create("app-deleted",{appName:this._name})}}const Sr=kT;function Rg(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s={name:nc,automaticDataCollectionEnabled:!0,...e},r=s.name;if(typeof r!="string"||!r)throw Zn.create("bad-app-name",{appName:String(r)});if(n||(n=vg()),!n)throw Zn.create("no-options");const i=Wo.get(r);if(i){if(xs(n,i.options)&&xs(s,i.config))return i;throw Zn.create("duplicate-app",{appName:r})}const o=new WS(r);for(const l of sc.values())o.addComponent(l);const a=new FT(n,s,o);return Wo.set(r,a),a}function Ag(t=nc){const e=Wo.get(t);if(!e&&t===nc&&vg())return Rg();if(!e)throw Zn.create("no-app",{appName:t});return e}function es(t,e,n){let s=DT[t]??t;n&&(s+=`-${n}`);const r=s.match(/\s|\//),i=e.match(/\s|\//);if(r||i){const o=[`Unable to register library "${s}" with version "${e}":`];r&&o.push(`library name "${s}" contains illegal characters (whitespace or "/")`),r&&i&&o.push("and"),i&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Pn.warn(o.join(" "));return}fr(new Ps(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const UT="firebase-heartbeat-database",BT=1,vi="firebase-heartbeat-store";let _l=null;function xg(){return _l||(_l=nT(UT,BT,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(vi)}catch(n){console.warn(n)}}}}).catch(t=>{throw Zn.create("idb-open",{originalErrorMessage:t.message})})),_l}async function VT(t){try{const n=(await xg()).transaction(vi),s=await n.objectStore(vi).get(Pg(t));return await n.done,s}catch(e){if(e instanceof ls)Pn.warn(e.message);else{const n=Zn.create("idb-get",{originalErrorMessage:e?.message});Pn.warn(n.message)}}}async function Lf(t,e){try{const s=(await xg()).transaction(vi,"readwrite");await s.objectStore(vi).put(e,Pg(t)),await s.done}catch(n){if(n instanceof ls)Pn.warn(n.message);else{const s=Zn.create("idb-set",{originalErrorMessage:n?.message});Pn.warn(s.message)}}}function Pg(t){return`${t.name}!${t.options.appId}`}const $T=1024,HT=30;class WT{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new GT(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Ff();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(r=>r.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>HT){const r=qT(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(r,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Pn.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Ff(),{heartbeatsToSend:n,unsentEntries:s}=jT(this._heartbeatsCache.heartbeats),r=Vo(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(e){return Pn.warn(e),""}}}function Ff(){return new Date().toISOString().substring(0,10)}function jT(t,e=$T){const n=[];let s=t.slice();for(const r of t){const i=n.find(o=>o.agent===r.agent);if(i){if(i.dates.push(r.date),Uf(n)>e){i.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),Uf(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class GT{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return AS()?xS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await VT(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Lf(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Lf(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Uf(t){return Vo(JSON.stringify({version:2,heartbeats:t})).length}function qT(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let s=1;s<t.length;s++)t[s].date<n&&(n=t[s].date,e=s);return e}function zT(t){fr(new Ps("platform-logger",e=>new iT(e),"PRIVATE")),fr(new Ps("heartbeat",e=>new WT(e),"PRIVATE")),es(tc,Df,t),es(tc,Df,"esm2020"),es("fire-js","")}zT("");var KT="firebase",YT="12.7.0";es(KT,YT,"app");function Ng(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const JT=Ng,Og=new ji("auth","Firebase",Ng());const jo=new tu("@firebase/auth");function QT(t,...e){jo.logLevel<=Ee.WARN&&jo.warn(`Auth (${Sr}): ${t}`,...e)}function Co(t,...e){jo.logLevel<=Ee.ERROR&&jo.error(`Auth (${Sr}): ${t}`,...e)}function Gt(t,...e){throw ru(t,...e)}function ln(t,...e){return ru(t,...e)}function kg(t,e,n){const s={...JT(),[e]:n};return new ji("auth","Firebase",s).create(e,{appName:t.name})}function Sn(t){return kg(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ru(t,...e){if(typeof t!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return Og.create(t,...e)}function J(t,e,...n){if(!t)throw ru(e,...n)}function vn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Co(e),new Error(e)}function Nn(t,e){t||vn(e)}function rc(){return typeof self<"u"&&self.location?.href||""}function XT(){return Bf()==="http:"||Bf()==="https:"}function Bf(){return typeof self<"u"&&self.location?.protocol||null}function ZT(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(XT()||SS()||"connection"in navigator)?navigator.onLine:!0}function e0(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class Gi{constructor(e,n){this.shortDelay=e,this.longDelay=n,Nn(n>e,"Short delay should be less than long delay!"),this.isMobile=eu()||Cg()}get(){return ZT()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function iu(t,e){Nn(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class Dg{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;vn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;vn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;vn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const t0={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const n0=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],s0=new Gi(3e4,6e4);function cs(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function us(t,e,n,s,r={}){return Mg(t,r,async()=>{let i={},o={};s&&(e==="GET"?o=s:i={body:JSON.stringify(s)});const a=Ir({key:t.config.apiKey,...o}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c={method:e,headers:l,...i};return IS()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&Cr(t.emulatorConfig.host)&&(c.credentials="include"),Dg.fetch()(await Lg(t,t.config.apiHost,n,a),c)})}async function Mg(t,e,n){t._canInitEmulator=!1;const s={...t0,...e};try{const r=new i0(t),i=await Promise.race([n(),r.promise]);r.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw lo(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw lo(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw lo(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw lo(t,"user-disabled",o);const u=s[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw kg(t,u,c);Gt(t,u)}}catch(r){if(r instanceof ls)throw r;Gt(t,"network-request-failed",{message:String(r)})}}async function qi(t,e,n,s,r={}){const i=await us(t,e,n,s,r);return"mfaPendingCredential"in i&&Gt(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function Lg(t,e,n,s){const r=`${e}${n}?${s}`,i=t,o=i.config.emulator?iu(t.config,r):`${t.config.apiScheme}://${r}`;return n0.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}function r0(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class i0{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(ln(this.auth,"network-request-failed")),s0.get())})}}function lo(t,e,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const r=ln(t,e,s);return r.customData._tokenResponse=n,r}function Vf(t){return t!==void 0&&t.enterprise!==void 0}class o0{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return r0(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function a0(t,e){return us(t,"GET","/v2/recaptchaConfig",cs(t,e))}async function l0(t,e){return us(t,"POST","/v1/accounts:delete",e)}async function Go(t,e){return us(t,"POST","/v1/accounts:lookup",e)}function ti(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function c0(t,e=!1){const n=dt(t),s=await n.getIdToken(e),r=ou(s);J(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const i=typeof r.firebase=="object"?r.firebase:void 0,o=i?.sign_in_provider;return{claims:r,token:s,authTime:ti(yl(r.auth_time)),issuedAtTime:ti(yl(r.iat)),expirationTime:ti(yl(r.exp)),signInProvider:o||null,signInSecondFactor:i?.sign_in_second_factor||null}}function yl(t){return Number(t)*1e3}function ou(t){const[e,n,s]=t.split(".");if(e===void 0||n===void 0||s===void 0)return Co("JWT malformed, contained fewer than 3 sections"),null;try{const r=$o(n);return r?JSON.parse(r):(Co("Failed to decode base64 JWT payload"),null)}catch(r){return Co("Caught error parsing JWT payload as JSON",r?.toString()),null}}function $f(t){const e=ou(t);return J(e,"internal-error"),J(typeof e.exp<"u","internal-error"),J(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function bi(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof ls&&u0(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function u0({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class d0{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class ic{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ti(this.lastLoginAt),this.creationTime=ti(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function qo(t){const e=t.auth,n=await t.getIdToken(),s=await bi(t,Go(e,{idToken:n}));J(s?.users.length,e,"internal-error");const r=s.users[0];t._notifyReloadListener(r);const i=r.providerUserInfo?.length?Fg(r.providerUserInfo):[],o=h0(t.providerData,i),a=t.isAnonymous,l=!(t.email&&r.passwordHash)&&!o?.length,c=a?l:!1,u={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:o,metadata:new ic(r.createdAt,r.lastLoginAt),isAnonymous:c};Object.assign(t,u)}async function f0(t){const e=dt(t);await qo(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function h0(t,e){return[...t.filter(s=>!e.some(r=>r.providerId===s.providerId)),...e]}function Fg(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function p0(t,e){const n=await Mg(t,{},async()=>{const s=Ir({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:i}=t.config,o=await Lg(t,r,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:s};return t.emulatorConfig&&Cr(t.emulatorConfig.host)&&(l.credentials="include"),Dg.fetch()(o,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function m0(t,e){return us(t,"POST","/v2/accounts:revokeToken",cs(t,e))}class Zs{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){J(e.idToken,"internal-error"),J(typeof e.idToken<"u","internal-error"),J(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):$f(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){J(e.length!==0,"internal-error");const n=$f(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(J(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:r,expiresIn:i}=await p0(e,n);this.updateTokensAndExpiration(s,r,Number(i))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:r,expirationTime:i}=n,o=new Zs;return s&&(J(typeof s=="string","internal-error",{appName:e}),o.refreshToken=s),r&&(J(typeof r=="string","internal-error",{appName:e}),o.accessToken=r),i&&(J(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Zs,this.toJSON())}_performRefresh(){return vn("not implemented")}}function Un(t,e){J(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ft{constructor({uid:e,auth:n,stsTokenManager:s,...r}){this.providerId="firebase",this.proactiveRefresh=new d0(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new ic(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){const n=await bi(this,this.stsTokenManager.getToken(this.auth,e));return J(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return c0(this,e)}reload(){return f0(this)}_assign(e){this!==e&&(J(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ft({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){J(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await qo(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(At(this.auth.app))return Promise.reject(Sn(this.auth));const e=await this.getIdToken();return await bi(this,l0(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,r=n.email??void 0,i=n.phoneNumber??void 0,o=n.photoURL??void 0,a=n.tenantId??void 0,l=n._redirectEventId??void 0,c=n.createdAt??void 0,u=n.lastLoginAt??void 0,{uid:d,emailVerified:f,isAnonymous:h,providerData:m,stsTokenManager:v}=n;J(d&&v,e,"internal-error");const _=Zs.fromJSON(this.name,v);J(typeof d=="string",e,"internal-error"),Un(s,e.name),Un(r,e.name),J(typeof f=="boolean",e,"internal-error"),J(typeof h=="boolean",e,"internal-error"),Un(i,e.name),Un(o,e.name),Un(a,e.name),Un(l,e.name),Un(c,e.name),Un(u,e.name);const E=new Ft({uid:d,auth:e,email:r,emailVerified:f,displayName:s,isAnonymous:h,photoURL:o,phoneNumber:i,tenantId:a,stsTokenManager:_,createdAt:c,lastLoginAt:u});return m&&Array.isArray(m)&&(E.providerData=m.map(A=>({...A}))),l&&(E._redirectEventId=l),E}static async _fromIdTokenResponse(e,n,s=!1){const r=new Zs;r.updateFromServerResponse(n);const i=new Ft({uid:n.localId,auth:e,stsTokenManager:r,isAnonymous:s});return await qo(i),i}static async _fromGetAccountInfoResponse(e,n,s){const r=n.users[0];J(r.localId!==void 0,"internal-error");const i=r.providerUserInfo!==void 0?Fg(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!i?.length,a=new Zs;a.updateFromIdToken(s);const l=new Ft({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new ic(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!i?.length};return Object.assign(l,c),l}}const Hf=new Map;function bn(t){Nn(t instanceof Function,"Expected a class definition");let e=Hf.get(t);return e?(Nn(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Hf.set(t,e),e)}class Ug{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Ug.type="NONE";const Wf=Ug;function Io(t,e,n){return`firebase:${t}:${e}:${n}`}class er{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:r,name:i}=this.auth;this.fullUserKey=Io(this.userKey,r.apiKey,i),this.fullPersistenceKey=Io("persistence",r.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Go(this.auth,{idToken:e}).catch(()=>{});return n?Ft._fromGetAccountInfoResponse(this.auth,n,e):null}return Ft._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new er(bn(Wf),e,s);const r=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let i=r[0]||bn(Wf);const o=Io(s,e.config.apiKey,e.name);let a=null;for(const c of n)try{const u=await c._get(o);if(u){let d;if(typeof u=="string"){const f=await Go(e,{idToken:u}).catch(()=>{});if(!f)break;d=await Ft._fromGetAccountInfoResponse(e,f,u)}else d=Ft._fromJSON(e,u);c!==i&&(a=d),i=c;break}}catch{}const l=r.filter(c=>c._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new er(i,e,s):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==i)try{await c._remove(o)}catch{}})),new er(i,e,s))}}function jf(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Hg(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Bg(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(jg(e))return"Blackberry";if(Gg(e))return"Webos";if(Vg(e))return"Safari";if((e.includes("chrome/")||$g(e))&&!e.includes("edge/"))return"Chrome";if(Wg(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if(s?.length===2)return s[1]}return"Other"}function Bg(t=ut()){return/firefox\//i.test(t)}function Vg(t=ut()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function $g(t=ut()){return/crios\//i.test(t)}function Hg(t=ut()){return/iemobile/i.test(t)}function Wg(t=ut()){return/android/i.test(t)}function jg(t=ut()){return/blackberry/i.test(t)}function Gg(t=ut()){return/webos/i.test(t)}function au(t=ut()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function g0(t=ut()){return au(t)&&!!window.navigator?.standalone}function _0(){return TS()&&document.documentMode===10}function qg(t=ut()){return au(t)||Wg(t)||Gg(t)||jg(t)||/windows phone/i.test(t)||Hg(t)}function zg(t,e=[]){let n;switch(t){case"Browser":n=jf(ut());break;case"Worker":n=`${jf(ut())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Sr}/${s}`}class y0{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});s.onAbort=n,this.queue.push(s);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function v0(t,e={}){return us(t,"GET","/v2/passwordPolicy",cs(t,e))}const b0=6;class E0{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??b0,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),r&&(n.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let r=0;r<e.length;r++)s=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class w0{constructor(e,n,s,r){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Gf(this),this.idTokenSubscription=new Gf(this),this.beforeStateQueue=new y0(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Og,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=bn(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await er.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Go(this,{idToken:e}),s=await Ft._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(At(this.app)){const i=this.app.settings.authIdToken;return i?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(i).then(o,o))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const i=this.redirectUser?._redirectEventId,o=s?._redirectEventId,a=await this.tryRedirectSignIn(e);(!i||i===o)&&a?.user&&(s=a.user,r=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(s)}catch(i){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(i))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return J(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await qo(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=e0()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(At(this.app))return Promise.reject(Sn(this));const n=e?dt(e):null;return n&&J(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&J(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return At(this.app)?Promise.reject(Sn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return At(this.app)?Promise.reject(Sn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(bn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await v0(this),n=new E0(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ji("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await m0(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&bn(e)||this._popupRedirectResolver;J(n,this,"argument-error"),this.redirectPersistenceManager=await er.create(this,[bn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,r){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(J(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,s,r);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return J(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=zg(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(At(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&QT(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Ls(t){return dt(t)}class Gf{constructor(e){this.auth=e,this.observer=null,this.addObserver=LS(n=>this.observer=n)}get next(){return J(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Ma={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function C0(t){Ma=t}function Kg(t){return Ma.loadJS(t)}function I0(){return Ma.recaptchaEnterpriseScript}function S0(){return Ma.gapiScript}function T0(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class R0{constructor(){this.enterprise=new A0}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class A0{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const x0="recaptcha-enterprise",Yg="NO_RECAPTCHA";class P0{constructor(e){this.type=x0,this.auth=Ls(e)}async verify(e="verify",n=!1){async function s(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{a0(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new o0(l);return i.tenantId==null?i._agentRecaptchaConfig=c:i._tenantRecaptchaConfigs[i.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function r(i,o,a){const l=window.grecaptcha;Vf(l)?l.enterprise.ready(()=>{l.enterprise.execute(i,{action:e}).then(c=>{o(c)}).catch(()=>{o(Yg)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new R0().execute("siteKey",{action:"verify"}):new Promise((i,o)=>{s(this.auth).then(a=>{if(!n&&Vf(window.grecaptcha))r(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=I0();l.length!==0&&(l+=a),Kg(l).then(()=>{r(a,i,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function qf(t,e,n,s=!1,r=!1){const i=new P0(t);let o;if(r)o=Yg;else try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const a={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,c=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return s?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function oc(t,e,n,s,r){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await qf(t,e,n,n==="getOobCode");return s(t,i)}else return s(t,e).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await qf(t,e,n,n==="getOobCode");return s(t,o)}else return Promise.reject(i)})}function N0(t,e){const n=su(t,"auth");if(n.isInitialized()){const r=n.getImmediate(),i=n.getOptions();if(xs(i,e??{}))return r;Gt(r,"already-initialized")}return n.initialize({options:e})}function O0(t,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(bn);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e?.popupRedirectResolver)}function k0(t,e,n){const s=Ls(t);J(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const r=!1,i=Jg(e),{host:o,port:a}=D0(e),l=a===null?"":`:${a}`,c={url:`${i}//${o}${l}/`},u=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!s._canInitEmulator){J(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),J(xs(c,s.config.emulator)&&xs(u,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=c,s.emulatorConfig=u,s.settings.appVerificationDisabledForTesting=!0,Cr(o)?(Eg(`${i}//${o}${l}`),wg("Auth",!0)):M0()}function Jg(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function D0(t){const e=Jg(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(s);if(r){const i=r[1];return{host:i,port:zf(s.substr(i.length+1))}}else{const[i,o]=s.split(":");return{host:i,port:zf(o)}}}function zf(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function M0(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class lu{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return vn("not implemented")}_getIdTokenResponse(e){return vn("not implemented")}_linkToIdToken(e,n){return vn("not implemented")}_getReauthenticationResolver(e){return vn("not implemented")}}async function L0(t,e){return us(t,"POST","/v1/accounts:signUp",e)}async function F0(t,e){return qi(t,"POST","/v1/accounts:signInWithPassword",cs(t,e))}async function U0(t,e){return qi(t,"POST","/v1/accounts:signInWithEmailLink",cs(t,e))}async function B0(t,e){return qi(t,"POST","/v1/accounts:signInWithEmailLink",cs(t,e))}class Ei extends lu{constructor(e,n,s,r=null){super("password",s),this._email=e,this._password=n,this._tenantId=r}static _fromEmailAndPassword(e,n){return new Ei(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new Ei(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return oc(e,n,"signInWithPassword",F0);case"emailLink":return U0(e,{email:this._email,oobCode:this._password});default:Gt(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return oc(e,s,"signUpPassword",L0);case"emailLink":return B0(e,{idToken:n,email:this._email,oobCode:this._password});default:Gt(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function tr(t,e){return qi(t,"POST","/v1/accounts:signInWithIdp",cs(t,e))}const V0="http://localhost";class Ns extends lu{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ns(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Gt("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:r,...i}=n;if(!s||!r)return null;const o=new Ns(s,r);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return tr(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,tr(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,tr(e,n)}buildRequest(){const e={requestUri:V0,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ir(n)}return e}}function $0(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function H0(t){const e=Wr(jr(t)).link,n=e?Wr(jr(e)).deep_link_id:null,s=Wr(jr(t)).deep_link_id;return(s?Wr(jr(s)).link:null)||s||n||e||t}class cu{constructor(e){const n=Wr(jr(e)),s=n.apiKey??null,r=n.oobCode??null,i=$0(n.mode??null);J(s&&r&&i,"argument-error"),this.apiKey=s,this.operation=i,this.code=r,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=H0(e);try{return new cu(n)}catch{return null}}}class Tr{constructor(){this.providerId=Tr.PROVIDER_ID}static credential(e,n){return Ei._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=cu.parseLink(n);return J(s,"argument-error"),Ei._fromEmailAndCode(e,s.code,s.tenantId)}}Tr.PROVIDER_ID="password";Tr.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Tr.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Qg{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class zi extends Qg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Gn extends zi{constructor(){super("facebook.com")}static credential(e){return Ns._fromParams({providerId:Gn.PROVIDER_ID,signInMethod:Gn.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Gn.credentialFromTaggedObject(e)}static credentialFromError(e){return Gn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Gn.credential(e.oauthAccessToken)}catch{return null}}}Gn.FACEBOOK_SIGN_IN_METHOD="facebook.com";Gn.PROVIDER_ID="facebook.com";class qn extends zi{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ns._fromParams({providerId:qn.PROVIDER_ID,signInMethod:qn.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return qn.credentialFromTaggedObject(e)}static credentialFromError(e){return qn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return qn.credential(n,s)}catch{return null}}}qn.GOOGLE_SIGN_IN_METHOD="google.com";qn.PROVIDER_ID="google.com";class zn extends zi{constructor(){super("github.com")}static credential(e){return Ns._fromParams({providerId:zn.PROVIDER_ID,signInMethod:zn.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return zn.credentialFromTaggedObject(e)}static credentialFromError(e){return zn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return zn.credential(e.oauthAccessToken)}catch{return null}}}zn.GITHUB_SIGN_IN_METHOD="github.com";zn.PROVIDER_ID="github.com";class Kn extends zi{constructor(){super("twitter.com")}static credential(e,n){return Ns._fromParams({providerId:Kn.PROVIDER_ID,signInMethod:Kn.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Kn.credentialFromTaggedObject(e)}static credentialFromError(e){return Kn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Kn.credential(n,s)}catch{return null}}}Kn.TWITTER_SIGN_IN_METHOD="twitter.com";Kn.PROVIDER_ID="twitter.com";async function W0(t,e){return qi(t,"POST","/v1/accounts:signUp",cs(t,e))}class Os{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,r=!1){const i=await Ft._fromIdTokenResponse(e,s,r),o=Kf(s);return new Os({user:i,providerId:o,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const r=Kf(s);return new Os({user:e,providerId:r,_tokenResponse:s,operationType:n})}}function Kf(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class zo extends ls{constructor(e,n,s,r){super(n.code,n.message),this.operationType=s,this.user=r,Object.setPrototypeOf(this,zo.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,r){return new zo(e,n,s,r)}}function Xg(t,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?zo._fromErrorAndOperation(t,i,e,s):i})}async function j0(t,e,n=!1){const s=await bi(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Os._forOperation(t,"link",s)}async function G0(t,e,n=!1){const{auth:s}=t;if(At(s.app))return Promise.reject(Sn(s));const r="reauthenticate";try{const i=await bi(t,Xg(s,r,e,t),n);J(i.idToken,s,"internal-error");const o=ou(i.idToken);J(o,s,"internal-error");const{sub:a}=o;return J(t.uid===a,s,"user-mismatch"),Os._forOperation(t,r,i)}catch(i){throw i?.code==="auth/user-not-found"&&Gt(s,"user-mismatch"),i}}async function Zg(t,e,n=!1){if(At(t.app))return Promise.reject(Sn(t));const s="signIn",r=await Xg(t,s,e),i=await Os._fromIdTokenResponse(t,s,r);return n||await t._updateCurrentUser(i.user),i}async function q0(t,e){return Zg(Ls(t),e)}async function e_(t){const e=Ls(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function z0(t,e,n){if(At(t.app))return Promise.reject(Sn(t));const s=Ls(t),o=await oc(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",W0).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&e_(t),l}),a=await Os._fromIdTokenResponse(s,"signIn",o);return await s._updateCurrentUser(a.user),a}function K0(t,e,n){return At(t.app)?Promise.reject(Sn(t)):q0(dt(t),Tr.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&e_(t),s})}function Y0(t,e,n,s){return dt(t).onIdTokenChanged(e,n,s)}function J0(t,e,n){return dt(t).beforeAuthStateChanged(e,n)}function Q0(t,e,n,s){return dt(t).onAuthStateChanged(e,n,s)}function X0(t){return dt(t).signOut()}const Ko="__sak";class t_{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ko,"1"),this.storage.removeItem(Ko),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const Z0=1e3,eR=10;class n_ extends t_{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=qg(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),r=this.localCache[n];s!==r&&e(n,r,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const s=e.key;n?this.detachListener():this.stopPolling();const r=()=>{const o=this.storage.getItem(s);!n&&this.localCache[s]===o||this.notifyListeners(s,o)},i=this.storage.getItem(s);_0()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,eR):r()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const r of Array.from(s))r(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},Z0)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}n_.type="LOCAL";const tR=n_;class s_ extends t_{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}s_.type="SESSION";const r_=s_;function nR(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class La{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(r=>r.isListeningto(e));if(n)return n;const s=new La(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:r,data:i}=n.data,o=this.handlersMap[r];if(!o?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:r});const a=Array.from(o).map(async c=>c(n.origin,i)),l=await nR(a);n.ports[0].postMessage({status:"done",eventId:s,eventType:r,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}La.receivers=[];function uu(t="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return t+n}class sR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const c=uu("",20);r.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},s);o={messageChannel:r,onMessage(d){const f=d;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(u),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(f.data.response);break;default:clearTimeout(u),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[r.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}function cn(){return window}function rR(t){cn().location.href=t}function i_(){return typeof cn().WorkerGlobalScope<"u"&&typeof cn().importScripts=="function"}async function iR(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function oR(){return navigator?.serviceWorker?.controller||null}function aR(){return i_()?self:null}const o_="firebaseLocalStorageDb",lR=1,Yo="firebaseLocalStorage",a_="fbase_key";class Ki{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Fa(t,e){return t.transaction([Yo],e?"readwrite":"readonly").objectStore(Yo)}function cR(){const t=indexedDB.deleteDatabase(o_);return new Ki(t).toPromise()}function ac(){const t=indexedDB.open(o_,lR);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore(Yo,{keyPath:a_})}catch(r){n(r)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains(Yo)?e(s):(s.close(),await cR(),e(await ac()))})})}async function Yf(t,e,n){const s=Fa(t,!0).put({[a_]:e,value:n});return new Ki(s).toPromise()}async function uR(t,e){const n=Fa(t,!1).get(e),s=await new Ki(n).toPromise();return s===void 0?null:s.value}function Jf(t,e){const n=Fa(t,!0).delete(e);return new Ki(n).toPromise()}const dR=800,fR=3;class l_{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ac(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>fR)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return i_()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=La._getInstance(aR()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await iR(),!this.activeServiceWorker)return;this.sender=new sR(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||oR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ac();return await Yf(e,Ko,"1"),await Jf(e,Ko),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>Yf(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>uR(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Jf(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const i=Fa(r,!1).getAll();return new Ki(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:r,value:i}of e)s.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),n.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!s.has(r)&&(this.notifyListeners(r,null),n.push(r));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const r of Array.from(s))r(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),dR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}l_.type="LOCAL";const hR=l_;new Gi(3e4,6e4);function pR(t,e){return e?bn(e):(J(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class du extends lu{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return tr(e,this._buildIdpRequest())}_linkToIdToken(e,n){return tr(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return tr(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function mR(t){return Zg(t.auth,new du(t),t.bypassAuthState)}function gR(t){const{auth:e,user:n}=t;return J(n,e,"internal-error"),G0(n,new du(t),t.bypassAuthState)}async function _R(t){const{auth:e,user:n}=t;return J(n,e,"internal-error"),j0(n,new du(t),t.bypassAuthState)}class c_{constructor(e,n,s,r,i=!1){this.auth=e,this.resolver=s,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:r,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:s,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return mR;case"linkViaPopup":case"linkViaRedirect":return _R;case"reauthViaPopup":case"reauthViaRedirect":return gR;default:Gt(this.auth,"internal-error")}}resolve(e){Nn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Nn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const yR=new Gi(2e3,1e4);class zs extends c_{constructor(e,n,s,r,i){super(e,n,r,i),this.provider=s,this.authWindow=null,this.pollId=null,zs.currentPopupAction&&zs.currentPopupAction.cancel(),zs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return J(e,this.auth,"internal-error"),e}async onExecution(){Nn(this.filter.length===1,"Popup operations only handle one event");const e=uu();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ln(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ln(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,zs.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ln(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,yR.get())};e()}}zs.currentPopupAction=null;const vR="pendingRedirect",So=new Map;class bR extends c_{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=So.get(this.auth._key());if(!e){try{const s=await ER(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}So.set(this.auth._key(),e)}return this.bypassAuthState||So.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function ER(t,e){const n=IR(e),s=CR(t);if(!await s._isAvailable())return!1;const r=await s._get(n)==="true";return await s._remove(n),r}function wR(t,e){So.set(t._key(),e)}function CR(t){return bn(t._redirectPersistence)}function IR(t){return Io(vR,t.config.apiKey,t.name)}async function SR(t,e,n=!1){if(At(t.app))return Promise.reject(Sn(t));const s=Ls(t),r=pR(s,e),o=await new bR(s,r,n).execute();return o&&!n&&(delete o.user._redirectEventId,await s._persistUserIfCurrent(o.user),await s._setRedirectUser(null,e)),o}const TR=600*1e3;class RR{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!AR(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!u_(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(ln(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=TR&&this.cachedEventUids.clear(),this.cachedEventUids.has(Qf(e))}saveEventToCache(e){this.cachedEventUids.add(Qf(e)),this.lastProcessedEventTime=Date.now()}}function Qf(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function u_({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function AR(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return u_(t);default:return!1}}async function xR(t,e={}){return us(t,"GET","/v1/projects",e)}const PR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,NR=/^https?/;async function OR(t){if(t.config.emulator)return;const{authorizedDomains:e}=await xR(t);for(const n of e)try{if(kR(n))return}catch{}Gt(t,"unauthorized-domain")}function kR(t){const e=rc(),{protocol:n,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&s===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===s}if(!NR.test(n))return!1;if(PR.test(t))return s===t;const r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(s)}const DR=new Gi(3e4,6e4);function Xf(){const t=cn().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function MR(t){return new Promise((e,n)=>{function s(){Xf(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Xf(),n(ln(t,"network-request-failed"))},timeout:DR.get()})}if(cn().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(cn().gapi?.load)s();else{const r=T0("iframefcb");return cn()[r]=()=>{gapi.load?s():n(ln(t,"network-request-failed"))},Kg(`${S0()}?onload=${r}`).catch(i=>n(i))}}).catch(e=>{throw To=null,e})}let To=null;function LR(t){return To=To||MR(t),To}const FR=new Gi(5e3,15e3),UR="__/auth/iframe",BR="emulator/auth/iframe",VR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},$R=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function HR(t){const e=t.config;J(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?iu(e,BR):`https://${t.config.authDomain}/${UR}`,s={apiKey:e.apiKey,appName:t.name,v:Sr},r=$R.get(t.config.apiHost);r&&(s.eid=r);const i=t._getFrameworks();return i.length&&(s.fw=i.join(",")),`${n}?${Ir(s).slice(1)}`}async function WR(t){const e=await LR(t),n=cn().gapi;return J(n,t,"internal-error"),e.open({where:document.body,url:HR(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:VR,dontclear:!0},s=>new Promise(async(r,i)=>{await s.restyle({setHideOnLeave:!1});const o=ln(t,"network-request-failed"),a=cn().setTimeout(()=>{i(o)},FR.get());function l(){cn().clearTimeout(a),r(s)}s.ping(l).then(l,()=>{i(o)})}))}const jR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},GR=500,qR=600,zR="_blank",KR="http://localhost";class Zf{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function YR(t,e,n,s=GR,r=qR){const i=Math.max((window.screen.availHeight-r)/2,0).toString(),o=Math.max((window.screen.availWidth-s)/2,0).toString();let a="";const l={...jR,width:s.toString(),height:r.toString(),top:i,left:o},c=ut().toLowerCase();n&&(a=$g(c)?zR:n),Bg(c)&&(e=e||KR,l.scrollbars="yes");const u=Object.entries(l).reduce((f,[h,m])=>`${f}${h}=${m},`,"");if(g0(c)&&a!=="_self")return JR(e||"",a),new Zf(null);const d=window.open(e||"",a,u);J(d,t,"popup-blocked");try{d.focus()}catch{}return new Zf(d)}function JR(t,e){const n=document.createElement("a");n.href=t,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const QR="__/auth/handler",XR="emulator/auth/handler",ZR=encodeURIComponent("fac");async function eh(t,e,n,s,r,i){J(t.config.authDomain,t,"auth-domain-config-required"),J(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:Sr,eventId:r};if(e instanceof Qg){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Xl(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,d]of Object.entries({}))o[u]=d}if(e instanceof zi){const u=e.getScopes().filter(d=>d!=="");u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await t._getAppCheckToken(),c=l?`#${ZR}=${encodeURIComponent(l)}`:"";return`${eA(t)}?${Ir(a).slice(1)}${c}`}function eA({config:t}){return t.emulator?iu(t,XR):`https://${t.authDomain}/${QR}`}const vl="webStorageSupport";class tA{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=r_,this._completeRedirectFn=SR,this._overrideRedirectResult=wR}async _openPopup(e,n,s,r){Nn(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const i=await eh(e,n,s,rc(),r);return YR(e,i,uu())}async _openRedirect(e,n,s,r){await this._originValidation(e);const i=await eh(e,n,s,rc(),r);return rR(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:r,promise:i}=this.eventManagers[n];return r?Promise.resolve(r):(Nn(i,"If manager is not set, promise should be"),i)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await WR(e),s=new RR(e);return n.register("authEvent",r=>(J(r?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(vl,{type:vl},r=>{const i=r?.[0]?.[vl];i!==void 0&&n(!!i),Gt(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=OR(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return qg()||Vg()||au()}}const nA=tA;var th="@firebase/auth",nh="1.12.0";class sA{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){J(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function rA(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function iA(t){fr(new Ps("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=s.options;J(o&&!o.includes(":"),"invalid-api-key",{appName:s.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:zg(t)},c=new w0(s,r,i,l);return O0(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),fr(new Ps("auth-internal",e=>{const n=Ls(e.getProvider("auth").getImmediate());return(s=>new sA(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),es(th,nh,rA(t)),es(th,nh,"esm2020")}const oA=300,aA=bg("authIdTokenMaxAge")||oA;let sh=null;const lA=t=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>aA)return;const r=n?.token;sh!==r&&(sh=r,await fetch(t,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function cA(t=Ag()){const e=su(t,"auth");if(e.isInitialized())return e.getImmediate();const n=N0(t,{popupRedirectResolver:nA,persistence:[hR,tR,r_]}),s=bg("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(s,location.origin);if(location.origin===i.origin){const o=lA(i.toString());J0(n,o,()=>o(n.currentUser)),Y0(n,a=>o(a))}}const r=yg("auth");return r&&k0(n,`http://${r}`),n}function uA(){return document.getElementsByTagName("head")?.[0]??document}C0({loadJS(t){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=r=>{const i=ln("internal-error");i.customData=r,n(i)},s.type="text/javascript",s.charset="UTF-8",uA().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});iA("Browser");var rh={};const ih="@firebase/database",oh="1.1.0";let d_="";function dA(t){d_=t}class fA{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),qe(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:yi(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class hA{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return dn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const f_=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new fA(e)}}catch{}return new hA},ws=f_("localStorage"),pA=f_("sessionStorage");const nr=new tu("@firebase/database"),mA=(function(){let t=1;return function(){return t++}})(),h_=function(t){const e=BS(t),n=new MS;n.update(e);const s=n.digest();return Xc.encodeByteArray(s)},Yi=function(...t){let e="";for(let n=0;n<t.length;n++){const s=t[n];Array.isArray(s)||s&&typeof s=="object"&&typeof s.length=="number"?e+=Yi.apply(null,s):typeof s=="object"?e+=qe(s):e+=s,e+=" "}return e};let ni=null,ah=!0;const gA=function(t,e){k(!0,"Can't turn on custom loggers persistently."),nr.logLevel=Ee.VERBOSE,ni=nr.log.bind(nr)},Qe=function(...t){if(ah===!0&&(ah=!1,ni===null&&pA.get("logging_enabled")===!0&&gA()),ni){const e=Yi.apply(null,t);ni(e)}},Ji=function(t){return function(...e){Qe(t,...e)}},lc=function(...t){const e="FIREBASE INTERNAL ERROR: "+Yi(...t);nr.error(e)},On=function(...t){const e=`FIREBASE FATAL ERROR: ${Yi(...t)}`;throw nr.error(e),new Error(e)},ct=function(...t){const e="FIREBASE WARNING: "+Yi(...t);nr.warn(e)},_A=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&ct("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},fu=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},yA=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},hr="[MIN_NAME]",ks="[MAX_NAME]",Fs=function(t,e){if(t===e)return 0;if(t===hr||e===ks)return-1;if(e===hr||t===ks)return 1;{const n=lh(t),s=lh(e);return n!==null?s!==null?n-s===0?t.length-e.length:n-s:-1:s!==null?1:t<e?-1:1}},vA=function(t,e){return t===e?0:t<e?-1:1},Ur=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+qe(e))},hu=function(t){if(typeof t!="object"||t===null)return qe(t);const e=[];for(const s in t)e.push(s);e.sort();let n="{";for(let s=0;s<e.length;s++)s!==0&&(n+=","),n+=qe(e[s]),n+=":",n+=hu(t[e[s]]);return n+="}",n},p_=function(t,e){const n=t.length;if(n<=e)return[t];const s=[];for(let r=0;r<n;r+=e)r+e>n?s.push(t.substring(r,n)):s.push(t.substring(r,r+e));return s};function et(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const m_=function(t){k(!fu(t),"Invalid JSON number");const e=11,n=52,s=(1<<e-1)-1;let r,i,o,a,l;t===0?(i=0,o=0,r=1/t===-1/0?1:0):(r=t<0,t=Math.abs(t),t>=Math.pow(2,1-s)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),s),i=a+s,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(i=0,o=Math.round(t/Math.pow(2,1-s-n))));const c=[];for(l=n;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)c.push(i%2?1:0),i=Math.floor(i/2);c.push(r?1:0),c.reverse();const u=c.join("");let d="";for(l=0;l<64;l+=8){let f=parseInt(u.substr(l,8),2).toString(16);f.length===1&&(f="0"+f),d=d+f}return d.toLowerCase()},bA=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},EA=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function wA(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const s=new Error(t+" at "+e._path.toString()+": "+n);return s.code=t.toUpperCase(),s}const CA=new RegExp("^-?(0*)\\d{1,10}$"),IA=-2147483648,SA=2147483647,lh=function(t){if(CA.test(t)){const e=Number(t);if(e>=IA&&e<=SA)return e}return null},Rr=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw ct("Exception was thrown by user callback.",n),e},Math.floor(0))}},TA=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},si=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};class RA{constructor(e,n){this.appCheckProvider=n,this.appName=e.name,At(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(s=>this.appCheck=s)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((n,s)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,s):n(null)},0)})}addTokenChangeListener(e){this.appCheckProvider?.get().then(n=>n.addTokenListener(e))}notifyForInvalidToken(){ct(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}class AA{constructor(e,n,s){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=s,this.auth_=null,this.auth_=s.getImmediate({optional:!0}),this.auth_||s.onInit(r=>this.auth_=r)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Qe("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,s)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,s):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',ct(e)}}class Ro{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Ro.OWNER="owner";const pu="5",g_="v",__="s",y_="r",v_="f",b_=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,E_="ls",w_="p",cc="ac",C_="websocket",I_="long_polling";class S_{constructor(e,n,s,r,i=!1,o="",a=!1,l=!1,c=null){this.secure=n,this.namespace=s,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this.emulatorOptions=c,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=ws.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&ws.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function xA(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function T_(t,e,n){k(typeof e=="string","typeof type must == string"),k(typeof n=="object","typeof params must == object");let s;if(e===C_)s=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===I_)s=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);xA(t)&&(n.ns=t.namespace);const r=[];return et(n,(i,o)=>{r.push(i+"="+o)}),s+r.join("&")}class PA{constructor(){this.counters_={}}incrementCounter(e,n=1){dn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return pS(this.counters_)}}const bl={},El={};function mu(t){const e=t.toString();return bl[e]||(bl[e]=new PA),bl[e]}function NA(t,e){const n=t.toString();return El[n]||(El[n]=e()),El[n]}class OA{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const s=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<s.length;++r)s[r]&&Rr(()=>{this.onMessage_(s[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}const ch="start",kA="close",DA="pLPCommand",MA="pRTLPCB",R_="id",A_="pw",x_="ser",LA="cb",FA="seg",UA="ts",BA="d",VA="dframe",P_=1870,N_=30,$A=P_-N_,HA=25e3,WA=3e4;class Ks{constructor(e,n,s,r,i,o,a){this.connId=e,this.repoInfo=n,this.applicationId=s,this.appCheckToken=r,this.authToken=i,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Ji(e),this.stats_=mu(n),this.urlFn=l=>(this.appCheckToken&&(l[cc]=this.appCheckToken),T_(n,I_,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new OA(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(WA)),yA(()=>{if(this.isClosed_)return;this.scriptTagHolder=new gu((...i)=>{const[o,a,l,c,u]=i;if(this.incrementIncomingBytes_(i),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===ch)this.id=a,this.password=l;else if(o===kA)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...i)=>{const[o,a]=i;this.incrementIncomingBytes_(i),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const s={};s[ch]="t",s[x_]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(s[LA]=this.scriptTagHolder.uniqueCallbackIdentifier),s[g_]=pu,this.transportSessionId&&(s[__]=this.transportSessionId),this.lastSessionId&&(s[E_]=this.lastSessionId),this.applicationId&&(s[w_]=this.applicationId),this.appCheckToken&&(s[cc]=this.appCheckToken),typeof location<"u"&&location.hostname&&b_.test(location.hostname)&&(s[y_]=v_);const r=this.urlFn(s);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Ks.forceAllow_=!0}static forceDisallow(){Ks.forceDisallow_=!0}static isAvailable(){return Ks.forceAllow_?!0:!Ks.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!bA()&&!EA()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=qe(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const s=gg(n),r=p_(s,$A);for(let i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const s={};s[VA]="t",s[R_]=e,s[A_]=n,this.myDisconnFrame.src=this.urlFn(s),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=qe(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class gu{constructor(e,n,s,r){this.onDisconnect=s,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=mA(),window[DA+this.uniqueCallbackIdentifier]=e,window[MA+this.uniqueCallbackIdentifier]=n,this.myIFrame=gu.createIFrame_();let i="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(i='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+i+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){Qe("frame writing exception"),a.stack&&Qe(a.stack),Qe(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Qe("No IE domain setting required")}catch{const s=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+s+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[R_]=this.myID,e[A_]=this.myPW,e[x_]=this.currentSerial;let n=this.urlFn(e),s="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+N_+s.length<=P_;){const o=this.pendingSegs.shift();s=s+"&"+FA+r+"="+o.seg+"&"+UA+r+"="+o.ts+"&"+BA+r+"="+o.d,r++}return n=n+s,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,s){this.pendingSegs.push({seg:e,ts:n,d:s}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const s=()=>{this.outstandingRequests.delete(n),this.newRequest_()},r=setTimeout(s,Math.floor(HA)),i=()=>{clearTimeout(r),s()};this.addTag(e,i)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const s=this.myIFrame.doc.createElement("script");s.type="text/javascript",s.async=!0,s.src=e,s.onload=s.onreadystatechange=function(){const r=s.readyState;(!r||r==="loaded"||r==="complete")&&(s.onload=s.onreadystatechange=null,s.parentNode&&s.parentNode.removeChild(s),n())},s.onerror=()=>{Qe("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(s)}catch{}},Math.floor(1))}}const jA=16384,GA=45e3;let Jo=null;typeof MozWebSocket<"u"?Jo=MozWebSocket:typeof WebSocket<"u"&&(Jo=WebSocket);class Mt{constructor(e,n,s,r,i,o,a){this.connId=e,this.applicationId=s,this.appCheckToken=r,this.authToken=i,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Ji(this.connId),this.stats_=mu(n),this.connURL=Mt.connectionURL_(n,o,a,r,s),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,s,r,i){const o={};return o[g_]=pu,typeof location<"u"&&location.hostname&&b_.test(location.hostname)&&(o[y_]=v_),n&&(o[__]=n),s&&(o[E_]=s),r&&(o[cc]=r),i&&(o[w_]=i),T_(e,C_,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ws.set("previous_websocket_failure",!0);try{let s;RS(),this.mySock=new Jo(this.connURL,[],s)}catch(s){this.log_("Error instantiating WebSocket.");const r=s.message||s.data;r&&this.log_(r),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=s=>{this.handleIncomingFrame(s)},this.mySock.onerror=s=>{this.log_("WebSocket error.  Closing connection.");const r=s.message||s.data;r&&this.log_(r),this.onClosed_()}}start(){}static forceDisallow(){Mt.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,s=navigator.userAgent.match(n);s&&s.length>1&&parseFloat(s[1])<4.4&&(e=!0)}return!e&&Jo!==null&&!Mt.forceDisallow_}static previouslyFailed(){return ws.isInMemoryStorage||ws.get("previous_websocket_failure")===!0}markConnectionHealthy(){ws.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const s=yi(n);this.onMessage(s)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(k(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const s=this.extractFrameCount_(n);s!==null&&this.appendFrame_(s)}}send(e){this.resetKeepAlive();const n=qe(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const s=p_(n,jA);s.length>1&&this.sendString_(String(s.length));for(let r=0;r<s.length;r++)this.sendString_(s[r])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(GA))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Mt.responsesRequiredToBeHealthy=2;Mt.healthyTimeout=3e4;class wi{static get ALL_TRANSPORTS(){return[Ks,Mt]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=Mt&&Mt.isAvailable();let s=n&&!Mt.previouslyFailed();if(e.webSocketOnly&&(n||ct("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),s=!0),s)this.transports_=[Mt];else{const r=this.transports_=[];for(const i of wi.ALL_TRANSPORTS)i&&i.isAvailable()&&r.push(i);wi.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}wi.globalTransportInitialized_=!1;const qA=6e4,zA=5e3,KA=10*1024,YA=100*1024,wl="t",uh="d",JA="s",dh="r",QA="e",fh="o",hh="a",ph="n",mh="p",XA="h";class ZA{constructor(e,n,s,r,i,o,a,l,c,u){this.id=e,this.repoInfo_=n,this.applicationId_=s,this.appCheckToken_=r,this.authToken_=i,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Ji("c:"+this.id+":"),this.transportManager_=new wi(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),s=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,s)},Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=si(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>YA?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>KA?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(wl in e){const n=e[wl];n===hh?this.upgradeIfSecondaryHealthy_():n===dh?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===fh&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Ur("t",e),s=Ur("d",e);if(n==="c")this.onSecondaryControl_(s);else if(n==="d")this.pendingDataMessages.push(s);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:mh,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:hh,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:ph,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Ur("t",e),s=Ur("d",e);n==="c"?this.onControl_(s):n==="d"&&this.onDataMessage_(s)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Ur(wl,e);if(uh in e){const s=e[uh];if(n===XA){const r={...s};this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if(n===ph){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===JA?this.onConnectionShutdown_(s):n===dh?this.onReset_(s):n===QA?lc("Server Error: "+s):n===fh?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):lc("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,s=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),pu!==s&&ct("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),s=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,s),si(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(qA))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):si(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(zA))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:mh,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ws.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class O_{put(e,n,s,r){}merge(e,n,s,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,s){}onDisconnectMerge(e,n,s){}onDisconnectCancel(e,n){}reportStats(e){}}class k_{constructor(e){this.allowedEvents_=e,this.listeners_={},k(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const s=[...this.listeners_[e]];for(let r=0;r<s.length;r++)s[r].callback.apply(s[r].context,n)}}on(e,n,s){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:s});const r=this.getInitialEvent(e);r&&n.apply(s,r)}off(e,n,s){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let i=0;i<r.length;i++)if(r[i].callback===n&&(!s||s===r[i].context)){r.splice(i,1);return}}validateEventType_(e){k(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}class Qo extends k_{static getInstance(){return new Qo}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!eu()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return k(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}const gh=32,_h=768;class Ce{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let s=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[s]=this.pieces_[r],s++);this.pieces_.length=s,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function me(){return new Ce("")}function de(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function rs(t){return t.pieces_.length-t.pieceNum_}function Ae(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Ce(t.pieces_,e)}function _u(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function e1(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function Ci(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function D_(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Ce(e,0)}function Me(t,e){const n=[];for(let s=t.pieceNum_;s<t.pieces_.length;s++)n.push(t.pieces_[s]);if(e instanceof Ce)for(let s=e.pieceNum_;s<e.pieces_.length;s++)n.push(e.pieces_[s]);else{const s=e.split("/");for(let r=0;r<s.length;r++)s[r].length>0&&n.push(s[r])}return new Ce(n,0)}function ce(t){return t.pieceNum_>=t.pieces_.length}function lt(t,e){const n=de(t),s=de(e);if(n===null)return e;if(n===s)return lt(Ae(t),Ae(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function t1(t,e){const n=Ci(t,0),s=Ci(e,0);for(let r=0;r<n.length&&r<s.length;r++){const i=Fs(n[r],s[r]);if(i!==0)return i}return n.length===s.length?0:n.length<s.length?-1:1}function M_(t,e){if(rs(t)!==rs(e))return!1;for(let n=t.pieceNum_,s=e.pieceNum_;n<=t.pieces_.length;n++,s++)if(t.pieces_[n]!==e.pieces_[s])return!1;return!0}function xt(t,e){let n=t.pieceNum_,s=e.pieceNum_;if(rs(t)>rs(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[s])return!1;++n,++s}return!0}class n1{constructor(e,n){this.errorPrefix_=n,this.parts_=Ci(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let s=0;s<this.parts_.length;s++)this.byteLength_+=Da(this.parts_[s]);L_(this)}}function s1(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Da(e),L_(t)}function r1(t){const e=t.parts_.pop();t.byteLength_-=Da(e),t.parts_.length>0&&(t.byteLength_-=1)}function L_(t){if(t.byteLength_>_h)throw new Error(t.errorPrefix_+"has a key path longer than "+_h+" bytes ("+t.byteLength_+").");if(t.parts_.length>gh)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+gh+") or object contains a cycle "+ys(t))}function ys(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}class yu extends k_{static getInstance(){return new yu}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const s=!document[e];s!==this.visible_&&(this.visible_=s,this.trigger("visible",s))},!1)}getInitialEvent(e){return k(e==="visible","Unknown event type: "+e),[this.visible_]}}const Br=1e3,i1=300*1e3,yh=30*1e3,o1=1.3,a1=3e4,l1="server_kill",vh=3;class Tn extends O_{constructor(e,n,s,r,i,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=s,this.onConnectStatus_=r,this.onServerInfoUpdate_=i,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=Tn.nextPersistentConnectionId_++,this.log_=Ji("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Br,this.maxReconnectDelay_=i1,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");yu.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Qo.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,s){const r=++this.requestNumber_,i={r,a:e,b:n};this.log_(qe(i)),k(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),s&&(this.requestCBHash_[r]=s)}get(e){this.initConnection_();const n=new Wi,r={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(r),this.outstandingGetCount_++;const i=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(i),n.promise}listen(e,n,s,r){this.initConnection_();const i=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+i),this.listens.has(o)||this.listens.set(o,new Map),k(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),k(!this.listens.get(o).has(i),"listen() called twice for same path/queryId.");const a={onComplete:r,hashFn:n,query:e,tag:s};this.listens.get(o).set(i,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,s=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(s)})}sendListen_(e){const n=e.query,s=n._path.toString(),r=n._queryIdentifier;this.log_("Listen on "+s+" for "+r);const i={p:s},o="q";e.tag&&(i.q=n._queryObject,i.t=e.tag),i.h=e.hashFn(),this.sendRequest(o,i,a=>{const l=a.d,c=a.s;Tn.warnOnListenWarnings_(l,n),(this.listens.get(s)&&this.listens.get(s).get(r))===e&&(this.log_("listen response",a),c!=="ok"&&this.removeListen_(s,r),e.onComplete&&e.onComplete(c,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&dn(e,"w")){const s=dr(e,"w");if(Array.isArray(s)&&~s.indexOf("no_index")){const r='".indexOn": "'+n._queryParams.getIndex().toString()+'"',i=n._path.toString();ct(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${r} at ${i} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||DS(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=yh)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=kS(e)?"auth":"gauth",s={cred:e};this.authOverride_===null?s.noauth=!0:typeof this.authOverride_=="object"&&(s.authvar=this.authOverride_),this.sendRequest(n,s,r=>{const i=r.s,o=r.d||"error";this.authToken_===e&&(i==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(i,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,s=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,s)})}unlisten(e,n){const s=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+s+" "+r),k(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(s,r)&&this.connected_&&this.sendUnlisten_(s,r,e._queryObject,n)}sendUnlisten_(e,n,s,r){this.log_("Unlisten on "+e+" for "+n);const i={p:e},o="n";r&&(i.q=s,i.t=r),this.sendRequest(o,i)}onDisconnectPut(e,n,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:s})}onDisconnectMerge(e,n,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:s})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,s,r){const i={p:n,d:s};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,o=>{r&&setTimeout(()=>{r(o.s,o.d)},Math.floor(0))})}put(e,n,s,r){this.putInternal("p",e,n,s,r)}merge(e,n,s,r){this.putInternal("m",e,n,s,r)}putInternal(e,n,s,r,i){this.initConnection_();const o={p:n,d:s};i!==void 0&&(o.h=i),this.outstandingPuts_.push({action:e,request:o,onComplete:r}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,s=this.outstandingPuts_[e].request,r=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,s,i=>{this.log_(n+" response",i),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),r&&r(i.s,i.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,s=>{if(s.s!=="ok"){const i=s.d;this.log_("reportStats","Error sending stats: "+i)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+qe(e));const n=e.r,s=this.requestCBHash_[n];s&&(delete this.requestCBHash_[n],s(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):lc("Unrecognized action received from server: "+qe(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){k(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Br,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Br,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>a1&&(this.reconnectDelay_=Br),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*o1)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),s=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+Tn.nextConnectionId_++,i=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,s())},c=function(d){k(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(d)};this.realtime_={close:l,sendRequest:c};const u=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[d,f]=await Promise.all([this.authTokenProvider_.getToken(u),this.appCheckTokenProvider_.getToken(u)]);o?Qe("getToken() completed but was canceled"):(Qe("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=f&&f.token,a=new ZA(r,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,s,h=>{ct(h+" ("+this.repoInfo_.toString()+")"),this.interrupt(l1)},i))}catch(d){this.log_("Failed to get token: "+d),o||(this.repoInfo_.nodeAdmin&&ct(d),l())}}}interrupt(e){Qe("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Qe("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Xl(this.interruptReasons_)&&(this.reconnectDelay_=Br,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let s;n?s=n.map(i=>hu(i)).join("$"):s="default";const r=this.removeListen_(e,s);r&&r.onComplete&&r.onComplete("permission_denied")}removeListen_(e,n){const s=new Ce(e).toString();let r;if(this.listens.has(s)){const i=this.listens.get(s);r=i.get(n),i.delete(n),i.size===0&&this.listens.delete(s)}else r=void 0;return r}onAuthRevoked_(e,n){Qe("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=vh&&(this.reconnectDelay_=yh,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Qe("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=vh&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+d_.replace(/\./g,"-")]=1,eu()?e["framework.cordova"]=1:Cg()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Qo.getInstance().currentlyOnline();return Xl(this.interruptReasons_)&&e}}Tn.nextPersistentConnectionId_=0;Tn.nextConnectionId_=0;class oe{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new oe(e,n)}}class Ua{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const s=new oe(hr,e),r=new oe(hr,n);return this.compare(s,r)!==0}minPost(){return oe.MIN}}let co;class F_ extends Ua{static get __EMPTY_NODE(){return co}static set __EMPTY_NODE(e){co=e}compare(e,n){return Fs(e.name,n.name)}isDefinedOn(e){throw wr("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return oe.MIN}maxPost(){return new oe(ks,co)}makePost(e,n){return k(typeof e=="string","KeyIndex indexValue must always be a string."),new oe(e,co)}toString(){return".key"}}const sr=new F_;class uo{constructor(e,n,s,r,i=null){this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?s(e.key,n):1,r&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Je{constructor(e,n,s,r,i){this.key=e,this.value=n,this.color=s??Je.RED,this.left=r??pt.EMPTY_NODE,this.right=i??pt.EMPTY_NODE}copy(e,n,s,r,i){return new Je(e??this.key,n??this.value,s??this.color,r??this.left,i??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let r=this;const i=s(e,r.key);return i<0?r=r.copy(null,null,null,r.left.insert(e,n,s),null):i===0?r=r.copy(null,n,null,null,null):r=r.copy(null,null,null,null,r.right.insert(e,n,s)),r.fixUp_()}removeMin_(){if(this.left.isEmpty())return pt.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let s,r;if(s=this,n(e,s.key)<0)!s.left.isEmpty()&&!s.left.isRed_()&&!s.left.left.isRed_()&&(s=s.moveRedLeft_()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed_()&&(s=s.rotateRight_()),!s.right.isEmpty()&&!s.right.isRed_()&&!s.right.left.isRed_()&&(s=s.moveRedRight_()),n(e,s.key)===0){if(s.right.isEmpty())return pt.EMPTY_NODE;r=s.right.min_(),s=s.copy(r.key,r.value,null,null,s.right.removeMin_())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Je.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Je.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Je.RED=!0;Je.BLACK=!1;class c1{copy(e,n,s,r,i){return this}insert(e,n,s){return new Je(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class pt{constructor(e,n=pt.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new pt(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Je.BLACK,null,null))}remove(e){return new pt(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Je.BLACK,null,null))}get(e){let n,s=this.root_;for(;!s.isEmpty();){if(n=this.comparator_(e,s.key),n===0)return s.value;n<0?s=s.left:n>0&&(s=s.right)}return null}getPredecessorKey(e){let n,s=this.root_,r=null;for(;!s.isEmpty();)if(n=this.comparator_(e,s.key),n===0){if(s.left.isEmpty())return r?r.key:null;for(s=s.left;!s.right.isEmpty();)s=s.right;return s.key}else n<0?s=s.left:n>0&&(r=s,s=s.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new uo(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new uo(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new uo(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new uo(this.root_,null,this.comparator_,!0,e)}}pt.EMPTY_NODE=new c1;function u1(t,e){return Fs(t.name,e.name)}function vu(t,e){return Fs(t,e)}let uc;function d1(t){uc=t}const U_=function(t){return typeof t=="number"?"number:"+m_(t):"string:"+t},B_=function(t){if(t.isLeafNode()){const e=t.val();k(typeof e=="string"||typeof e=="number"||typeof e=="object"&&dn(e,".sv"),"Priority must be a string or number.")}else k(t===uc||t.isEmpty(),"priority of unexpected type.");k(t===uc||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let bh;class Ye{static set __childrenNodeConstructor(e){bh=e}static get __childrenNodeConstructor(){return bh}constructor(e,n=Ye.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,k(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),B_(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Ye(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Ye.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return ce(e)?this:de(e)===".priority"?this.priorityNode_:Ye.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Ye.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const s=de(e);return s===null?n:n.isEmpty()&&s!==".priority"?this:(k(s!==".priority"||rs(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(s,Ye.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ae(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+U_(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=m_(this.value_):e+=this.value_,this.lazyHash_=h_(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Ye.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Ye.__childrenNodeConstructor?-1:(k(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,s=typeof this.value_,r=Ye.VALUE_TYPE_ORDER.indexOf(n),i=Ye.VALUE_TYPE_ORDER.indexOf(s);return k(r>=0,"Unknown leaf type: "+n),k(i>=0,"Unknown leaf type: "+s),r===i?s==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:i-r}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Ye.VALUE_TYPE_ORDER=["object","boolean","number","string"];let V_,$_;function f1(t){V_=t}function h1(t){$_=t}class p1 extends Ua{compare(e,n){const s=e.node.getPriority(),r=n.node.getPriority(),i=s.compareTo(r);return i===0?Fs(e.name,n.name):i}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return oe.MIN}maxPost(){return new oe(ks,new Ye("[PRIORITY-POST]",$_))}makePost(e,n){const s=V_(e);return new oe(n,new Ye("[PRIORITY-POST]",s))}toString(){return".priority"}}const Fe=new p1;const m1=Math.log(2);class g1{constructor(e){const n=i=>parseInt(Math.log(i)/m1,10),s=i=>parseInt(Array(i+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const r=s(this.count);this.bits_=e+1&r}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Xo=function(t,e,n,s){t.sort(e);const r=function(l,c){const u=c-l;let d,f;if(u===0)return null;if(u===1)return d=t[l],f=n?n(d):d,new Je(f,d.node,Je.BLACK,null,null);{const h=parseInt(u/2,10)+l,m=r(l,h),v=r(h+1,c);return d=t[h],f=n?n(d):d,new Je(f,d.node,Je.BLACK,m,v)}},i=function(l){let c=null,u=null,d=t.length;const f=function(m,v){const _=d-m,E=d;d-=m;const A=r(_+1,E),I=t[_],N=n?n(I):I;h(new Je(N,I.node,v,null,A))},h=function(m){c?(c.left=m,c=m):(u=m,c=m)};for(let m=0;m<l.count;++m){const v=l.nextBitIsOne(),_=Math.pow(2,l.count-(m+1));v?f(_,Je.BLACK):(f(_,Je.BLACK),f(_,Je.RED))}return u},o=new g1(t.length),a=i(o);return new pt(s||e,a)};let Cl;const Hs={};class En{static get Default(){return k(Hs&&Fe,"ChildrenNode.ts has not been loaded"),Cl=Cl||new En({".priority":Hs},{".priority":Fe}),Cl}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=dr(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof pt?n:null}hasIndex(e){return dn(this.indexSet_,e.toString())}addIndex(e,n){k(e!==sr,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const s=[];let r=!1;const i=n.getIterator(oe.Wrap);let o=i.getNext();for(;o;)r=r||e.isDefinedOn(o.node),s.push(o),o=i.getNext();let a;r?a=Xo(s,e.getCompare()):a=Hs;const l=e.toString(),c={...this.indexSet_};c[l]=e;const u={...this.indexes_};return u[l]=a,new En(u,c)}addToIndexes(e,n){const s=Ho(this.indexes_,(r,i)=>{const o=dr(this.indexSet_,i);if(k(o,"Missing index implementation for "+i),r===Hs)if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(oe.Wrap);let c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),Xo(a,o.getCompare())}else return Hs;else{const a=n.get(e.name);let l=r;return a&&(l=l.remove(new oe(e.name,a))),l.insert(e,e.node)}});return new En(s,this.indexSet_)}removeFromIndexes(e,n){const s=Ho(this.indexes_,r=>{if(r===Hs)return r;{const i=n.get(e.name);return i?r.remove(new oe(e.name,i)):r}});return new En(s,this.indexSet_)}}let Vr;class Q{static get EMPTY_NODE(){return Vr||(Vr=new Q(new pt(vu),null,En.Default))}constructor(e,n,s){this.children_=e,this.priorityNode_=n,this.indexMap_=s,this.lazyHash_=null,this.priorityNode_&&B_(this.priorityNode_),this.children_.isEmpty()&&k(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Vr}updatePriority(e){return this.children_.isEmpty()?this:new Q(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Vr:n}}getChild(e){const n=de(e);return n===null?this:this.getImmediateChild(n).getChild(Ae(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(k(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const s=new oe(e,n);let r,i;n.isEmpty()?(r=this.children_.remove(e),i=this.indexMap_.removeFromIndexes(s,this.children_)):(r=this.children_.insert(e,n),i=this.indexMap_.addToIndexes(s,this.children_));const o=r.isEmpty()?Vr:this.priorityNode_;return new Q(r,o,i)}}updateChild(e,n){const s=de(e);if(s===null)return n;{k(de(e)!==".priority"||rs(e)===1,".priority must be the last token in a path");const r=this.getImmediateChild(s).updateChild(Ae(e),n);return this.updateImmediateChild(s,r)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let s=0,r=0,i=!0;if(this.forEachChild(Fe,(o,a)=>{n[o]=a.val(e),s++,i&&Q.INTEGER_REGEXP_.test(o)?r=Math.max(r,Number(o)):i=!1}),!e&&i&&r<2*s){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+U_(this.getPriority().val())+":"),this.forEachChild(Fe,(n,s)=>{const r=s.hash();r!==""&&(e+=":"+n+":"+r)}),this.lazyHash_=e===""?"":h_(e)}return this.lazyHash_}getPredecessorChildName(e,n,s){const r=this.resolveIndex_(s);if(r){const i=r.getPredecessorKey(new oe(e,n));return i?i.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const s=n.minKey();return s&&s.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new oe(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const s=n.maxKey();return s&&s.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new oe(n,this.children_.get(n)):null}forEachChild(e,n){const s=this.resolveIndex_(e);return s?s.inorderTraversal(r=>n(r.name,r.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const s=this.resolveIndex_(n);if(s)return s.getIteratorFrom(e,r=>r);{const r=this.children_.getIteratorFrom(e.name,oe.Wrap);let i=r.peek();for(;i!=null&&n.compare(i,e)<0;)r.getNext(),i=r.peek();return r}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const s=this.resolveIndex_(n);if(s)return s.getReverseIteratorFrom(e,r=>r);{const r=this.children_.getReverseIteratorFrom(e.name,oe.Wrap);let i=r.peek();for(;i!=null&&n.compare(i,e)>0;)r.getNext(),i=r.peek();return r}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Qi?-1:0}withIndex(e){if(e===sr||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new Q(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===sr||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const s=this.getIterator(Fe),r=n.getIterator(Fe);let i=s.getNext(),o=r.getNext();for(;i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=s.getNext(),o=r.getNext()}return i===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===sr?null:this.indexMap_.get(e.toString())}}Q.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class _1 extends Q{constructor(){super(new pt(vu),Q.EMPTY_NODE,En.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Q.EMPTY_NODE}isEmpty(){return!1}}const Qi=new _1;Object.defineProperties(oe,{MIN:{value:new oe(hr,Q.EMPTY_NODE)},MAX:{value:new oe(ks,Qi)}});F_.__EMPTY_NODE=Q.EMPTY_NODE;Ye.__childrenNodeConstructor=Q;d1(Qi);h1(Qi);const y1=!0;function Ge(t,e=null){if(t===null)return Q.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),k(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Ye(n,Ge(e))}if(!(t instanceof Array)&&y1){const n=[];let s=!1;if(et(t,(o,a)=>{if(o.substring(0,1)!=="."){const l=Ge(a);l.isEmpty()||(s=s||!l.getPriority().isEmpty(),n.push(new oe(o,l)))}}),n.length===0)return Q.EMPTY_NODE;const i=Xo(n,u1,o=>o.name,vu);if(s){const o=Xo(n,Fe.getCompare());return new Q(i,Ge(e),new En({".priority":o},{".priority":Fe}))}else return new Q(i,Ge(e),En.Default)}else{let n=Q.EMPTY_NODE;return et(t,(s,r)=>{if(dn(t,s)&&s.substring(0,1)!=="."){const i=Ge(r);(i.isLeafNode()||!i.isEmpty())&&(n=n.updateImmediateChild(s,i))}}),n.updatePriority(Ge(e))}}f1(Ge);class v1 extends Ua{constructor(e){super(),this.indexPath_=e,k(!ce(e)&&de(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const s=this.extractChild(e.node),r=this.extractChild(n.node),i=s.compareTo(r);return i===0?Fs(e.name,n.name):i}makePost(e,n){const s=Ge(e),r=Q.EMPTY_NODE.updateChild(this.indexPath_,s);return new oe(n,r)}maxPost(){const e=Q.EMPTY_NODE.updateChild(this.indexPath_,Qi);return new oe(ks,e)}toString(){return Ci(this.indexPath_,0).join("/")}}class b1 extends Ua{compare(e,n){const s=e.node.compareTo(n.node);return s===0?Fs(e.name,n.name):s}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return oe.MIN}maxPost(){return oe.MAX}makePost(e,n){const s=Ge(e);return new oe(n,s)}toString(){return".value"}}const E1=new b1;function H_(t){return{type:"value",snapshotNode:t}}function pr(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Ii(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Si(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function w1(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}class bu{constructor(e){this.index_=e}updateChild(e,n,s,r,i,o){k(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(n);return a.getChild(r).equals(s.getChild(r))&&a.isEmpty()===s.isEmpty()||(o!=null&&(s.isEmpty()?e.hasChild(n)?o.trackChildChange(Ii(n,a)):k(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(pr(n,s)):o.trackChildChange(Si(n,s,a))),e.isLeafNode()&&s.isEmpty())?e:e.updateImmediateChild(n,s).withIndex(this.index_)}updateFullNode(e,n,s){return s!=null&&(e.isLeafNode()||e.forEachChild(Fe,(r,i)=>{n.hasChild(r)||s.trackChildChange(Ii(r,i))}),n.isLeafNode()||n.forEachChild(Fe,(r,i)=>{if(e.hasChild(r)){const o=e.getImmediateChild(r);o.equals(i)||s.trackChildChange(Si(r,i,o))}else s.trackChildChange(pr(r,i))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?Q.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Ti{constructor(e){this.indexedFilter_=new bu(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Ti.getStartPost_(e),this.endPost_=Ti.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,s=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&s}updateChild(e,n,s,r,i,o){return this.matches(new oe(n,s))||(s=Q.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,s,r,i,o)}updateFullNode(e,n,s){n.isLeafNode()&&(n=Q.EMPTY_NODE);let r=n.withIndex(this.index_);r=r.updatePriority(Q.EMPTY_NODE);const i=this;return n.forEachChild(Fe,(o,a)=>{i.matches(new oe(o,a))||(r=r.updateImmediateChild(o,Q.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,r,s)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}class C1{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const s=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?s<=0:s<0},this.withinEndPost=n=>{const s=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?s<=0:s<0},this.rangedFilter_=new Ti(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,s,r,i,o){return this.rangedFilter_.matches(new oe(n,s))||(s=Q.EMPTY_NODE),e.getImmediateChild(n).equals(s)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,s,r,i,o):this.fullLimitUpdateChild_(e,n,s,i,o)}updateFullNode(e,n,s){let r;if(n.isLeafNode()||n.isEmpty())r=Q.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){r=Q.EMPTY_NODE.withIndex(this.index_);let i;this.reverse_?i=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):i=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;i.hasNext()&&o<this.limit_;){const a=i.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))r=r.updateImmediateChild(a.name,a.node),o++;else break;else continue}}else{r=n.withIndex(this.index_),r=r.updatePriority(Q.EMPTY_NODE);let i;this.reverse_?i=r.getReverseIterator(this.index_):i=r.getIterator(this.index_);let o=0;for(;i.hasNext();){const a=i.getNext();o<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?o++:r=r.updateImmediateChild(a.name,Q.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,s)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,s,r,i){let o;if(this.reverse_){const d=this.index_.getCompare();o=(f,h)=>d(h,f)}else o=this.index_.getCompare();const a=e;k(a.numChildren()===this.limit_,"");const l=new oe(n,s),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(l);if(a.hasChild(n)){const d=a.getImmediateChild(n);let f=r.getChildAfterChild(this.index_,c,this.reverse_);for(;f!=null&&(f.name===n||a.hasChild(f.name));)f=r.getChildAfterChild(this.index_,f,this.reverse_);const h=f==null?1:o(f,l);if(u&&!s.isEmpty()&&h>=0)return i?.trackChildChange(Si(n,s,d)),a.updateImmediateChild(n,s);{i?.trackChildChange(Ii(n,d));const v=a.updateImmediateChild(n,Q.EMPTY_NODE);return f!=null&&this.rangedFilter_.matches(f)?(i?.trackChildChange(pr(f.name,f.node)),v.updateImmediateChild(f.name,f.node)):v}}else return s.isEmpty()?e:u&&o(c,l)>=0?(i!=null&&(i.trackChildChange(Ii(c.name,c.node)),i.trackChildChange(pr(n,s))),a.updateImmediateChild(n,s).updateImmediateChild(c.name,Q.EMPTY_NODE)):e}}class Eu{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Fe}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return k(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return k(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:hr}hasEnd(){return this.endSet_}getIndexEndValue(){return k(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return k(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ks}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return k(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Fe}copy(){const e=new Eu;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function I1(t){return t.loadsAllData()?new bu(t.getIndex()):t.hasLimit()?new C1(t):new Ti(t)}function Eh(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Fe?n="$priority":t.index_===E1?n="$value":t.index_===sr?n="$key":(k(t.index_ instanceof v1,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=qe(n),t.startSet_){const s=t.startAfterSet_?"startAfter":"startAt";e[s]=qe(t.indexStartValue_),t.startNameSet_&&(e[s]+=","+qe(t.indexStartName_))}if(t.endSet_){const s=t.endBeforeSet_?"endBefore":"endAt";e[s]=qe(t.indexEndValue_),t.endNameSet_&&(e[s]+=","+qe(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function wh(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Fe&&(e.i=t.index_.toString()),e}class Zo extends O_{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(k(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,s,r){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=s,this.appCheckTokenProvider_=r,this.log_=Ji("p:rest:"),this.listens_={}}listen(e,n,s,r){const i=e._path.toString();this.log_("Listen called for "+i+" "+e._queryIdentifier);const o=Zo.getListenId_(e,s),a={};this.listens_[o]=a;const l=Eh(e._queryParams);this.restRequest_(i+".json",l,(c,u)=>{let d=u;if(c===404&&(d=null,c=null),c===null&&this.onDataUpdate_(i,d,!1,s),dr(this.listens_,o)===a){let f;c?c===401?f="permission_denied":f="rest_error:"+c:f="ok",r(f,null)}})}unlisten(e,n){const s=Zo.getListenId_(e,n);delete this.listens_[s]}get(e){const n=Eh(e._queryParams),s=e._path.toString(),r=new Wi;return this.restRequest_(s+".json",n,(i,o)=>{let a=o;i===404&&(a=null,i=null),i===null?(this.onDataUpdate_(s,a,!1,null),r.resolve(a)):r.reject(new Error(a))}),r.promise}refreshAuthToken(e){}restRequest_(e,n={},s){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,i])=>{r&&r.accessToken&&(n.auth=r.accessToken),i&&i.token&&(n.ac=i.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Ir(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(s&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=yi(a.responseText)}catch{ct("Failed to parse JSON response for "+o+": "+a.responseText)}s(null,l)}else a.status!==401&&a.status!==404&&ct("Got unsuccessful REST response for "+o+" Status: "+a.status),s(a.status);s=null}},a.open("GET",o,!0),a.send()})}}class S1{constructor(){this.rootNode_=Q.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}function ea(){return{value:null,children:new Map}}function W_(t,e,n){if(ce(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const s=de(e);t.children.has(s)||t.children.set(s,ea());const r=t.children.get(s);e=Ae(e),W_(r,e,n)}}function dc(t,e,n){t.value!==null?n(e,t.value):T1(t,(s,r)=>{const i=new Ce(e.toString()+"/"+s);dc(r,i,n)})}function T1(t,e){t.children.forEach((n,s)=>{e(s,n)})}class R1{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n={...e};return this.last_&&et(this.last_,(s,r)=>{n[s]=n[s]-r}),this.last_=e,n}}const Ch=10*1e3,A1=30*1e3,x1=300*1e3;class P1{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new R1(e);const s=Ch+(A1-Ch)*Math.random();si(this.reportStats_.bind(this),Math.floor(s))}reportStats_(){const e=this.statsListener_.get(),n={};let s=!1;et(e,(r,i)=>{i>0&&dn(this.statsToReport_,r)&&(n[r]=i,s=!0)}),s&&this.server_.reportStats(n),si(this.reportStats_.bind(this),Math.floor(Math.random()*2*x1))}}var Ut;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Ut||(Ut={}));function wu(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Cu(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Iu(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}class ta{constructor(e,n,s){this.path=e,this.affectedTree=n,this.revert=s,this.type=Ut.ACK_USER_WRITE,this.source=wu()}operationForChild(e){if(ce(this.path)){if(this.affectedTree.value!=null)return k(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Ce(e));return new ta(me(),n,this.revert)}}else return k(de(this.path)===e,"operationForChild called for unrelated child."),new ta(Ae(this.path),this.affectedTree,this.revert)}}class Ri{constructor(e,n){this.source=e,this.path=n,this.type=Ut.LISTEN_COMPLETE}operationForChild(e){return ce(this.path)?new Ri(this.source,me()):new Ri(this.source,Ae(this.path))}}class Ds{constructor(e,n,s){this.source=e,this.path=n,this.snap=s,this.type=Ut.OVERWRITE}operationForChild(e){return ce(this.path)?new Ds(this.source,me(),this.snap.getImmediateChild(e)):new Ds(this.source,Ae(this.path),this.snap)}}class mr{constructor(e,n,s){this.source=e,this.path=n,this.children=s,this.type=Ut.MERGE}operationForChild(e){if(ce(this.path)){const n=this.children.subtree(new Ce(e));return n.isEmpty()?null:n.value?new Ds(this.source,me(),n.value):new mr(this.source,me(),n)}else return k(de(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new mr(this.source,Ae(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class is{constructor(e,n,s){this.node_=e,this.fullyInitialized_=n,this.filtered_=s}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(ce(e))return this.isFullyInitialized()&&!this.filtered_;const n=de(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class N1{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function O1(t,e,n,s){const r=[],i=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&i.push(w1(o.childName,o.snapshotNode))}),$r(t,r,"child_removed",e,s,n),$r(t,r,"child_added",e,s,n),$r(t,r,"child_moved",i,s,n),$r(t,r,"child_changed",e,s,n),$r(t,r,"value",e,s,n),r}function $r(t,e,n,s,r,i){const o=s.filter(a=>a.type===n);o.sort((a,l)=>D1(t,a,l)),o.forEach(a=>{const l=k1(t,a,i);r.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,t.query_))})})}function k1(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function D1(t,e,n){if(e.childName==null||n.childName==null)throw wr("Should only compare child_ events.");const s=new oe(e.childName,e.snapshotNode),r=new oe(n.childName,n.snapshotNode);return t.index_.compare(s,r)}function Ba(t,e){return{eventCache:t,serverCache:e}}function ri(t,e,n,s){return Ba(new is(e,n,s),t.serverCache)}function j_(t,e,n,s){return Ba(t.eventCache,new is(e,n,s))}function na(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Ms(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}let Il;const M1=()=>(Il||(Il=new pt(vA)),Il);class Re{static fromObject(e){let n=new Re(null);return et(e,(s,r)=>{n=n.set(new Ce(s),r)}),n}constructor(e,n=M1()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:me(),value:this.value};if(ce(e))return null;{const s=de(e),r=this.children.get(s);if(r!==null){const i=r.findRootMostMatchingPathAndValue(Ae(e),n);return i!=null?{path:Me(new Ce(s),i.path),value:i.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(ce(e))return this;{const n=de(e),s=this.children.get(n);return s!==null?s.subtree(Ae(e)):new Re(null)}}set(e,n){if(ce(e))return new Re(n,this.children);{const s=de(e),i=(this.children.get(s)||new Re(null)).set(Ae(e),n),o=this.children.insert(s,i);return new Re(this.value,o)}}remove(e){if(ce(e))return this.children.isEmpty()?new Re(null):new Re(null,this.children);{const n=de(e),s=this.children.get(n);if(s){const r=s.remove(Ae(e));let i;return r.isEmpty()?i=this.children.remove(n):i=this.children.insert(n,r),this.value===null&&i.isEmpty()?new Re(null):new Re(this.value,i)}else return this}}get(e){if(ce(e))return this.value;{const n=de(e),s=this.children.get(n);return s?s.get(Ae(e)):null}}setTree(e,n){if(ce(e))return n;{const s=de(e),i=(this.children.get(s)||new Re(null)).setTree(Ae(e),n);let o;return i.isEmpty()?o=this.children.remove(s):o=this.children.insert(s,i),new Re(this.value,o)}}fold(e){return this.fold_(me(),e)}fold_(e,n){const s={};return this.children.inorderTraversal((r,i)=>{s[r]=i.fold_(Me(e,r),n)}),n(e,this.value,s)}findOnPath(e,n){return this.findOnPath_(e,me(),n)}findOnPath_(e,n,s){const r=this.value?s(n,this.value):!1;if(r)return r;if(ce(e))return null;{const i=de(e),o=this.children.get(i);return o?o.findOnPath_(Ae(e),Me(n,i),s):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,me(),n)}foreachOnPath_(e,n,s){if(ce(e))return this;{this.value&&s(n,this.value);const r=de(e),i=this.children.get(r);return i?i.foreachOnPath_(Ae(e),Me(n,r),s):new Re(null)}}foreach(e){this.foreach_(me(),e)}foreach_(e,n){this.children.inorderTraversal((s,r)=>{r.foreach_(Me(e,s),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,s)=>{s.value&&e(n,s.value)})}}class Vt{constructor(e){this.writeTree_=e}static empty(){return new Vt(new Re(null))}}function ii(t,e,n){if(ce(e))return new Vt(new Re(n));{const s=t.writeTree_.findRootMostValueAndPath(e);if(s!=null){const r=s.path;let i=s.value;const o=lt(r,e);return i=i.updateChild(o,n),new Vt(t.writeTree_.set(r,i))}else{const r=new Re(n),i=t.writeTree_.setTree(e,r);return new Vt(i)}}}function fc(t,e,n){let s=t;return et(n,(r,i)=>{s=ii(s,Me(e,r),i)}),s}function Ih(t,e){if(ce(e))return Vt.empty();{const n=t.writeTree_.setTree(e,new Re(null));return new Vt(n)}}function hc(t,e){return Us(t,e)!=null}function Us(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(lt(n.path,e)):null}function Sh(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Fe,(s,r)=>{e.push(new oe(s,r))}):t.writeTree_.children.inorderTraversal((s,r)=>{r.value!=null&&e.push(new oe(s,r.value))}),e}function ts(t,e){if(ce(e))return t;{const n=Us(t,e);return n!=null?new Vt(new Re(n)):new Vt(t.writeTree_.subtree(e))}}function pc(t){return t.writeTree_.isEmpty()}function gr(t,e){return G_(me(),t.writeTree_,e)}function G_(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let s=null;return e.children.inorderTraversal((r,i)=>{r===".priority"?(k(i.value!==null,"Priority writes must always be leaf nodes"),s=i.value):n=G_(Me(t,r),i,n)}),!n.getChild(t).isEmpty()&&s!==null&&(n=n.updateChild(Me(t,".priority"),s)),n}}function Va(t,e){return Y_(e,t)}function L1(t,e,n,s,r){k(s>t.lastWriteId,"Stacking an older write on top of newer ones"),r===void 0&&(r=!0),t.allWrites.push({path:e,snap:n,writeId:s,visible:r}),r&&(t.visibleWrites=ii(t.visibleWrites,e,n)),t.lastWriteId=s}function F1(t,e,n,s){k(s>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:s,visible:!0}),t.visibleWrites=fc(t.visibleWrites,e,n),t.lastWriteId=s}function U1(t,e){for(let n=0;n<t.allWrites.length;n++){const s=t.allWrites[n];if(s.writeId===e)return s}return null}function B1(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);k(n>=0,"removeWrite called with nonexistent writeId.");const s=t.allWrites[n];t.allWrites.splice(n,1);let r=s.visible,i=!1,o=t.allWrites.length-1;for(;r&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&V1(a,s.path)?r=!1:xt(s.path,a.path)&&(i=!0)),o--}if(r){if(i)return $1(t),!0;if(s.snap)t.visibleWrites=Ih(t.visibleWrites,s.path);else{const a=s.children;et(a,l=>{t.visibleWrites=Ih(t.visibleWrites,Me(s.path,l))})}return!0}else return!1}function V1(t,e){if(t.snap)return xt(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&xt(Me(t.path,n),e))return!0;return!1}function $1(t){t.visibleWrites=q_(t.allWrites,H1,me()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function H1(t){return t.visible}function q_(t,e,n){let s=Vt.empty();for(let r=0;r<t.length;++r){const i=t[r];if(e(i)){const o=i.path;let a;if(i.snap)xt(n,o)?(a=lt(n,o),s=ii(s,a,i.snap)):xt(o,n)&&(a=lt(o,n),s=ii(s,me(),i.snap.getChild(a)));else if(i.children){if(xt(n,o))a=lt(n,o),s=fc(s,a,i.children);else if(xt(o,n))if(a=lt(o,n),ce(a))s=fc(s,me(),i.children);else{const l=dr(i.children,de(a));if(l){const c=l.getChild(Ae(a));s=ii(s,me(),c)}}}else throw wr("WriteRecord should have .snap or .children")}}return s}function z_(t,e,n,s,r){if(!s&&!r){const i=Us(t.visibleWrites,e);if(i!=null)return i;{const o=ts(t.visibleWrites,e);if(pc(o))return n;if(n==null&&!hc(o,me()))return null;{const a=n||Q.EMPTY_NODE;return gr(o,a)}}}else{const i=ts(t.visibleWrites,e);if(!r&&pc(i))return n;if(!r&&n==null&&!hc(i,me()))return null;{const o=function(c){return(c.visible||r)&&(!s||!~s.indexOf(c.writeId))&&(xt(c.path,e)||xt(e,c.path))},a=q_(t.allWrites,o,e),l=n||Q.EMPTY_NODE;return gr(a,l)}}}function W1(t,e,n){let s=Q.EMPTY_NODE;const r=Us(t.visibleWrites,e);if(r)return r.isLeafNode()||r.forEachChild(Fe,(i,o)=>{s=s.updateImmediateChild(i,o)}),s;if(n){const i=ts(t.visibleWrites,e);return n.forEachChild(Fe,(o,a)=>{const l=gr(ts(i,new Ce(o)),a);s=s.updateImmediateChild(o,l)}),Sh(i).forEach(o=>{s=s.updateImmediateChild(o.name,o.node)}),s}else{const i=ts(t.visibleWrites,e);return Sh(i).forEach(o=>{s=s.updateImmediateChild(o.name,o.node)}),s}}function j1(t,e,n,s,r){k(s||r,"Either existingEventSnap or existingServerSnap must exist");const i=Me(e,n);if(hc(t.visibleWrites,i))return null;{const o=ts(t.visibleWrites,i);return pc(o)?r.getChild(n):gr(o,r.getChild(n))}}function G1(t,e,n,s){const r=Me(e,n),i=Us(t.visibleWrites,r);if(i!=null)return i;if(s.isCompleteForChild(n)){const o=ts(t.visibleWrites,r);return gr(o,s.getNode().getImmediateChild(n))}else return null}function q1(t,e){return Us(t.visibleWrites,e)}function z1(t,e,n,s,r,i,o){let a;const l=ts(t.visibleWrites,e),c=Us(l,me());if(c!=null)a=c;else if(n!=null)a=gr(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const u=[],d=o.getCompare(),f=i?a.getReverseIteratorFrom(s,o):a.getIteratorFrom(s,o);let h=f.getNext();for(;h&&u.length<r;)d(h,s)!==0&&u.push(h),h=f.getNext();return u}else return[]}function K1(){return{visibleWrites:Vt.empty(),allWrites:[],lastWriteId:-1}}function sa(t,e,n,s){return z_(t.writeTree,t.treePath,e,n,s)}function Su(t,e){return W1(t.writeTree,t.treePath,e)}function Th(t,e,n,s){return j1(t.writeTree,t.treePath,e,n,s)}function ra(t,e){return q1(t.writeTree,Me(t.treePath,e))}function Y1(t,e,n,s,r,i){return z1(t.writeTree,t.treePath,e,n,s,r,i)}function Tu(t,e,n){return G1(t.writeTree,t.treePath,e,n)}function K_(t,e){return Y_(Me(t.treePath,e),t.writeTree)}function Y_(t,e){return{treePath:t,writeTree:e}}class J1{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,s=e.childName;k(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),k(s!==".priority","Only non-priority child changes can be tracked.");const r=this.changeMap.get(s);if(r){const i=r.type;if(n==="child_added"&&i==="child_removed")this.changeMap.set(s,Si(s,e.snapshotNode,r.snapshotNode));else if(n==="child_removed"&&i==="child_added")this.changeMap.delete(s);else if(n==="child_removed"&&i==="child_changed")this.changeMap.set(s,Ii(s,r.oldSnap));else if(n==="child_changed"&&i==="child_added")this.changeMap.set(s,pr(s,e.snapshotNode));else if(n==="child_changed"&&i==="child_changed")this.changeMap.set(s,Si(s,e.snapshotNode,r.oldSnap));else throw wr("Illegal combination of changes: "+e+" occurred after "+r)}else this.changeMap.set(s,e)}getChanges(){return Array.from(this.changeMap.values())}}class Q1{getCompleteChild(e){return null}getChildAfterChild(e,n,s){return null}}const J_=new Q1;class Ru{constructor(e,n,s=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=s}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const s=this.optCompleteServerCache_!=null?new is(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Tu(this.writes_,e,s)}}getChildAfterChild(e,n,s){const r=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Ms(this.viewCache_),i=Y1(this.writes_,r,n,1,s,e);return i.length===0?null:i[0]}}function X1(t){return{filter:t}}function Z1(t,e){k(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),k(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function ex(t,e,n,s,r){const i=new J1;let o,a;if(n.type===Ut.OVERWRITE){const c=n;c.source.fromUser?o=mc(t,e,c.path,c.snap,s,r,i):(k(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!ce(c.path),o=ia(t,e,c.path,c.snap,s,r,a,i))}else if(n.type===Ut.MERGE){const c=n;c.source.fromUser?o=nx(t,e,c.path,c.children,s,r,i):(k(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),o=gc(t,e,c.path,c.children,s,r,a,i))}else if(n.type===Ut.ACK_USER_WRITE){const c=n;c.revert?o=ix(t,e,c.path,s,r,i):o=sx(t,e,c.path,c.affectedTree,s,r,i)}else if(n.type===Ut.LISTEN_COMPLETE)o=rx(t,e,n.path,s,i);else throw wr("Unknown operation type: "+n.type);const l=i.getChanges();return tx(e,o,l),{viewCache:o,changes:l}}function tx(t,e,n){const s=e.eventCache;if(s.isFullyInitialized()){const r=s.getNode().isLeafNode()||s.getNode().isEmpty(),i=na(t);(n.length>0||!t.eventCache.isFullyInitialized()||r&&!s.getNode().equals(i)||!s.getNode().getPriority().equals(i.getPriority()))&&n.push(H_(na(e)))}}function Q_(t,e,n,s,r,i){const o=e.eventCache;if(ra(s,n)!=null)return e;{let a,l;if(ce(n))if(k(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=Ms(e),u=c instanceof Q?c:Q.EMPTY_NODE,d=Su(s,u);a=t.filter.updateFullNode(e.eventCache.getNode(),d,i)}else{const c=sa(s,Ms(e));a=t.filter.updateFullNode(e.eventCache.getNode(),c,i)}else{const c=de(n);if(c===".priority"){k(rs(n)===1,"Can't have a priority with additional path components");const u=o.getNode();l=e.serverCache.getNode();const d=Th(s,n,u,l);d!=null?a=t.filter.updatePriority(u,d):a=o.getNode()}else{const u=Ae(n);let d;if(o.isCompleteForChild(c)){l=e.serverCache.getNode();const f=Th(s,n,o.getNode(),l);f!=null?d=o.getNode().getImmediateChild(c).updateChild(u,f):d=o.getNode().getImmediateChild(c)}else d=Tu(s,c,e.serverCache);d!=null?a=t.filter.updateChild(o.getNode(),c,d,u,r,i):a=o.getNode()}}return ri(e,a,o.isFullyInitialized()||ce(n),t.filter.filtersNodes())}}function ia(t,e,n,s,r,i,o,a){const l=e.serverCache;let c;const u=o?t.filter:t.filter.getIndexedFilter();if(ce(n))c=u.updateFullNode(l.getNode(),s,null);else if(u.filtersNodes()&&!l.isFiltered()){const h=l.getNode().updateChild(n,s);c=u.updateFullNode(l.getNode(),h,null)}else{const h=de(n);if(!l.isCompleteForPath(n)&&rs(n)>1)return e;const m=Ae(n),_=l.getNode().getImmediateChild(h).updateChild(m,s);h===".priority"?c=u.updatePriority(l.getNode(),_):c=u.updateChild(l.getNode(),h,_,m,J_,null)}const d=j_(e,c,l.isFullyInitialized()||ce(n),u.filtersNodes()),f=new Ru(r,d,i);return Q_(t,d,n,r,f,a)}function mc(t,e,n,s,r,i,o){const a=e.eventCache;let l,c;const u=new Ru(r,e,i);if(ce(n))c=t.filter.updateFullNode(e.eventCache.getNode(),s,o),l=ri(e,c,!0,t.filter.filtersNodes());else{const d=de(n);if(d===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),s),l=ri(e,c,a.isFullyInitialized(),a.isFiltered());else{const f=Ae(n),h=a.getNode().getImmediateChild(d);let m;if(ce(f))m=s;else{const v=u.getCompleteChild(d);v!=null?_u(f)===".priority"&&v.getChild(D_(f)).isEmpty()?m=v:m=v.updateChild(f,s):m=Q.EMPTY_NODE}if(h.equals(m))l=e;else{const v=t.filter.updateChild(a.getNode(),d,m,f,u,o);l=ri(e,v,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function Rh(t,e){return t.eventCache.isCompleteForChild(e)}function nx(t,e,n,s,r,i,o){let a=e;return s.foreach((l,c)=>{const u=Me(n,l);Rh(e,de(u))&&(a=mc(t,a,u,c,r,i,o))}),s.foreach((l,c)=>{const u=Me(n,l);Rh(e,de(u))||(a=mc(t,a,u,c,r,i,o))}),a}function Ah(t,e,n){return n.foreach((s,r)=>{e=e.updateChild(s,r)}),e}function gc(t,e,n,s,r,i,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,c;ce(n)?c=s:c=new Re(null).setTree(n,s);const u=e.serverCache.getNode();return c.children.inorderTraversal((d,f)=>{if(u.hasChild(d)){const h=e.serverCache.getNode().getImmediateChild(d),m=Ah(t,h,f);l=ia(t,l,new Ce(d),m,r,i,o,a)}}),c.children.inorderTraversal((d,f)=>{const h=!e.serverCache.isCompleteForChild(d)&&f.value===null;if(!u.hasChild(d)&&!h){const m=e.serverCache.getNode().getImmediateChild(d),v=Ah(t,m,f);l=ia(t,l,new Ce(d),v,r,i,o,a)}}),l}function sx(t,e,n,s,r,i,o){if(ra(r,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(s.value!=null){if(ce(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return ia(t,e,n,l.getNode().getChild(n),r,i,a,o);if(ce(n)){let c=new Re(null);return l.getNode().forEachChild(sr,(u,d)=>{c=c.set(new Ce(u),d)}),gc(t,e,n,c,r,i,a,o)}else return e}else{let c=new Re(null);return s.foreach((u,d)=>{const f=Me(n,u);l.isCompleteForPath(f)&&(c=c.set(u,l.getNode().getChild(f)))}),gc(t,e,n,c,r,i,a,o)}}function rx(t,e,n,s,r){const i=e.serverCache,o=j_(e,i.getNode(),i.isFullyInitialized()||ce(n),i.isFiltered());return Q_(t,o,n,s,J_,r)}function ix(t,e,n,s,r,i){let o;if(ra(s,n)!=null)return e;{const a=new Ru(s,e,r),l=e.eventCache.getNode();let c;if(ce(n)||de(n)===".priority"){let u;if(e.serverCache.isFullyInitialized())u=sa(s,Ms(e));else{const d=e.serverCache.getNode();k(d instanceof Q,"serverChildren would be complete if leaf node"),u=Su(s,d)}u=u,c=t.filter.updateFullNode(l,u,i)}else{const u=de(n);let d=Tu(s,u,e.serverCache);d==null&&e.serverCache.isCompleteForChild(u)&&(d=l.getImmediateChild(u)),d!=null?c=t.filter.updateChild(l,u,d,Ae(n),a,i):e.eventCache.getNode().hasChild(u)?c=t.filter.updateChild(l,u,Q.EMPTY_NODE,Ae(n),a,i):c=l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=sa(s,Ms(e)),o.isLeafNode()&&(c=t.filter.updateFullNode(c,o,i)))}return o=e.serverCache.isFullyInitialized()||ra(s,me())!=null,ri(e,c,o,t.filter.filtersNodes())}}class ox{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const s=this.query_._queryParams,r=new bu(s.getIndex()),i=I1(s);this.processor_=X1(i);const o=n.serverCache,a=n.eventCache,l=r.updateFullNode(Q.EMPTY_NODE,o.getNode(),null),c=i.updateFullNode(Q.EMPTY_NODE,a.getNode(),null),u=new is(l,o.isFullyInitialized(),r.filtersNodes()),d=new is(c,a.isFullyInitialized(),i.filtersNodes());this.viewCache_=Ba(d,u),this.eventGenerator_=new N1(this.query_)}get query(){return this.query_}}function ax(t){return t.viewCache_.serverCache.getNode()}function lx(t){return na(t.viewCache_)}function cx(t,e){const n=Ms(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!ce(e)&&!n.getImmediateChild(de(e)).isEmpty())?n.getChild(e):null}function xh(t){return t.eventRegistrations_.length===0}function ux(t,e){t.eventRegistrations_.push(e)}function Ph(t,e,n){const s=[];if(n){k(e==null,"A cancel should cancel all event registrations.");const r=t.query._path;t.eventRegistrations_.forEach(i=>{const o=i.createCancelEvent(n,r);o&&s.push(o)})}if(e){let r=[];for(let i=0;i<t.eventRegistrations_.length;++i){const o=t.eventRegistrations_[i];if(!o.matches(e))r.push(o);else if(e.hasAnyCallback()){r=r.concat(t.eventRegistrations_.slice(i+1));break}}t.eventRegistrations_=r}else t.eventRegistrations_=[];return s}function Nh(t,e,n,s){e.type===Ut.MERGE&&e.source.queryId!==null&&(k(Ms(t.viewCache_),"We should always have a full cache before handling merges"),k(na(t.viewCache_),"Missing event cache, even though we have a server cache"));const r=t.viewCache_,i=ex(t.processor_,r,e,n,s);return Z1(t.processor_,i.viewCache),k(i.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=i.viewCache,X_(t,i.changes,i.viewCache.eventCache.getNode(),null)}function dx(t,e){const n=t.viewCache_.eventCache,s=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Fe,(i,o)=>{s.push(pr(i,o))}),n.isFullyInitialized()&&s.push(H_(n.getNode())),X_(t,s,n.getNode(),e)}function X_(t,e,n,s){const r=s?[s]:t.eventRegistrations_;return O1(t.eventGenerator_,e,n,r)}let oa;class Z_{constructor(){this.views=new Map}}function fx(t){k(!oa,"__referenceConstructor has already been defined"),oa=t}function hx(){return k(oa,"Reference.ts has not been loaded"),oa}function px(t){return t.views.size===0}function Au(t,e,n,s){const r=e.source.queryId;if(r!==null){const i=t.views.get(r);return k(i!=null,"SyncTree gave us an op for an invalid query."),Nh(i,e,n,s)}else{let i=[];for(const o of t.views.values())i=i.concat(Nh(o,e,n,s));return i}}function ey(t,e,n,s,r){const i=e._queryIdentifier,o=t.views.get(i);if(!o){let a=sa(n,r?s:null),l=!1;a?l=!0:s instanceof Q?(a=Su(n,s),l=!1):(a=Q.EMPTY_NODE,l=!1);const c=Ba(new is(a,l,!1),new is(s,r,!1));return new ox(e,c)}return o}function mx(t,e,n,s,r,i){const o=ey(t,e,s,r,i);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),ux(o,n),dx(o,n)}function gx(t,e,n,s){const r=e._queryIdentifier,i=[];let o=[];const a=os(t);if(r==="default")for(const[l,c]of t.views.entries())o=o.concat(Ph(c,n,s)),xh(c)&&(t.views.delete(l),c.query._queryParams.loadsAllData()||i.push(c.query));else{const l=t.views.get(r);l&&(o=o.concat(Ph(l,n,s)),xh(l)&&(t.views.delete(r),l.query._queryParams.loadsAllData()||i.push(l.query)))}return a&&!os(t)&&i.push(new(hx())(e._repo,e._path)),{removed:i,events:o}}function ty(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function ns(t,e){let n=null;for(const s of t.views.values())n=n||cx(s,e);return n}function ny(t,e){if(e._queryParams.loadsAllData())return $a(t);{const s=e._queryIdentifier;return t.views.get(s)}}function sy(t,e){return ny(t,e)!=null}function os(t){return $a(t)!=null}function $a(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}let aa;function _x(t){k(!aa,"__referenceConstructor has already been defined"),aa=t}function yx(){return k(aa,"Reference.ts has not been loaded"),aa}let vx=1;class Oh{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Re(null),this.pendingWriteTree_=K1(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function ry(t,e,n,s,r){return L1(t.pendingWriteTree_,e,n,s,r),r?Ar(t,new Ds(wu(),e,n)):[]}function bx(t,e,n,s){F1(t.pendingWriteTree_,e,n,s);const r=Re.fromObject(n);return Ar(t,new mr(wu(),e,r))}function Yn(t,e,n=!1){const s=U1(t.pendingWriteTree_,e);if(B1(t.pendingWriteTree_,e)){let i=new Re(null);return s.snap!=null?i=i.set(me(),!0):et(s.children,o=>{i=i.set(new Ce(o),!0)}),Ar(t,new ta(s.path,i,n))}else return[]}function Xi(t,e,n){return Ar(t,new Ds(Cu(),e,n))}function Ex(t,e,n){const s=Re.fromObject(n);return Ar(t,new mr(Cu(),e,s))}function wx(t,e){return Ar(t,new Ri(Cu(),e))}function Cx(t,e,n){const s=Pu(t,n);if(s){const r=Nu(s),i=r.path,o=r.queryId,a=lt(i,e),l=new Ri(Iu(o),a);return Ou(t,i,l)}else return[]}function iy(t,e,n,s,r=!1){const i=e._path,o=t.syncPointTree_.get(i);let a=[];if(o&&(e._queryIdentifier==="default"||sy(o,e))){const l=gx(o,e,n,s);px(o)&&(t.syncPointTree_=t.syncPointTree_.remove(i));const c=l.removed;if(a=l.events,!r){const u=c.findIndex(f=>f._queryParams.loadsAllData())!==-1,d=t.syncPointTree_.findOnPath(i,(f,h)=>os(h));if(u&&!d){const f=t.syncPointTree_.subtree(i);if(!f.isEmpty()){const h=Rx(f);for(let m=0;m<h.length;++m){const v=h[m],_=v.query,E=cy(t,v);t.listenProvider_.startListening(oi(_),Ai(t,_),E.hashFn,E.onComplete)}}}!d&&c.length>0&&!s&&(u?t.listenProvider_.stopListening(oi(e),null):c.forEach(f=>{const h=t.queryToTagMap.get(Ha(f));t.listenProvider_.stopListening(oi(f),h)}))}Ax(t,c)}return a}function oy(t,e,n,s){const r=Pu(t,s);if(r!=null){const i=Nu(r),o=i.path,a=i.queryId,l=lt(o,e),c=new Ds(Iu(a),l,n);return Ou(t,o,c)}else return[]}function Ix(t,e,n,s){const r=Pu(t,s);if(r){const i=Nu(r),o=i.path,a=i.queryId,l=lt(o,e),c=Re.fromObject(n),u=new mr(Iu(a),l,c);return Ou(t,o,u)}else return[]}function Sx(t,e,n,s=!1){const r=e._path;let i=null,o=!1;t.syncPointTree_.foreachOnPath(r,(f,h)=>{const m=lt(f,r);i=i||ns(h,m),o=o||os(h)});let a=t.syncPointTree_.get(r);a?(o=o||os(a),i=i||ns(a,me())):(a=new Z_,t.syncPointTree_=t.syncPointTree_.set(r,a));let l;i!=null?l=!0:(l=!1,i=Q.EMPTY_NODE,t.syncPointTree_.subtree(r).foreachChild((h,m)=>{const v=ns(m,me());v&&(i=i.updateImmediateChild(h,v))}));const c=sy(a,e);if(!c&&!e._queryParams.loadsAllData()){const f=Ha(e);k(!t.queryToTagMap.has(f),"View does not exist, but we have a tag");const h=xx();t.queryToTagMap.set(f,h),t.tagToQueryMap.set(h,f)}const u=Va(t.pendingWriteTree_,r);let d=mx(a,e,n,u,i,l);if(!c&&!o&&!s){const f=ny(a,e);d=d.concat(Px(t,e,f))}return d}function xu(t,e,n){const r=t.pendingWriteTree_,i=t.syncPointTree_.findOnPath(e,(o,a)=>{const l=lt(o,e),c=ns(a,l);if(c)return c});return z_(r,e,i,n,!0)}function Tx(t,e){const n=e._path;let s=null;t.syncPointTree_.foreachOnPath(n,(c,u)=>{const d=lt(c,n);s=s||ns(u,d)});let r=t.syncPointTree_.get(n);r?s=s||ns(r,me()):(r=new Z_,t.syncPointTree_=t.syncPointTree_.set(n,r));const i=s!=null,o=i?new is(s,!0,!1):null,a=Va(t.pendingWriteTree_,e._path),l=ey(r,e,a,i?o.getNode():Q.EMPTY_NODE,i);return lx(l)}function Ar(t,e){return ay(e,t.syncPointTree_,null,Va(t.pendingWriteTree_,me()))}function ay(t,e,n,s){if(ce(t.path))return ly(t,e,n,s);{const r=e.get(me());n==null&&r!=null&&(n=ns(r,me()));let i=[];const o=de(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const c=n?n.getImmediateChild(o):null,u=K_(s,o);i=i.concat(ay(a,l,c,u))}return r&&(i=i.concat(Au(r,t,s,n))),i}}function ly(t,e,n,s){const r=e.get(me());n==null&&r!=null&&(n=ns(r,me()));let i=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,c=K_(s,o),u=t.operationForChild(o);u&&(i=i.concat(ly(u,a,l,c)))}),r&&(i=i.concat(Au(r,t,s,n))),i}function cy(t,e){const n=e.query,s=Ai(t,n);return{hashFn:()=>(ax(e)||Q.EMPTY_NODE).hash(),onComplete:r=>{if(r==="ok")return s?Cx(t,n._path,s):wx(t,n._path);{const i=wA(r,n);return iy(t,n,null,i)}}}}function Ai(t,e){const n=Ha(e);return t.queryToTagMap.get(n)}function Ha(t){return t._path.toString()+"$"+t._queryIdentifier}function Pu(t,e){return t.tagToQueryMap.get(e)}function Nu(t){const e=t.indexOf("$");return k(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Ce(t.substr(0,e))}}function Ou(t,e,n){const s=t.syncPointTree_.get(e);k(s,"Missing sync point for query tag that we're tracking");const r=Va(t.pendingWriteTree_,e);return Au(s,n,r,null)}function Rx(t){return t.fold((e,n,s)=>{if(n&&os(n))return[$a(n)];{let r=[];return n&&(r=ty(n)),et(s,(i,o)=>{r=r.concat(o)}),r}})}function oi(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(yx())(t._repo,t._path):t}function Ax(t,e){for(let n=0;n<e.length;++n){const s=e[n];if(!s._queryParams.loadsAllData()){const r=Ha(s),i=t.queryToTagMap.get(r);t.queryToTagMap.delete(r),t.tagToQueryMap.delete(i)}}}function xx(){return vx++}function Px(t,e,n){const s=e._path,r=Ai(t,e),i=cy(t,n),o=t.listenProvider_.startListening(oi(e),r,i.hashFn,i.onComplete),a=t.syncPointTree_.subtree(s);if(r)k(!os(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((c,u,d)=>{if(!ce(c)&&u&&os(u))return[$a(u).query];{let f=[];return u&&(f=f.concat(ty(u).map(h=>h.query))),et(d,(h,m)=>{f=f.concat(m)}),f}});for(let c=0;c<l.length;++c){const u=l[c];t.listenProvider_.stopListening(oi(u),Ai(t,u))}}return o}class ku{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new ku(n)}node(){return this.node_}}class Du{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Me(this.path_,e);return new Du(this.syncTree_,n)}node(){return xu(this.syncTree_,this.path_)}}const Nx=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},kh=function(t,e,n){if(!t||typeof t!="object")return t;if(k(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return Ox(t[".sv"],e,n);if(typeof t[".sv"]=="object")return kx(t[".sv"],e);k(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},Ox=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:k(!1,"Unexpected server value: "+t)}},kx=function(t,e,n){t.hasOwnProperty("increment")||k(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const s=t.increment;typeof s!="number"&&k(!1,"Unexpected increment value: "+s);const r=e.node();if(k(r!==null&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return s;const o=r.getValue();return typeof o!="number"?s:o+s},uy=function(t,e,n,s){return Mu(e,new Du(n,t),s)},dy=function(t,e,n){return Mu(t,new ku(e),n)};function Mu(t,e,n){const s=t.getPriority().val(),r=kh(s,e.getImmediateChild(".priority"),n);let i;if(t.isLeafNode()){const o=t,a=kh(o.getValue(),e,n);return a!==o.getValue()||r!==o.getPriority().val()?new Ye(a,Ge(r)):t}else{const o=t;return i=o,r!==o.getPriority().val()&&(i=i.updatePriority(new Ye(r))),o.forEachChild(Fe,(a,l)=>{const c=Mu(l,e.getImmediateChild(a),n);c!==l&&(i=i.updateImmediateChild(a,c))}),i}}class Lu{constructor(e="",n=null,s={children:{},childCount:0}){this.name=e,this.parent=n,this.node=s}}function Fu(t,e){let n=e instanceof Ce?e:new Ce(e),s=t,r=de(n);for(;r!==null;){const i=dr(s.node.children,r)||{children:{},childCount:0};s=new Lu(r,s,i),n=Ae(n),r=de(n)}return s}function xr(t){return t.node.value}function fy(t,e){t.node.value=e,_c(t)}function hy(t){return t.node.childCount>0}function Dx(t){return xr(t)===void 0&&!hy(t)}function Wa(t,e){et(t.node.children,(n,s)=>{e(new Lu(n,t,s))})}function py(t,e,n,s){n&&e(t),Wa(t,r=>{py(r,e,!0)})}function Mx(t,e,n){let s=t.parent;for(;s!==null;){if(e(s))return!0;s=s.parent}return!1}function Zi(t){return new Ce(t.parent===null?t.name:Zi(t.parent)+"/"+t.name)}function _c(t){t.parent!==null&&Lx(t.parent,t.name,t)}function Lx(t,e,n){const s=Dx(n),r=dn(t.node.children,e);s&&r?(delete t.node.children[e],t.node.childCount--,_c(t)):!s&&!r&&(t.node.children[e]=n.node,t.node.childCount++,_c(t))}const Fx=/[\[\].#$\/\u0000-\u001F\u007F]/,Ux=/[\[\].#$\u0000-\u001F\u007F]/,Sl=10*1024*1024,Uu=function(t){return typeof t=="string"&&t.length!==0&&!Fx.test(t)},my=function(t){return typeof t=="string"&&t.length!==0&&!Ux.test(t)},Bx=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),my(t)},Vx=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!fu(t)||t&&typeof t=="object"&&dn(t,".sv")},$x=function(t,e,n,s){ja(ka(t,"value"),e,n)},ja=function(t,e,n){const s=n instanceof Ce?new n1(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+ys(s));if(typeof e=="function")throw new Error(t+"contains a function "+ys(s)+" with contents = "+e.toString());if(fu(e))throw new Error(t+"contains "+e.toString()+" "+ys(s));if(typeof e=="string"&&e.length>Sl/3&&Da(e)>Sl)throw new Error(t+"contains a string greater than "+Sl+" utf8 bytes "+ys(s)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let r=!1,i=!1;if(et(e,(o,a)=>{if(o===".value")r=!0;else if(o!==".priority"&&o!==".sv"&&(i=!0,!Uu(o)))throw new Error(t+" contains an invalid key ("+o+") "+ys(s)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);s1(s,o),ja(t,a,s),r1(s)}),r&&i)throw new Error(t+' contains ".value" child '+ys(s)+" in addition to actual children.")}},Hx=function(t,e){let n,s;for(n=0;n<e.length;n++){s=e[n];const i=Ci(s);for(let o=0;o<i.length;o++)if(!(i[o]===".priority"&&o===i.length-1)){if(!Uu(i[o]))throw new Error(t+"contains an invalid key ("+i[o]+") in path "+s.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(t1);let r=null;for(n=0;n<e.length;n++){if(s=e[n],r!==null&&xt(r,s))throw new Error(t+"contains a path "+r.toString()+" that is ancestor of another path "+s.toString());r=s}},Wx=function(t,e,n,s){const r=ka(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(r+" must be an object containing the children to replace.");const i=[];et(e,(o,a)=>{const l=new Ce(o);if(ja(r,a,Me(n,l)),_u(l)===".priority"&&!Vx(a))throw new Error(r+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");i.push(l)}),Hx(r,i)},gy=function(t,e,n,s){if(!my(n))throw new Error(ka(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},jx=function(t,e,n,s){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),gy(t,e,n)},Gx=function(t,e){if(de(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},qx=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!Uu(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!Bx(n))throw new Error(ka(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};class zx{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Bu(t,e){let n=null;for(let s=0;s<e.length;s++){const r=e[s],i=r.getPath();n!==null&&!M_(i,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:i}),n.events.push(r)}n&&t.eventLists_.push(n)}function Ot(t,e,n){Bu(t,n),Kx(t,s=>xt(s,e)||xt(e,s))}function Kx(t,e){t.recursionDepth_++;let n=!0;for(let s=0;s<t.eventLists_.length;s++){const r=t.eventLists_[s];if(r){const i=r.path;e(i)?(Yx(t.eventLists_[s]),t.eventLists_[s]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function Yx(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const s=n.getEventRunner();ni&&Qe("event: "+n.toString()),Rr(s)}}}const Jx="repo_interrupt",Qx=25;class Xx{constructor(e,n,s,r){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=s,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new zx,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=ea(),this.transactionQueueTree_=new Lu,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Zx(t,e,n){if(t.stats_=mu(t.repoInfo_),t.forceRestClient_||TA())t.server_=new Zo(t.repoInfo_,(s,r,i,o)=>{Dh(t,s,r,i,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>Mh(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{qe(n)}catch(s){throw new Error("Invalid authOverride provided: "+s)}}t.persistentConnection_=new Tn(t.repoInfo_,e,(s,r,i,o)=>{Dh(t,s,r,i,o)},s=>{Mh(t,s)},s=>{tP(t,s)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(s=>{t.server_.refreshAuthToken(s)}),t.appCheckProvider_.addTokenChangeListener(s=>{t.server_.refreshAppCheckToken(s.token)}),t.statsReporter_=NA(t.repoInfo_,()=>new P1(t.stats_,t.server_)),t.infoData_=new S1,t.infoSyncTree_=new Oh({startListening:(s,r,i,o)=>{let a=[];const l=t.infoData_.getNode(s._path);return l.isEmpty()||(a=Xi(t.infoSyncTree_,s._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),Vu(t,"connected",!1),t.serverSyncTree_=new Oh({startListening:(s,r,i,o)=>(t.server_.listen(s,i,r,(a,l)=>{const c=o(a,l);Ot(t.eventQueue_,s._path,c)}),[]),stopListening:(s,r)=>{t.server_.unlisten(s,r)}})}function eP(t){const n=t.infoData_.getNode(new Ce(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Ga(t){return Nx({timestamp:eP(t)})}function Dh(t,e,n,s,r){t.dataUpdateCount++;const i=new Ce(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(r)if(s){const l=Ho(n,c=>Ge(c));o=Ix(t.serverSyncTree_,i,l,r)}else{const l=Ge(n);o=oy(t.serverSyncTree_,i,l,r)}else if(s){const l=Ho(n,c=>Ge(c));o=Ex(t.serverSyncTree_,i,l)}else{const l=Ge(n);o=Xi(t.serverSyncTree_,i,l)}let a=i;o.length>0&&(a=_r(t,i)),Ot(t.eventQueue_,a,o)}function Mh(t,e){Vu(t,"connected",e),e===!1&&iP(t)}function tP(t,e){et(e,(n,s)=>{Vu(t,n,s)})}function Vu(t,e,n){const s=new Ce("/.info/"+e),r=Ge(n);t.infoData_.updateSnapshot(s,r);const i=Xi(t.infoSyncTree_,s,r);Ot(t.eventQueue_,s,i)}function $u(t){return t.nextWriteId_++}function nP(t,e,n){const s=Tx(t.serverSyncTree_,e);return s!=null?Promise.resolve(s):t.server_.get(e).then(r=>{const i=Ge(r).withIndex(e._queryParams.getIndex());Sx(t.serverSyncTree_,e,n,!0);let o;if(e._queryParams.loadsAllData())o=Xi(t.serverSyncTree_,e._path,i);else{const a=Ai(t.serverSyncTree_,e);o=oy(t.serverSyncTree_,e._path,i,a)}return Ot(t.eventQueue_,e._path,o),iy(t.serverSyncTree_,e,n,null,!0),i},r=>(eo(t,"get for query "+qe(e)+" failed: "+r),Promise.reject(new Error(r))))}function sP(t,e,n,s,r){eo(t,"set",{path:e.toString(),value:n,priority:s});const i=Ga(t),o=Ge(n,s),a=xu(t.serverSyncTree_,e),l=dy(o,a,i),c=$u(t),u=ry(t.serverSyncTree_,e,l,c,!0);Bu(t.eventQueue_,u),t.server_.put(e.toString(),o.val(!0),(f,h)=>{const m=f==="ok";m||ct("set at "+e+" failed: "+f);const v=Yn(t.serverSyncTree_,c,!m);Ot(t.eventQueue_,e,v),yc(t,r,f,h)});const d=Wu(t,e);_r(t,d),Ot(t.eventQueue_,d,[])}function rP(t,e,n,s){eo(t,"update",{path:e.toString(),value:n});let r=!0;const i=Ga(t),o={};if(et(n,(a,l)=>{r=!1,o[a]=uy(Me(e,a),Ge(l),t.serverSyncTree_,i)}),r)Qe("update() called with empty data.  Don't do anything."),yc(t,s,"ok",void 0);else{const a=$u(t),l=bx(t.serverSyncTree_,e,o,a);Bu(t.eventQueue_,l),t.server_.merge(e.toString(),n,(c,u)=>{const d=c==="ok";d||ct("update at "+e+" failed: "+c);const f=Yn(t.serverSyncTree_,a,!d),h=f.length>0?_r(t,e):e;Ot(t.eventQueue_,h,f),yc(t,s,c,u)}),et(n,c=>{const u=Wu(t,Me(e,c));_r(t,u)}),Ot(t.eventQueue_,e,[])}}function iP(t){eo(t,"onDisconnectEvents");const e=Ga(t),n=ea();dc(t.onDisconnect_,me(),(r,i)=>{const o=uy(r,i,t.serverSyncTree_,e);W_(n,r,o)});let s=[];dc(n,me(),(r,i)=>{s=s.concat(Xi(t.serverSyncTree_,r,i));const o=Wu(t,r);_r(t,o)}),t.onDisconnect_=ea(),Ot(t.eventQueue_,me(),s)}function oP(t){t.persistentConnection_&&t.persistentConnection_.interrupt(Jx)}function eo(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Qe(n,...e)}function yc(t,e,n,s){e&&Rr(()=>{if(n==="ok")e(null);else{const r=(n||"error").toUpperCase();let i=r;s&&(i+=": "+s);const o=new Error(i);o.code=r,e(o)}})}function _y(t,e,n){return xu(t.serverSyncTree_,e,n)||Q.EMPTY_NODE}function Hu(t,e=t.transactionQueueTree_){if(e||qa(t,e),xr(e)){const n=vy(t,e);k(n.length>0,"Sending zero length transaction queue"),n.every(r=>r.status===0)&&aP(t,Zi(e),n)}else hy(e)&&Wa(e,n=>{Hu(t,n)})}function aP(t,e,n){const s=n.map(c=>c.currentWriteId),r=_y(t,e,s);let i=r;const o=r.hash();for(let c=0;c<n.length;c++){const u=n[c];k(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;const d=lt(e,u.path);i=i.updateChild(d,u.currentOutputSnapshotRaw)}const a=i.val(!0),l=e;t.server_.put(l.toString(),a,c=>{eo(t,"transaction put response",{path:l.toString(),status:c});let u=[];if(c==="ok"){const d=[];for(let f=0;f<n.length;f++)n[f].status=2,u=u.concat(Yn(t.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&d.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();qa(t,Fu(t.transactionQueueTree_,e)),Hu(t,t.transactionQueueTree_),Ot(t.eventQueue_,e,u);for(let f=0;f<d.length;f++)Rr(d[f])}else{if(c==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{ct("transaction at "+l.toString()+" failed: "+c);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=c}_r(t,e)}},o)}function _r(t,e){const n=yy(t,e),s=Zi(n),r=vy(t,n);return lP(t,r,s),s}function lP(t,e,n){if(e.length===0)return;const s=[];let r=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],c=lt(n,l.path);let u=!1,d;if(k(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)u=!0,d=l.abortReason,r=r.concat(Yn(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=Qx)u=!0,d="maxretry",r=r.concat(Yn(t.serverSyncTree_,l.currentWriteId,!0));else{const f=_y(t,l.path,o);l.currentInputSnapshot=f;const h=e[a].update(f.val());if(h!==void 0){ja("transaction failed: Data returned ",h,l.path);let m=Ge(h);typeof h=="object"&&h!=null&&dn(h,".priority")||(m=m.updatePriority(f.getPriority()));const _=l.currentWriteId,E=Ga(t),A=dy(m,f,E);l.currentOutputSnapshotRaw=m,l.currentOutputSnapshotResolved=A,l.currentWriteId=$u(t),o.splice(o.indexOf(_),1),r=r.concat(ry(t.serverSyncTree_,l.path,A,l.currentWriteId,l.applyLocally)),r=r.concat(Yn(t.serverSyncTree_,_,!0))}else u=!0,d="nodata",r=r.concat(Yn(t.serverSyncTree_,l.currentWriteId,!0))}Ot(t.eventQueue_,n,r),r=[],u&&(e[a].status=2,(function(f){setTimeout(f,Math.floor(0))})(e[a].unwatcher),e[a].onComplete&&(d==="nodata"?s.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):s.push(()=>e[a].onComplete(new Error(d),!1,null))))}qa(t,t.transactionQueueTree_);for(let a=0;a<s.length;a++)Rr(s[a]);Hu(t,t.transactionQueueTree_)}function yy(t,e){let n,s=t.transactionQueueTree_;for(n=de(e);n!==null&&xr(s)===void 0;)s=Fu(s,n),e=Ae(e),n=de(e);return s}function vy(t,e){const n=[];return by(t,e,n),n.sort((s,r)=>s.order-r.order),n}function by(t,e,n){const s=xr(e);if(s)for(let r=0;r<s.length;r++)n.push(s[r]);Wa(e,r=>{by(t,r,n)})}function qa(t,e){const n=xr(e);if(n){let s=0;for(let r=0;r<n.length;r++)n[r].status!==2&&(n[s]=n[r],s++);n.length=s,fy(e,n.length>0?n:void 0)}Wa(e,s=>{qa(t,s)})}function Wu(t,e){const n=Zi(yy(t,e)),s=Fu(t.transactionQueueTree_,e);return Mx(s,r=>{Tl(t,r)}),Tl(t,s),py(s,r=>{Tl(t,r)}),n}function Tl(t,e){const n=xr(e);if(n){const s=[];let r=[],i=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(k(i===o-1,"All SENT items should be at beginning of queue."),i=o,n[o].status=3,n[o].abortReason="set"):(k(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),r=r.concat(Yn(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&s.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));i===-1?fy(e,void 0):n.length=i+1,Ot(t.eventQueue_,Zi(e),r);for(let o=0;o<s.length;o++)Rr(s[o])}}function cP(t){let e="";const n=t.split("/");for(let s=0;s<n.length;s++)if(n[s].length>0){let r=n[s];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}e+="/"+r}return e}function uP(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const s=n.split("=");s.length===2?e[decodeURIComponent(s[0])]=decodeURIComponent(s[1]):ct(`Invalid query segment '${n}' in query '${t}'`)}return e}const Lh=function(t,e){const n=dP(t),s=n.namespace;n.domain==="firebase.com"&&On(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!s||s==="undefined")&&n.domain!=="localhost"&&On("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||_A();const r=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new S_(n.host,n.secure,s,r,e,"",s!==n.subdomain),path:new Ce(n.pathString)}},dP=function(t){let e="",n="",s="",r="",i="",o=!0,a="https",l=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));let u=t.indexOf("/");u===-1&&(u=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(u,d)),u<d&&(r=cP(t.substring(u,d)));const f=uP(t.substring(Math.min(t.length,d)));c=e.indexOf(":"),c>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(c+1),10)):c=e.length;const h=e.slice(0,c);if(h.toLowerCase()==="localhost")n="localhost";else if(h.split(".").length<=2)n=h;else{const m=e.indexOf(".");s=e.substring(0,m).toLowerCase(),n=e.substring(m+1),i=s}"ns"in f&&(i=f.ns)}return{host:e,port:l,domain:n,subdomain:s,secure:o,scheme:a,pathString:r,namespace:i}};class fP{constructor(e,n,s,r){this.eventType=e,this.eventRegistration=n,this.snapshot=s,this.prevName=r}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+qe(this.snapshot.exportVal())}}class hP{constructor(e,n,s){this.eventRegistration=e,this.error=n,this.path=s}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class pP{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return k(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class ju{constructor(e,n,s,r){this._repo=e,this._path=n,this._queryParams=s,this._orderByCalled=r}get key(){return ce(this._path)?null:_u(this._path)}get ref(){return new Dn(this._repo,this._path)}get _queryIdentifier(){const e=wh(this._queryParams),n=hu(e);return n==="{}"?"default":n}get _queryObject(){return wh(this._queryParams)}isEqual(e){if(e=dt(e),!(e instanceof ju))return!1;const n=this._repo===e._repo,s=M_(this._path,e._path),r=this._queryIdentifier===e._queryIdentifier;return n&&s&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+e1(this._path)}}class Dn extends ju{constructor(e,n){super(e,n,new Eu,!1)}get parent(){const e=D_(this._path);return e===null?null:new Dn(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class xi{constructor(e,n,s){this._node=e,this.ref=n,this._index=s}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new Ce(e),s=vc(this.ref,e);return new xi(this._node.getChild(n),s,Fe)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(s,r)=>e(new xi(r,vc(this.ref,s),Fe)))}hasChild(e){const n=new Ce(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Rl(t,e){return t=dt(t),t._checkNotDeleted("ref"),e!==void 0?vc(t._root,e):t._root}function vc(t,e){return t=dt(t),de(t._path)===null?jx("child","path",e):gy("child","path",e),new Dn(t._repo,Me(t._path,e))}function mP(t,e){t=dt(t),Gx("set",t._path),$x("set",e,t._path);const n=new Wi;return sP(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function gP(t,e){Wx("update",e,t._path);const n=new Wi;return rP(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}function _P(t){t=dt(t);const e=new pP(()=>{}),n=new Gu(e);return nP(t._repo,t,n).then(s=>new xi(s,new Dn(t._repo,t._path),t._queryParams.getIndex()))}class Gu{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const s=n._queryParams.getIndex();return new fP("value",this,new xi(e.snapshotNode,new Dn(n._repo,n._path),s))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new hP(this,e,n):null}matches(e){return e instanceof Gu?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}fx(Dn);_x(Dn);const yP="FIREBASE_DATABASE_EMULATOR_HOST",bc={};let vP=!1;function bP(t,e,n,s){const r=e.lastIndexOf(":"),i=e.substring(0,r),o=Cr(i);t.repoInfo_=new S_(e,o,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0,n),s&&(t.authTokenProvider_=s)}function EP(t,e,n,s,r){let i=s||t.options.databaseURL;i===void 0&&(t.options.projectId||On("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Qe("Using default host for project ",t.options.projectId),i=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=Lh(i,r),a=o.repoInfo,l;typeof process<"u"&&rh&&(l=rh[yP]),l?(i=`http://${l}?ns=${a.namespace}`,o=Lh(i,r),a=o.repoInfo):o.repoInfo.secure;const c=new AA(t.name,t.options,e);qx("Invalid Firebase Database URL",o),ce(o.path)||On("Database URL must point to the root of a Firebase Database (not including a child path).");const u=CP(a,t,c,new RA(t,n));return new IP(u,t)}function wP(t,e){const n=bc[e];(!n||n[t.key]!==t)&&On(`Database ${e}(${t.repoInfo_}) has already been deleted.`),oP(t),delete n[t.key]}function CP(t,e,n,s){let r=bc[e.name];r||(r={},bc[e.name]=r);let i=r[t.toURLString()];return i&&On("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),i=new Xx(t,vP,n,s),r[t.toURLString()]=i,i}class IP{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(Zx(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Dn(this._repo,me())),this._rootInternal}_delete(){return this._rootInternal!==null&&(wP(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&On("Cannot call "+e+" on a deleted database.")}}function SP(t=Ag(),e){const n=su(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const s=bS("database");s&&TP(n,...s)}return n}function TP(t,e,n,s={}){t=dt(t),t._checkNotDeleted("useEmulator");const r=`${e}:${n}`,i=t._repoInternal;if(t._instanceStarted){if(r===t._repoInternal.repoInfo_.host&&xs(s,i.repoInfo_.emulatorOptions))return;On("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let o;if(i.repoInfo_.nodeAdmin)s.mockUserToken&&On('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new Ro(Ro.OWNER);else if(s.mockUserToken){const a=typeof s.mockUserToken=="string"?s.mockUserToken:ES(s.mockUserToken,t.app.options.projectId);o=new Ro(a)}Cr(e)&&(Eg(e),wg("Database",!0)),bP(i,r,s,o)}function RP(t){dA(Sr),fr(new Ps("database",(e,{instanceIdentifier:n})=>{const s=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return EP(s,r,i,n)},"PUBLIC").setMultipleInstances(!0)),es(ih,oh,t),es(ih,oh,"esm2020")}Tn.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Tn.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};RP();const AP={VITE_FIREBASE_API_KEY:"AIzaSyAShWDtGGom5gy4CoB_U_rezxGyUaqG1Wc",VITE_FIREBASE_APP_ID:"1:920769522858:web:76a81f4e32d0d488e834d3",VITE_FIREBASE_AUTH_DOMAIN:"anime-project-cf21d.firebaseapp.com",VITE_FIREBASE_DATABASE_URL:"https://anime-project-cf21d-default-rtdb.europe-west1.firebasedatabase.app",VITE_FIREBASE_MESSAGING_SENDER_ID:"920769522858",VITE_FIREBASE_PROJECT_ID:"anime-project-cf21d",VITE_FIREBASE_STORAGE_BUCKET:"anime-project-cf21d.firebasestorage.app"};function xP(){const t=AP;return{apiKey:t.VITE_FIREBASE_API_KEY,authDomain:t.VITE_FIREBASE_AUTH_DOMAIN,databaseURL:t.VITE_FIREBASE_DATABASE_URL,projectId:t.VITE_FIREBASE_PROJECT_ID,storageBucket:t.VITE_FIREBASE_STORAGE_BUCKET,messagingSenderId:t.VITE_FIREBASE_MESSAGING_SENDER_ID,appId:t.VITE_FIREBASE_APP_ID}}const PP=xP(),Ey=Rg(PP),Ws=cA(Ey),Al=SP(Ey),ds=vr("userFirebaseStore",()=>{const t=Nm(),e=Mn(),n=Pe(null),s=Pe(null),r=Pe(null),i=Pe(null),o=Jc();function a(_){switch(_.code){case"auth/wrong-password":t.error(" ");break;case"auth/user-not-found":t.error("  ");break;case"auth/email-already-in-use":t.error(" email  ");break;case"auth/weak-password":t.error("  ");break;case"auth/too-many-requests":t.error("  .  ");break;case"auth/invalid-credential":t.error("  ");break;default:t.error(" : "+_.message)}}async function l(_){n.value=null,e.isLoading=!0;try{const E=await K0(Ws,_.email,_.password);i.value=E.user,await f(E.user.uid),t.success("    ")}catch(E){n.value=E,a(n.value)}finally{e.isLoading=!1}}async function c(_){n.value=null,e.isLoading=!0;try{const E=await z0(Ws,_.email,_.password);i.value=E.user,await u(E.user.uid,_),s.value={id:E.user.uid,userName:_.userName||_.email.split("@")[0],email:_.email,favorites:_.favorites||[]},t.success("    ")}catch(E){n.value=E,a(n.value)}finally{e.isLoading=!1}}async function u(_,E){try{const A=Rl(Al,`users/${_}`),I={id:_,userName:E.userName,email:E.email,favorites:E.favorites};await mP(A,I)}catch(A){throw console.log("Error saving user to database: ",A),A}}async function d(_,E){n.value=null;try{const A=Rl(Al,`users/${_}`);await gP(A,{favorites:E})}catch(A){throw n.value=A,a(n.value),A}}async function f(_){try{const E=Rl(Al,`users/${_}`),A=await _P(E);if(A.exists()){const I=A.val();s.value={id:I.id||_,userName:I.userName,email:I.email,favorites:I.favorites||[]},Ws.currentUser&&!i.value&&(i.value=Ws.currentUser)}else s.value=null,i.value=null,t.error("  ")}catch(E){throw E}}async function h(){n.value=null,e.isLoading=!0;try{await X0(Ws),s.value=null,i.value=null,t.warning("   "),o.replace({name:"home",query:{page:1}})}catch(_){n.value=_,a(n.value)}finally{e.isLoading=!1}}return{firebaseError:n,user:s,unsubscribe:r,init:()=>{r.value||(n.value=null,e.isLoading=!0,r.value=Q0(Ws,async _=>{try{_?(i.value=_,await f(_.uid)):(s.value=null,i.value=null)}catch(E){n.value=E,s.value=null,i.value=null,a(n.value)}finally{e.isLoading=!1}}))},cleanup:()=>{r.value&&(r.value(),r.value=null),s.value=null,i.value=null,n.value=null},createNewUser:c,signInUser:l,saveUserToDatabase:u,logout:h,updateUserDatabase:d}}),NP=14400*1e3,OP="my-favorites-anime",fo="api-fetch-anime-data",xl="https://api.jikan.moe/v4/anime",kP="https://api.jikan.moe/v4/anime?q=",Pr=vr("routeAnime",()=>{const t=Nm(),e=ds(),n=Oc(null),s=Pe(e.user?.favorites),r=u=>u?n.value=u.map(d=>({id:d.mal_id,urlInfo:d.url,poster:d.images,title_japan:d.title_japanese,title_eng:d.title_english,type:d.type,episodes:d.episodes,status:d.status,duration:d.duration,rating:d.rating,score:d.score,background:d.background,year:d.year,producers:d.producers,studios:d.studios,genres:d.genres})):null,i=le(()=>u=>!!s.value.find(d=>d.id===u)),o=async u=>{s.value.push(u),await e.updateUserDatabase(e.user?.id,s.value),t.success("  ")},a=async u=>{s.value=s.value.filter(d=>d.id!==u),await e.updateUserDatabase(e.user?.id,s.value),t.warning("  ")};return{favorites:s,data:n,fillData:r,getData:u=>n.value?.find(f=>f.id===u),isAnimeFavorite:i,addToFavorites:o,removeFromFavorites:a,favoriteHandler:u=>{i.value(u.id)?a(u.id):o(u)}}},{persist:{key:OP,pick:["favorites"]}}),DP="/vue3-anime/assets/dance_1-BuUPSzhE.gif",MP="/vue3-anime/assets/dance_2-C98lEnqE.gif",LP="/vue3-anime/assets/dance_3-CwfHrN3T.gif",FP="/vue3-anime/assets/no-image-BVFOgs5G.jpg",za=vr("animeStore",()=>{const t=Pe(null),e=le(()=>t.value?.title_eng||t.value?.title_japan||"Unknown"),n=le(()=>t.value?.poster?.webp.image_url),s=le(()=>t.value?.year||"XXXX"),r=le(()=>t.value?.score||"X.XX"),i=le(()=>t.value?.genres.map(f=>f.name).join(" / ")||"Unknown"),o=le(()=>t.value?.type||"Unknown"),a=le(()=>t.value?.episodes||"Unknown"),l=le(()=>t.value?.studios.map(f=>f.name).join(" / ")||"Unknown"),c=le(()=>t.value?.producers.map(f=>f.name).join(" / ")||"Unknown"),u=le(()=>t.value?.background||"Unknown"),d=le(()=>t.value?.urlInfo);return{imageDanceThird:LP,imageDanceFirst:DP,imageDanceSecond:MP,anime:t,imagePlaceholder:FP,animePoster:n,animeTitle:e,animeYear:s,animeScore:r,animeGenres:i,animeType:o,animeEpisodes:a,animeStudios:l,animeProducers:c,animeDescription:u,animeExtendedInfo:d}}),Mn=vr("apiAnimeData",()=>{const t=Pe(""),e=Pe(xl),n=le(()=>t.value.length!==0),s=Pe(!1),r=Oc(null),i=Pe(null),o=Pe(null),a=Pe(0),l=Pe(!1),c=Pe(null),u=Pr(),d=za(),f=Jc();Cn(t,I=>{I.length===0?(e.value=`${xl}?page=`,f.replace({name:"home",query:{page:1}})):e.value=`${kP}${t.value}&page=`},{immediate:!0});async function h(I=e.value,N=1,U=s.value,ne=n.value){const q=Date.now(),K=localStorage.getItem(fo);if(K&&!U&&!ne&&N===1){const O=JSON.parse(K);if(_(O.firstPage)){const Y=O.lastFetch;if(q-Y<NP)return i.value=O.firstPage,i.value}}localStorage.removeItem(fo),l.value=!0;try{const O=await Oe.get(`${I}${N}`);if(U){const Y=i.value;return i.value=O.data,i.value&&(i.value.data=[...Y?.data,...i.value.data]),i.value}return i.value=O.data,a.value=q,i.value?.pagination.current_page===1&&!ne&&(r.value=i.value),i.value}catch(O){return Oe.isAxiosError(O)?(c.value=O,i.value=null,O):(c.value=new Error("Unknown Error"),i.value=null,c.value)}finally{l.value=!1}}const m=(I,N)=>I.filter(ne=>ne.mal_id===N);async function v(I){const N=localStorage.getItem(fo);if(N){const U=JSON.parse(N);if(_(U.homeData)&&(o.value=m(U.homeData.data,I),o.value.length!==0))return o.value}l.value=!0;try{const U=await Oe.get(`${xl}/${I}`);return o.value=[await U.data.data],o.value}catch(U){return Oe.isAxiosError(U)?(c.value=U,o.value=null,U):(c.value=new Error("Unknown Error"),o.value=null,c.value)}finally{l.value=!1}}function _(I){return!(!I||typeof I!="object"||!I.hasOwnProperty("data")||!I.hasOwnProperty("pagination")||!Array.isArray(I.data)||I.data.length===0||!I.pagination||typeof I.pagination!="object")}async function E(I){const N=await h(void 0,I);u.fillData(N.data)}async function A(I){const N=await v(I),U=u.fillData(N);d.anime=U[0]}return{loadMoreBtn:s,searchInput:t,apiUrl:e,isSearch:n,rawAnime:o,firstPage:r,homeData:i,lastFetch:a,isLoading:l,customError:c,findAnime:m,fetchAnimeData:h,fetchAnimeById:v,isValidApiResponse:_,retryAnimeById:A,retryAnimeCards:E}},{persist:{key:fo,pick:["homeData","firstPage","lastFetch"]}}),Nr=vr("paginationStore",()=>{const t=Mn(),e=Pr(),n=Qc(),s=Jc(),r=le(()=>t.searchInput.length===0?"page":"search-page"),i=le(()=>n.query[r.value]?Number(n.query[r.value]):1);function o(){Li(()=>{console.log("usePagination mounted");const _={...n.query};r.value==="page"?(delete _["search-page"],_.page="1"):r.value==="search-page"?(delete _.page,_["search-page"]="1"):_.page="1",s.push({query:_})})}Cn(()=>n.query[r.value],async(_,E)=>{_&&_!==E&&(console.log("Watch triggered:",_),_&&(await a(Number(_)),t.loadMoreBtn=!1))},{immediate:!0,deep:!0});async function a(_){const E=await t.fetchAnimeData(void 0,_);e.fillData(E.data)}const l=le(()=>t.homeData?.pagination.last_visible_page??1),c=le(()=>Array.from({length:l.value},(_,E)=>E+1)),u=le(()=>{const _=c.value.length,E=i.value;return _<=3?c.value:E<=2?[1,2,3]:E>=_-1?[_-2,_-1,_]:[E-1,E,E+1]}),d=_=>{const E={...n.query};r.value==="page"?(delete E["search-page"],E.page=_.toString()):(delete E.page,E["search-page"]=_.toString()),s.push({query:E})};return{pageParamName:r,currPage:i,lastPage:l,allPages:c,displayedPages:u,goToPage:d,nextPage:()=>{i.value<l.value&&d(i.value+1)},prevPage:()=>{i.value>1&&d(i.value-1)},loadMore:async()=>{i.value<l.value&&(t.loadMoreBtn=!0,d(i.value+1))},paginationMounted:o,goHome:()=>{t.searchInput="",s.replace({name:"home",query:{page:1}})}}}),wy="/vue3-anime/assets/logo-9W0xqVIH.png",UP={class:"footer mb-[250px] max-[470px]:mb-0"},BP={class:"container"},VP={class:"bg-gray-500 px-15 py-5 max-[1220px]:px-5 hover:bg-transparent transition-all duration-700"},$P={class:"flex items-center align-middle max-[768px]:flex-col-reverse"},HP=ke({__name:"AppFooter",setup(t){const e=Nr();return(n,s)=>(H(),ae("footer",UP,[C("div",BP,[C("div",VP,[C("div",$P,[C("button",{onClick:s[0]||(s[0]=(...r)=>w(e).goHome&&w(e).goHome(...r)),class:"block cursor-pointer"},[...s[1]||(s[1]=[C("img",{class:"block w-full max-w-[200px] max-[951px]:max-w-[150px] max-[591px]:max-w-[100px]",src:wy,alt:"logo"},null,-1)])]),s[2]||(s[2]=C("p",{class:"text-white text-lg max-[768px]:text-center"},[He(' "GOGA ANIME OT BOGA" -   anime    . '),C("span",{class:"block"},"P.S -   . ( ,    ) ")],-1))])])])]))}}),ho=Pe(!1);function Cy(){const t=Qc(),e=()=>{ho.value=!ho.value},n=()=>{ho.value=!1};return Cn(()=>t.fullPath,()=>{n()}),{isMobileMenuOpen:xo(ho),toggleMobileMenu:e,closeMobileMenu:n}}const qu=vr("formStore",()=>{const t=ds(),e=Pe(!1),n=Pe(!1),s=Pe(!1),r=Pe(!0),i=Pe({id:"",userName:"",email:"",password:"",favorites:[]}),o=le(()=>s.value?"text":"password"),a=le(()=>i.value.password?.trim()!==""),l=le(()=>/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(i.value.email.toLowerCase())),c=le(()=>i.value.userName.trim()!==""),u=le(()=>c.value&&l.value&&a.value),d=le(()=>l.value&&a.value),f=le(()=>n.value?u.value:d.value);Cn(()=>f.value,v=>{r.value=!v},{immediate:!0});const h=()=>{n.value=!n.value,i.value.id="",i.value.userName="",i.value.email="",i.value.password="",i.value.favorites=[]};async function m(v){const _={id:"",userName:"",email:"",password:"",favorites:[]};n.value?(await t.createNewUser(v),t.firebaseError||(i.value=_,e.value=!1,n.value=!1,s.value=!1,r.value=!0)):(await t.signInUser(v),t.firebaseError||(i.value=_,e.value=!1,n.value=!1,s.value=!1,r.value=!0))}return{isValidEmail:l,isValidPassword:a,isValidUserName:c,isFormValid:f,isFormEmpty:r,formData:i,isshowPassword:s,showPassword:o,isFormOpen:e,isRegistration:n,toggleMode:h,submitHandler:m}}),WP="/vue3-anime/assets/ava-BnvWSqEX.gif",jP={key:0},GP={class:"flex flex-col justify-center items-center align-middle max-[1220px]:items-start"},qP=["src"],zP={class:"block font-bold uppercase mb-[5px]"},Iy=ke({__name:"BaseUserInterface",setup(t){const e=ds();return(n,s)=>{const r=Qn("router-link");return w(e).user?(H(),ae("div",jP,[C("div",GP,[C("img",{class:"block max-w-20 mb-[5px]",src:w(WP),alt:"avatarka"},null,8,qP),C("span",zP,[Uc(n.$slots,"default")]),ye(r,{to:{name:"favorites"},class:"hover:text-green-600 transition-all duration-300 block uppercase font-bold text-[16px] text-[#444]/60 mb-[5px]"},{default:_t(()=>[...s[0]||(s[0]=[He("  ",-1)])]),_:1})])])):Xe("",!0)}}}),KP={class:"w-full relative mb-2.5"},YP={class:"mb-2.5"},JP=ke({__name:"AppMobileMenu",props:{isMobileMenuOpen:{type:Boolean,required:!0,default:!1}},emits:["close-mobile"],setup(t){const{closeMobileMenu:e}=Cy(),n=Nr(),s=Mn(),r=qu(),i=ds();function o(){e(),n.goHome()}function a(){e(),i.user!==null?i.logout():r.isFormOpen=!r.isFormOpen}return(l,c)=>(H(),ae(Ne,null,[C("div",{class:$e(["w-full h-full bg-black/50 fixed left-0 top-0 z-9998",t.isMobileMenuOpen?"block":"hidden"]),onClick:c[0]||(c[0]=u=>l.$emit("close-mobile"))},null,2),C("div",{class:$e(["w-full max-w-[280px] bg-white p-2.5 fixed top-0 z-9999 transition-all duration-300 after:block after:bg-green-600 after:h-1 after:w-full after:absolute after:bottom-0 after:left-0",t.isMobileMenuOpen?"left-0":"-left-280"])},[C("div",KP,[_n(C("input",{"onUpdate:modelValue":c[1]||(c[1]=u=>w(s).searchInput=u),onKeyup:c[2]||(c[2]=tm(u=>w(n).goToPage(w(n).currPage),["enter"])),class:"w-full border border-green-600 rounded-[5px] text-[16px] pl-2.5 pr-[45px] py-1 shadow-[inset_0_2px_3px_0_rgba(0,0,0,0.1)] focus:outline-none",type:"text",placeholder:" "},null,544),[[or,w(s).searchInput,void 0,{trim:!0}]]),C("button",{onClick:c[3]||(c[3]=u=>w(n).goToPage(w(n).currPage)),class:"w-10 h-10 flex justify-center align-middle items-center absolute right-0 -top-[3px] cursor-pointer"},[...c[5]||(c[5]=[C("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2.5",stroke:"currentColor",class:"text-green-600 size-5"},[C("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"})],-1)])])]),ye(Iy,null,{default:_t(()=>[He(xe(w(i).user?.userName.length>15?w(i).user?.userName.slice(0,13)+"...":w(i).user?.userName),1)]),_:1}),C("ul",null,[C("li",{class:"mb-2.5"},[C("button",{class:"block uppercase font-bold text-[16px] text-[#444]/60",onClick:o},"  ")]),C("li",YP,[C("button",{class:"hover:text-green-600 transition-all duration-300 block uppercase font-bold text-[16px] text-[#444]/60 cursor-pointer",onClick:a},xe(w(i).user?"":""),1)])])],2),C("button",{class:$e(["block w-10 h-10 bg-red-500 cursor-pointer fixed z-9999 left-[280px] transition-all duration-300",t.isMobileMenuOpen?"top-0":"-top-40"]),onClick:c[4]||(c[4]=u=>l.$emit("close-mobile"))},[...c[6]||(c[6]=[C("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"3.5",stroke:"currentColor",class:"size-6 text-white mx-auto"},[C("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18 18 6M6 6l12 12"})],-1)])],2)],64))}}),zu=(t,e)=>{const n=t.__vccOpts||t;for(const[s,r]of e)n[s]=r;return n},QP={},XP={class:"fixed inset-0 flex flex-col items-center justify-center bg-gray-600/80 z-99999"};function ZP(t,e){return H(),ae("div",XP,[...e[0]||(e[0]=[C("div",{class:"w-16 h-16 border-4 border-green-500 border-t-transparent rounded-full animate-spin mb-4"},null,-1),C("p",{class:"text-green-500 font-bold text-xl"},"...",-1)])])}const Ku=zu(QP,[["render",ZP]]),eN={class:"fixed top-[50%] left-[50%] -translate-x-[50%] -translate-y-[50%] w-full max-w-[640px] z-9999 bg-white rounded-sm p-5 max-[651px]:max-w-[440px] max-[481px]:max-w-[310px]"},tN=["src"],nN=["src"],sN=["src"],rN={class:"text-center font-bold text-2xl mb-5"},iN={class:"w-full max-w-[400px] mx-auto relative"},oN={key:0,class:"flex flex-col"},aN={class:"flex flex-col"},lN={class:"relative flex flex-col"},cN=["type"],uN=["disabled"],dN=ke({__name:"BaseForm",setup(t){const e=qu(),n=za(),s=Mn();return(r,i)=>(H(),ae(Ne,null,[_n(C("div",{class:"w-full h-full bg-black/50 fixed left-0 top-0 z-9998",onClick:i[0]||(i[0]=o=>w(e).isFormOpen=!w(e).isFormOpen)},null,512),[[wd,w(e).isFormOpen]]),_n(C("form",eN,[C("img",{class:"max-[651px]:-top-40 block w-full max-w-[300px] absolute -left-[110px] -top-[140px] -z-1",src:w(n).imageDanceFirst,alt:"dance_chan"},null,8,tN),C("img",{class:"block w-full max-w-[180px] absolute -right-[60px] bottom-[100px] -z-1 max-[651px]:bottom-[190px] max-[651px]:-right-[100px] max-[381px]:hidden",src:w(n).imageDanceSecond,alt:"dance_chan"},null,8,nN),C("img",{class:"block w-full max-w-[180px] absolute -left-[60px] bottom-0 -z-1 max-[651px]:-left-[90px] max-[381px]:hidden",src:w(n).imageDanceThird,alt:"dance_chan"},null,8,sN),C("button",{type:"button",class:"cursor-pointer absolute top-2.5 right-2.5",onClick:i[1]||(i[1]=o=>w(e).isFormOpen=!w(e).isFormOpen)},[...i[8]||(i[8]=[C("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"size-6"},[C("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18 18 6M6 6l12 12"})],-1)])]),C("h2",rN,xe(w(e).isRegistration?"":""),1),C("div",iN,[w(e).isRegistration?(H(),ae("label",oN,[C("span",{class:$e([w(e).isValidUserName?"text-black":"text-red-700","block"])},"  *",2),_n(C("input",{"onUpdate:modelValue":i[2]||(i[2]=o=>w(e).formData.userName=o),class:$e([w(e).isValidUserName?"border border-green-700 focus:border-green-600":"border border-red-700 focus:border-red-600","w-full rounded-[5px] text-[16px] pl-2.5 pr-[45px] py-1 shadow-[inset_0_2px_3px_0_rgba(0,0,0,0.1)] focus:outline-none mb-5"]),type:"text",placeholder:" "},null,2),[[or,w(e).formData.userName,void 0,{trim:!0}]])])):Xe("",!0),C("label",aN,[C("span",{class:$e([w(e).isValidEmail?"text-black":"text-red-700","block"])},"E-mail*",2),_n(C("input",{"onUpdate:modelValue":i[3]||(i[3]=o=>w(e).formData.email=o),class:$e([w(e).isValidEmail?"border border-green-700 focus:border-green-600":"border border-red-700 focus:border-red-600","w-full border border-green-700 rounded-[5px] text-[16px] pl-2.5 pr-[45px] py-1 shadow-[inset_0_2px_3px_0_rgba(0,0,0,0.1)] focus:outline-none mb-5"]),type:"text",placeholder:" E-mail",autocomplete:"username"},null,2),[[or,w(e).formData.email,void 0,{trim:!0}]])]),C("label",lN,[C("span",{class:$e([w(e).isValidPassword?"text-black":"text-red-700","block"])},"*",2),_n(C("input",{"onUpdate:modelValue":i[4]||(i[4]=o=>w(e).formData.password=o),class:$e([w(e).isValidPassword?"border border-green-700 focus:border-green-600":"border border-red-700 focus:border-red-600","w-full border border-green-700 rounded-[5px] text-[16px] pl-2.5 pr-[45px] py-1 shadow-[inset_0_2px_3px_0_rgba(0,0,0,0.1)] focus:outline-none mb-5"]),type:w(e).showPassword,placeholder:" ",autocomplete:"current-password"},null,10,cN),[[nE,w(e).formData.password,void 0,{trim:!0}]]),C("button",{onClick:i[5]||(i[5]=o=>w(e).isshowPassword=!w(e).isshowPassword),class:$e([w(e).isFormValid?"text-green-700":"text-red-700","absolute top-[26px] right-[15px] cursor-pointer w-[30px] h-[30px]"])},[...i[9]||(i[9]=[C("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"block w-full h-full size-6"},[C("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),C("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})],-1)])],2)]),C("button",{class:"mx-auto w-full max-w-[400px] block bg-green-700 text-white uppercase text-center text-lg font-bold px-2 py-2 rounded-sm cursor-pointer hover:bg-green-600 transition-all duration-300 mb-5 disabled:cursor-not-allowed disabled:bg-gray-600/80",disabled:w(e).isFormEmpty,onClick:i[6]||(i[6]=o=>w(e).submitHandler(w(e).formData))},xe(w(e).isRegistration?"":""),9,uN),C("button",{type:"button",onClick:i[7]||(i[7]=(...o)=>w(e).toggleMode&&w(e).toggleMode(...o)),class:"cursor-pointer block text-white uppercase max-w-[250px] mx-auto text-sm bg-cyan-700 hover:bg-cyan-600 px-2.5 py-1.5 rounded-sm transition-all duration-300"},xe(w(e).isRegistration?"    ":"  "),1)])],512),[[wd,w(e).isFormOpen]]),w(s).isLoading?(H(),Le(Ku,{key:0})):Xe("",!0)],64))}}),fN={class:"sticky top-0 z-999"},hN={class:"container"},pN={class:"bg-white flex justify-around items-center align-middle max-[1220px]:justify-between px-5"},mN={class:"flex justify-around items-center align-middle flex-wrap gap-5 max-[1220px]:hidden"},gN={class:"w-full max-w-[440px] relative max-[1220px]:hidden"},_N={class:"flex justify-center items-center align-middle"},yN=ke({__name:"AppHeader",setup(t){const{isMobileMenuOpen:e,toggleMobileMenu:n,closeMobileMenu:s}=Cy(),r=Mn(),i=Nr(),o=qu(),a=ds();function l(){a.user!==null?a.logout():o.isFormOpen=!o.isFormOpen}return(c,u)=>(H(),ae(Ne,null,[C("header",fN,[C("div",hN,[C("div",pN,[C("button",{class:"block cursor-pointer",onClick:u[0]||(u[0]=(...d)=>w(i).goHome&&w(i).goHome(...d))},[...u[6]||(u[6]=[C("img",{class:"block w-full max-w-[200px] max-[951px]:max-w-[150px] max-[591px]:max-w-[100px]",src:wy,alt:"logo"},null,-1)])]),C("ul",mN,[C("li",null,[C("button",{class:"hover:text-green-600 transition-all duration-300 block uppercase font-bold text-[16px] text-[#444]/60 cursor-pointer",onClick:u[1]||(u[1]=(...d)=>w(i).goHome&&w(i).goHome(...d))},"  ")]),C("li",null,[C("button",{class:"hover:text-green-600 transition-all duration-300 block uppercase font-bold text-[16px] text-[#444]/60 cursor-pointer",onClick:l},xe(w(a).user?"":""),1)])]),C("div",gN,[_n(C("input",{"onUpdate:modelValue":u[2]||(u[2]=d=>w(r).searchInput=d),onKeyup:u[3]||(u[3]=tm(d=>w(i).goToPage(w(i).currPage),["enter"])),class:"w-full border border-green-600 rounded-[5px] text-[16px] pl-2.5 pr-[45px] py-1 shadow-[inset_0_2px_3px_0_rgba(0,0,0,0.1)] focus:outline-none",type:"text",placeholder:" "},null,544),[[or,w(r).searchInput,void 0,{trim:!0}]]),C("button",{onClick:u[4]||(u[4]=d=>w(i).goToPage(w(i).currPage)),class:"w-10 h-10 flex justify-center align-middle items-center absolute right-0 -top-[3px] cursor-pointer"},[...u[7]||(u[7]=[C("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2.5",stroke:"currentColor",class:"text-green-600 size-5"},[C("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"})],-1)])])]),C("div",_N,[C("div",{class:"mobile hidden max-[1220px]:block",onClick:u[5]||(u[5]=(...d)=>w(n)&&w(n)(...d))},[...u[8]||(u[8]=[C("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"size-6"},[C("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"})],-1)])]),ye(Iy,{class:"max-[1220px]:hidden ml-10"},{default:_t(()=>[He(xe(w(a).user?.userName.length>15?w(a).user?.userName.slice(0,13)+"...":w(a).user?.userName),1)]),_:1})])])])]),ye(JP,{"is-mobile-menu-open":w(e),onCloseMobile:w(s)},null,8,["is-mobile-menu-open","onCloseMobile"]),ye(dN)],64))}}),vN={class:"min-w-[320px] pt-[250px] max-[470px]:pt-0"},bN={class:"w-full max-w-[1100px] mx-auto my-0 max-[1220px]:max-w-[1000px] max-[951px]:max-w-3xl max-[761px]:max-w-[640px] max-[591px]:max-w-[480px]"},EN=ke({__name:"App",setup(t){const e=Nr(),n=ds();return e.paginationMounted(),Li(()=>{n.init()}),Dc(()=>{n.cleanup()}),(s,r)=>{const i=Qn("router-view");return H(),ae("div",vN,[C("div",bN,[ye(yN),ye(i),ye(HP)])])}}}),Sy=ke({__name:"BaseFavoriteBtn",props:{isInFavorites:{type:Boolean}},emits:["click"],setup(t,{emit:e}){const n=e;return(s,r)=>(H(),ae("div",{class:$e(["w-[30px] h-[30px] absolute top-1.5 right-1.5 z-99 cursor-pointer border border-solid border-green-500",t.isInFavorites?"bg-green-500":"bg-gray-600/80"])},[C("button",{class:"block w-full h-full",onClick:r[0]||(r[0]=em(i=>n("click"),["prevent","stop"]))},[(H(),ae("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:$e(["size-6 hover:bg-green-500 hover:text-white transition-all duration-300 w-full h-full",t.isInFavorites?"text-white":"text-green-500"])},[...r[1]||(r[1]=[C("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 4.5v15m7.5-7.5h-15"},null,-1)])],2))])],2))}}),wN={class:"max-h-[200px] overflow-hidden"},CN={class:"block w-full min-h-full",alt:"Poster"},IN={class:"text-white font-bold absolute left-0 right-0 bottom-0 py-1.5 text-center bg-gray-600 overflow-hidden"},SN={class:"absolute top-1.5 left-1.5 text-white bg-green-500 rounded-sm px-[3px] py-[5px] text-[13px] font-semibold"},Ty=ke({__name:"BaseAnimeCard",props:{anime:{}},setup(t){const e=Pr(),n=za(),s=ds();return(r,i)=>{const o=Qn("router-link"),a=Cp("lazy");return H(),Le(o,{to:{name:"anime",params:{id:t.anime.id}},class:"block relative min-h-[200px] w-[18%] max-[950px]:w-[20%] max-[760px]:w-[25%] max-[591px]:w-[33%] max-[471px]:w-full mb-2.5 mx-[5px]"},{default:_t(()=>[C("div",wN,[_n(C("img",CN,null,512),[[a,{src:t.anime.poster?.webp.image_url,loaded:t.anime.poster?.webp.image_url,loading:w(n).imagePlaceholder,error:w(n).imagePlaceholder}]])]),C("div",IN,[C("div",null,xe(t.anime.title_eng||t.anime.title_japan||"Unknown"),1)]),C("div",SN,xe(t.anime.year||"XXXX"),1),w(s).user?(H(),Le(Sy,{key:0,"is-in-favorites":w(e).isAnimeFavorite(t.anime.id),onClick:i[0]||(i[0]=l=>w(e).favoriteHandler(t.anime))},null,8,["is-in-favorites"])):Xe("",!0)]),_:1},8,["to"])}}}),TN=["disabled"],Pi=ke({__name:"BaseBtn",setup(t){const e=Mn();return(n,s)=>(H(),ae("button",{class:"w-full max-w-[200px] block bg-green-700 text-white uppercase text-center text-lg font-bold px-2 py-2 rounded-sm cursor-pointer hover:bg-green-600 transition-all duration-300 mb-5 max-[981px]:mx-auto max-[981px]:max-w-[300px] max-[981px]:mb-10 disabled:cursor-not-allowed disabled:bg-gray-600/80",disabled:w(e).isLoading},[Uc(n.$slots,"default")],8,TN))}}),RN={key:0,class:"text-center mb-5"},AN={class:"mb-5 uppercase"},xN={class:"text-4xl font-bold"},PN={class:"mb-5 uppercase"},NN={class:"text-4xl font-bold"},Ry=ke({__name:"BaseAxiosError",props:{error:{}},emits:["retry"],setup(t){return(e,n)=>(H(),ae("div",null,[n[4]||(n[4]=C("div",{class:"flex justify-center items-center mb-5"},[C("div",{class:"error-icon"},""),C("h3",{class:"text-4xl font-bold mx-2 uppercase"}," "),C("div",{class:"error-icon"},"")],-1)),t.error.response?(H(),ae("div",RN,[C("p",AN,[n[1]||(n[1]=C("strong",{class:"text-4xl"}," :",-1)),C("span",xN,'"'+xe(t.error.response.status)+'"',1)]),C("p",PN,[n[2]||(n[2]=C("strong",{class:"text-4xl"},":",-1)),C("span",NN,'"'+xe(t.error.message||" ")+'"',1)])])):Xe("",!0),ye(Pi,{class:"mx-auto max-w-[300px]",onClick:n[0]||(n[0]=s=>e.$emit("retry"))},{default:_t(()=>[...n[3]||(n[3]=[He("    ",-1)])]),_:1})]))}}),ON={class:"pagination__list flex justify-center items-center mb-5 pt-5"},kN={class:"w-[30px] h-[30px]"},DN=["disabled"],MN=["disabled","onClick"],LN={class:"w-[30px] h-[30px]"},FN=["disabled"],UN=ke({__name:"BasePagination",setup(t){const e=Nr(),n=Mn();return(s,r)=>(H(),ae(Ne,null,[C("ul",ON,[C("li",kN,[C("button",{class:"flex justify-center items-center w-[30px] h-[30px] cursor-pointer disabled:cursor-not-allowed",disabled:w(n).isLoading,onClick:r[0]||(r[0]=(...i)=>w(e).prevPage&&w(e).prevPage(...i))},[...r[2]||(r[2]=[C("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"size-5"},[C("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 19.5 8.25 12l7.5-7.5"})],-1)])],8,DN)]),(H(!0),ae(Ne,null,di(w(e).displayedPages,i=>(H(),ae("li",{key:i,class:"w-[30px] h-[30px]"},[C("button",{class:$e(["flex justify-center items-center w-[30px] h-[30px] cursor-pointer text-lg bg-gray-600/80 disabled:cursor-not-allowed",w(e).currPage===i?"text-green-500":"text-white"]),disabled:w(n).isLoading,onClick:o=>w(e).goToPage(i)},xe(i),11,MN)]))),128)),C("li",LN,[C("button",{class:"flex justify-center items-center w-[30px] h-[30px] cursor-pointer disabled:cursor-not-allowed",disabled:w(n).isLoading,onClick:r[1]||(r[1]=(...i)=>w(e).nextPage&&w(e).nextPage(...i))},[...r[3]||(r[3]=[C("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"size-5"},[C("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"})],-1)])],8,FN)])]),ye(Pi,{class:"mx-auto",onClick:w(e).loadMore},{default:_t(()=>[...r[4]||(r[4]=[He("   ",-1)])]),_:1},8,["onClick"])],64))}}),BN=zu(UN,[["__scopeId","data-v-b606435e"]]),VN={},$N={class:"text-2xl text-center font-bold"};function HN(t,e){return H(),ae("div",$N,"  ")}const WN=zu(VN,[["render",HN]]),jN={class:"container bg-[#EDEDED] p-5"},GN={key:0},qN={ref:"animeCardContainer",class:"flex justify-center flex-wrap"},zN=ke({__name:"HomeView",setup(t){const e=Pr(),n=Mn(),s=Nr();return(r,i)=>(H(),ae("main",jN,[w(n).homeData&&w(n).isValidApiResponse(w(n).homeData)&&!w(n).customError?(H(),ae("div",GN,[C("div",qN,[(H(!0),ae(Ne,null,di(w(e).data,o=>(H(),Le(Ty,{key:o.id,anime:o},null,8,["anime"]))),128))],512),ye(BN)])):Xe("",!0),w(n).isLoading?(H(),Le(Ku,{key:1})):Xe("",!0),!w(n).homeData||!w(n).isValidApiResponse(w(n).homeData)?(H(),Le(WN,{key:2})):Xe("",!0),w(n).customError?(H(),Le(Ry,{key:3,error:w(n).customError,onRetry:i[0]||(i[0]=o=>w(n).retryAnimeCards(w(s).currPage))},null,8,["error"])):Xe("",!0)]))}}),KN={class:"container bg-[#EDEDED] p-5"},YN={key:0},JN={class:"flex items-start max-[981px]:flex-wrap"},QN={class:"min-h-[200px] w-full max-w-[200px] relative mr-[15px] max-[981px]:mx-auto max-[981px]:mb-[15px] max-[981px]:max-w-[300px]"},XN={class:"block rounded-lg w-full max-h-[250px] max-[981px]:max-h-full",alt:"Poster"},ZN={class:"block absolute top-1.5 left-1.5 text-white bg-green-500 rounded-sm px-[3px] py-[5px] text-[14px] font-semibold"},eO={class:"absolute bottom-0 left-0 right-0 bg-gray-600 min-h-10 rounded-b-lg rounded-bl-lg"},tO={class:"w-full max-w-[70px] px-2.5 py-3 bg-white rounded-[50%] text-xl mx-auto font-bold absolute -top-[30px] left-[50%] -translate-x-[50%] border-4 border-green-700 text-center"},nO={class:"max-w-[900px] mb-[15px]"},sO={class:"block mb-[15px] font-bold text-2xl"},rO={class:"mb-2 text-xl"},iO={class:"mb-2 text-xl"},oO={class:"mb-2 text-xl"},aO={class:"mb-2 text-xl"},lO={class:"mb-2 text-xl"},cO={class:"mb-2 text-xl"},uO={class:"text-lg text-[#888] mb-5"},dO=["href"],fO=ke({__name:"AnimeView",setup(t){const e=Pr(),n=Mn(),s=za(),r=ds(),i=Qc(),o=Pe(Number(i.params.id));return Li(async()=>{const a=await n.fetchAnimeById(o.value),l=e.fillData(a);s.anime=l[0]}),(a,l)=>{const c=Cp("lazy");return H(),ae("main",KN,[w(s).anime?(H(),ae("div",YN,[ye(Pi,{onClick:a.$router.back},{default:_t(()=>[...l[2]||(l[2]=[He(" ",-1)])]),_:1},8,["onClick"]),C("div",JN,[C("div",QN,[_n(C("img",XN,null,512),[[c,{src:w(s).animePoster,loaded:w(s).animePoster,loading:w(s).imagePlaceholder,error:w(s).imagePlaceholder}]]),C("span",ZN,xe(w(s).animeYear),1),C("div",eO,[C("div",tO,xe(w(s).animeScore),1)]),w(r).user?(H(),Le(Sy,{key:0,"is-in-favorites":w(e).isAnimeFavorite(o.value),onClick:l[0]||(l[0]=u=>w(e).favoriteHandler(w(s).anime))},null,8,["is-in-favorites"])):Xe("",!0)]),C("div",null,[C("div",nO,[C("h3",sO,xe(w(s).animeTitle),1),C("ul",null,[C("li",rO,[l[3]||(l[3]=C("span",{class:"font-bold text-lg"}," :",-1)),He(" "+xe(w(s).animeYear),1)]),C("li",iO,[l[4]||(l[4]=C("span",{class:"font-bold text-lg"},":",-1)),He(" "+xe(w(s).animeGenres),1)]),C("li",oO,[l[5]||(l[5]=C("span",{class:"font-bold text-lg"},":",-1)),He(" "+xe(w(s).animeType),1)]),C("li",aO,[l[6]||(l[6]=C("span",{class:"font-bold text-lg"}," :",-1)),He(" "+xe(w(s).animeEpisodes),1)]),C("li",lO,[l[7]||(l[7]=C("span",{class:"font-bold text-lg"},":",-1)),He(" "+xe(w(s).animeStudios),1)]),C("li",cO,[l[8]||(l[8]=C("span",{class:"font-bold text-lg"},":",-1)),He(" "+xe(w(s).animeProducers),1)])]),C("p",uO,[l[9]||(l[9]=C("span",{class:"text-lg font-bold text-[#444]"},":",-1)),He(" "+xe(w(s).animeDescription),1)]),w(s).animeExtendedInfo?(H(),ae("a",{key:0,target:"_blank",href:w(s).animeExtendedInfo,class:"text-cyan-600 font-bold text-lg"}," ",8,dO)):Xe("",!0)])])])])):Xe("",!0),w(n).isLoading?(H(),Le(Ku,{key:1})):Xe("",!0),w(n).customError?(H(),Le(Ry,{key:2,error:w(n).customError,onRetry:l[1]||(l[1]=u=>w(n).retryAnimeById(o.value))},null,8,["error"])):Xe("",!0)])}}}),hO={class:"container bg-[#EDEDED] p-5"},pO={key:0},mO={class:"flex max-[981px]:flex-wrap"},gO={key:1,class:"text-center"},_O=ke({__name:"AnimeFavorites",setup(t){const e=Pr();return(n,s)=>(H(),ae("main",hO,[w(e).favorites.length!==0?(H(),ae("div",pO,[ye(Pi,{onClick:n.$router.back},{default:_t(()=>[...s[0]||(s[0]=[He(" ",-1)])]),_:1},8,["onClick"]),C("div",mO,[(H(!0),ae(Ne,null,di(w(e).favorites,r=>(H(),Le(Ty,{key:r.id,anime:r},null,8,["anime"]))),128))])])):(H(),ae("div",gO,[ye(Pi,{class:"mx-auto",onClick:n.$router.back},{default:_t(()=>[...s[1]||(s[1]=[He(" ",-1)])]),_:1},8,["onClick"]),s[2]||(s[2]=C("p",{class:"text-xl font-bold"},"  ,    :)",-1))]))]))}}),yO=uS({history:HI("/vue3-anime/"),routes:[{path:"/",name:"home",component:zN},{path:"/anime/:id",name:"anime",component:fO},{path:"/favorites",name:"favorites",component:_O}]}),Ay=dE();Ay.use(EE);const vO={timeout:2e3,position:gi.TOP_CENTER,icon:!1,closeButton:!1},to=nm(EN);to.use(Ay);to.use(yO);to.use(OE,{});to.use(Aw,vO);to.mount("#app");
